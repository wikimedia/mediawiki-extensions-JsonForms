{
	"type": "object",
	"options": {
		"layout": {
			"name": "paged"
		}
	},
	"title": "",
	"$schema": "http://json-schema.org/draft-04/schema#",
	"properties": {
		"accidentDetails": {
			"$ref": "#/definitions/accidentDetails",
			"options": {
				"collapsed": true
			}
		},
		"vehicle": {
			"type": "array",
			"items": {
				"$ref": "#/definitions/vehicle"
			},
			"options": {
				"collapsed": true
			}
		},
		"person": {
			"type": "array",
			"items": {
				"$ref": "#/definitions/person"
			},
			"options": {
				"collapsed": true
			}
		},
		"photo": {
			"type": "array",
			"items": {
				"$ref": "#/definitions/photo"
			},
			"options": {
				"collapsed": true
			}
		}
	},
	"definitions": {
		"photo": {
			"type": "object",
			"title": "Photo",
			"required": [
				"_localId",
				"Picture"
			],
			"properties": {
				"Picture": {
					"type": "string",
					"media": {
						"type": "image/jpeg",
						"binaryEncoding": "base64"
					},
					"fieldType": "image"
				},
				"_localId": {
					"type": "string",
					"options": {
						"hidden": true
					},
					"pattern": "^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$"
				},
				"Description": {
					"type": "string",
					"format": "text",
					"isSearchable": true
				}
			},
			"definitions": [],
			"description": "Pictures of the accident",
			"plural_title": "Photos"
		},
		"person": {
			"type": "object",
			"title": "Person",
			"required": [
				"_localId",
				"Injury",
				"vehicle"
			],
			"properties": {
				"Age": {
					"type": "string",
					"format": "number"
				},
				"Sex": {
					"enum": [
						"Male",
						"Female"
					],
					"type": "string",
					"default": ""
				},
				"Name": {
					"type": "string",
					"format": "text"
				},
				"Injury": {
					"enum": [
						"Fatal",
						"Serious",
						"Minor",
						"Not injured"
					],
					"type": "string",
					"default": ""
				},
				"Address": {
					"type": "string",
					"format": "text"
				},
				"vehicle": {
					"type": "string",
					"watch": {
						"target": "vehicle"
					},
					"fieldType": "reference",
					"enumSource": [
						{
							"title": "{{item.vehicle type}} {{item.Make}} {{item.Model}}",
							"value": "{{item._localId}}",
							"source": "target"
						}
					]
				},
				"Hospital": {
					"type": "string",
					"format": "text"
				},
				"_localId": {
					"type": "string",
					"options": {
						"hidden": true
					},
					"pattern": "^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$"
				},
				"Involvment": {
					"enum": [
						"Pedestrian",
						"Witness",
						"Passenger",
						"Driver"
					],
					"type": "string",
					"default": ""
				},
				"Driver error": {
					"enum": [
						"Fatigued/asleep",
						"Inattentive",
						"Too fast",
						"Too close",
						"No signal",
						"Bad overtaking",
						"Bad turning",
						"Using cell phone"
					],
					"type": "string",
					"default": ""
				},
				"Alcohol/drugs": {
					"enum": [
						"Alcohol suspected",
						"Drugs suspected"
					],
					"type": "string",
					"default": ""
				},
				"License number": {
					"type": "string",
					"format": "text"
				},
				"Seat belt/helmet": {
					"enum": [
						"Seat belt/helmet worn",
						"Not worn",
						"Not worn correctly"
					],
					"type": "string",
					"default": ""
				}
			},
			"definitions": [],
			"description": "A person involved in the accident",
			"plural_title": "People"
		},
		"vehicle": {
			"type": "object",
			"title": "Vehicle",
			"required": [
				"_localId",
				"Vehicle type"
			],
			"properties": {
				"Make": {
					"type": "string",
					"format": "text"
				},
				"Model": {
					"type": "string",
					"format": "text"
				},
				"Damage": {
					"enum": [
						"None",
						"Front",
						"Rear",
						"Right",
						"Left",
						"Roof",
						"Multiple"
					],
					"type": "string",
					"default": ""
				},
				"Defect": {
					"enum": [
						"None",
						"Lights",
						"Brakes",
						"Steering",
						"Tires",
						"Multiple"
					],
					"type": "string",
					"default": ""
				},
				"Loading": {
					"enum": [
						"Legal",
						"Over loaded",
						"Unsafe load"
					],
					"type": "string",
					"default": ""
				},
				"Maneuver": {
					"enum": [
						"Left turn",
						"Right turn",
						"\"U\" turn",
						"Cross traffic",
						"Merging",
						"Diverging",
						"Overtaking",
						"Going ahead",
						"Reversing",
						"Sudden start",
						"Sudden stop",
						"Parked off road",
						"Parked on road"
					],
					"type": "string",
					"default": ""
				},
				"_localId": {
					"type": "string",
					"options": {
						"hidden": true
					},
					"pattern": "^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$"
				},
				"Direction": {
					"enum": [
						"North",
						"South",
						"East",
						"West"
					],
					"type": "string",
					"default": ""
				},
				"Plate number": {
					"type": "string",
					"format": "text"
				},
				"Vehicle type": {
					"enum": [
						"Bicycle",
						"Pedicab",
						"Motorcycle",
						"Tricycle",
						"Car",
						"Jeepney",
						"Bus",
						"Truck (Rigid)",
						"Truck (Artic)",
						"Van",
						"Animal"
					],
					"type": "string",
					"default": ""
				},
				"Engine number": {
					"type": "string",
					"format": "text"
				},
				"Chassis number": {
					"type": "string",
					"format": "text"
				},
				"Insurance details": {
					"type": "string",
					"format": "textarea"
				}
			},
			"definitions": [],
			"description": "A vehicle involved in the accident",
			"plural_title": "Vehicles"
		},
		"accidentDetails": {
			"type": "object",
			"title": "Accident Details",
			"details": true,
			"required": [
				"_localId",
				"Severity"
			],
			"properties": {
				"Severity": {
					"enum": [
						"Fatal",
						"Injury",
						"Property"
					],
					"type": "string",
					"isSearchable": true,
					"default": ""
				},
				"_localId": {
					"type": "string",
					"options": {
						"hidden": true
					},
					"pattern": "^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$"
				},
				"Main cause": {
					"enum": [
						"Vehicle defect",
						"Road defect",
						"Human error"
					],
					"type": "string",
					"isSearchable": true,
					"default": ""
				},
				"Description": {
					"type": "string",
					"format": "textarea"
				},
				"Num vehicles": {
					"type": "string",
					"format": "number"
				},
				"Surface type": {
					"enum": [
						"Concrete",
						"Asphalt",
						"Gravel",
						"Earth"
					],
					"type": "string",
					"default": ""
				},
				"Street lights": {
					"enum": [
						"Lit",
						"Unlit"
					],
					"type": "string"
				},
				"Collision type": {
					"enum": [
						"Head on",
						"Rear end",
						"Right angle",
						"Side swipe",
						"Overturned vehicle",
						"Hit object in road",
						"Hit object off road",
						"Hit parked vehicle",
						"Hit pedestrian",
						"Hit animal"
					],
					"type": "string",
					"isSearchable": true,
					"default": ""
				},
				"Traffic control": {
					"enum": [
						"None",
						"Centerline",
						"Pedestrian crossing",
						"School crossing",
						"Police controlled",
						"Traffic lights",
						"Stop sign",
						"Give way"
					],
					"type": "string",
					"default": ""
				},
				"Surface condition": {
					"enum": [
						"Dry",
						"Wet",
						"Muddy",
						"Flooded"
					],
					"type": "string",
					"default": ""
				},
				"Num driver casualties": {
					"type": "string",
					"format": "number",
					"isSearchable": true
				},
				"Num passenger casualties": {
					"type": "string",
					"format": "number"
				},
				"Num pedestrian casualties": {
					"type": "string",
					"format": "number"
				}
			},
			"definitions": [],
			"description": "Details for Accident",
			"plural_title": "Accident Details"
		}
	},
	"description": "",
	"plural_title": ""
}

