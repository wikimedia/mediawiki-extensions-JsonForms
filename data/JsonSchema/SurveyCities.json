{
	"$schema": "https://json-schema.org/draft/2020-12/schema",
	"$id": "https://example.com/schemas/european-statistics-data.schema.json",
	"title": "European Countries Statistics Data",
	"description": "Nested statistical data per country, main city, and employment status",
	"type": "object",
	"options": {
		"layout": {
			"name": "survey"
		}
	},
	"definitions": {
		"inputOptions": {
			"options": {
				"input": {
					"config": {
						"labelPosition": "before",
						"label": "%",
						"step": "0.1",
						"showButtons": false
					}
				}
			}
		},
		"leaf": {
			"type": "object",
			"layout": "column",
			"properties": {
				"population": {
					"type": "number",
					"$ref": "#/definitions/inputOptions"
				},
				"avg_age": {
					"type": "number",
					"$ref": "#/definitions/inputOptions"
				},
				"male_percentage": {
					"type": "number",
					"$ref": "#/definitions/inputOptions"
				},
				"female_percentage": {
					"type": "number",
					"$ref": "#/definitions/inputOptions"
				}
			},
			"required": []
		},
		"employmentGroup": {
			"type": "object",
			"layout": "row",
			"properties": {
				"employed": {
					"$ref": "#/definitions/leaf"
				},
				"unemployed": {
					"$ref": "#/definitions/leaf"
				}
			},
			"required": [
				"employed",
				"unemployed"
			]
		},
		"countryRow": {
			"type": "object",
			"layout": "row",
			"properties": {},
			"required": []
		}
	},
	"properties": {
		"UK": {
			"$ref": "#/definitions/countryRow",
			"properties": {
				"London": {
					"$ref": "#/definitions/employmentGroup"
				},
				"Manchester": {
					"$ref": "#/definitions/employmentGroup"
				},
				"Edinburgh": {
					"$ref": "#/definitions/employmentGroup"
				}
			},
			"required": [
				"London",
				"Manchester",
				"Edinburgh"
			]
		},
		"Italy": {
			"$ref": "#/definitions/countryRow",
			"properties": {
				"Rome": {
					"$ref": "#/definitions/employmentGroup"
				},
				"Milan": {
					"$ref": "#/definitions/employmentGroup"
				},
				"Naples": {
					"$ref": "#/definitions/employmentGroup"
				}
			},
			"required": [
				"Rome",
				"Milan",
				"Naples"
			]
		},
		"Austria": {
			"$ref": "#/definitions/countryRow",
			"properties": {
				"Vienna": {
					"$ref": "#/definitions/employmentGroup"
				},
				"Graz": {
					"$ref": "#/definitions/employmentGroup"
				},
				"Salzburg": {
					"$ref": "#/definitions/employmentGroup"
				}
			},
			"required": [
				"Vienna",
				"Graz",
				"Salzburg"
			]
		},
		"Germany": {
			"$ref": "#/definitions/countryRow",
			"properties": {
				"Berlin": {
					"$ref": "#/definitions/employmentGroup"
				},
				"Munich": {
					"$ref": "#/definitions/employmentGroup"
				},
				"Hamburg": {
					"$ref": "#/definitions/employmentGroup"
				}
			},
			"required": [
				"Berlin",
				"Munich",
				"Hamburg"
			]
		}
	},
	"required": [
		"UK",
		"Italy",
		"Austria",
		"Germany"
	]
}

