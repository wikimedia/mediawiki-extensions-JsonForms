 /**
  * @name JSON Editor
  * @description JSON Schema Based Editor
  * Refactor of https://github.com/json-editor/json-editor
  * @version "0.6"
  * @author https://github.com/json-editor/json-editor/graphs/contributors
  * @author thomas-topway-it support@topway.it
  * @license MIT
  * @example see README.md and docs/ for requirements, examples and usage info
  */
!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}(self,(()=>(()=>{"use strict";var t={9306:(t,e,r)=>{var n=r(4901),i=r(6823),o=TypeError;t.exports=function(t){if(n(t))return t;throw new o(i(t)+" is not a function")}},5548:(t,e,r)=>{var n=r(3517),i=r(6823),o=TypeError;t.exports=function(t){if(n(t))return t;throw new o(i(t)+" is not a constructor")}},3506:(t,e,r)=>{var n=r(3925),i=String,o=TypeError;t.exports=function(t){if(n(t))return t;throw new o("Can't set "+i(t)+" as a prototype")}},6469:(t,e,r)=>{var n=r(8227),i=r(2360),o=r(4913).f,a=n("unscopables"),s=Array.prototype;void 0===s[a]&&o(s,a,{configurable:!0,value:i(null)}),t.exports=function(t){s[a][t]=!0}},7829:(t,e,r)=>{var n=r(8183).charAt;t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},679:(t,e,r)=>{var n=r(1625),i=TypeError;t.exports=function(t,e){if(n(e,t))return t;throw new i("Incorrect invocation")}},8551:(t,e,r)=>{var n=r(34),i=String,o=TypeError;t.exports=function(t){if(n(t))return t;throw new o(i(t)+" is not an object")}},5652:(t,e,r)=>{var n=r(9039);t.exports=n((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},235:(t,e,r)=>{var n=r(9213).forEach,i=r(4598)("forEach");t.exports=i?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},7916:(t,e,r)=>{var n=r(6080),i=r(9565),o=r(8981),a=r(6319),s=r(4209),u=r(3517),c=r(6198),l=r(4659),h=r(81),p=r(851),f=Array;t.exports=function(t){var e=o(t),r=u(this),d=arguments.length,y=d>1?arguments[1]:void 0,m=void 0!==y;m&&(y=n(y,d>2?arguments[2]:void 0));var v,b,g,w,O,_,j=p(e),k=0;if(!j||this===f&&s(j))for(v=c(e),b=r?new this(v):f(v);v>k;k++)_=m?y(e[k],k):e[k],l(b,k,_);else for(b=r?new this:[],O=(w=h(e,j)).next;!(g=i(O,w)).done;k++)_=m?a(w,y,[g.value,k],!0):g.value,l(b,k,_);return b.length=k,b}},9617:(t,e,r)=>{var n=r(5397),i=r(5610),o=r(6198),a=function(t){return function(e,r,a){var s=n(e),u=o(s);if(0===u)return!t&&-1;var c,l=i(a,u);if(t&&r!=r){for(;u>l;)if((c=s[l++])!=c)return!0}else for(;u>l;l++)if((t||l in s)&&s[l]===r)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},9213:(t,e,r)=>{var n=r(6080),i=r(9504),o=r(7055),a=r(8981),s=r(6198),u=r(1469),c=i([].push),l=function(t){var e=1===t,r=2===t,i=3===t,l=4===t,h=6===t,p=7===t,f=5===t||h;return function(d,y,m,v){for(var b,g,w=a(d),O=o(w),_=s(O),j=n(y,m),k=0,x=v||u,S=e?x(d,_):r||p?x(d,0):void 0;_>k;k++)if((f||k in O)&&(g=j(b=O[k],k,w),t))if(e)S[k]=g;else if(g)switch(t){case 3:return!0;case 5:return b;case 6:return k;case 2:c(S,b)}else switch(t){case 4:return!1;case 7:c(S,b)}return h?-1:i||l?l:S}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},597:(t,e,r)=>{var n=r(9039),i=r(8227),o=r(7388),a=i("species");t.exports=function(t){return o>=51||!n((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},4598:(t,e,r)=>{var n=r(9039);t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){return 1},1)}))}},926:(t,e,r)=>{var n=r(9306),i=r(8981),o=r(7055),a=r(6198),s=TypeError,u="Reduce of empty array with no initial value",c=function(t){return function(e,r,c,l){var h=i(e),p=o(h),f=a(h);if(n(r),0===f&&c<2)throw new s(u);var d=t?f-1:0,y=t?-1:1;if(c<2)for(;;){if(d in p){l=p[d],d+=y;break}if(d+=y,t?d<0:f<=d)throw new s(u)}for(;t?d>=0:f>d;d+=y)d in p&&(l=r(l,p[d],d,h));return l}};t.exports={left:c(!1),right:c(!0)}},4527:(t,e,r)=>{var n=r(3724),i=r(4376),o=TypeError,a=Object.getOwnPropertyDescriptor,s=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=s?function(t,e){if(i(t)&&!a(t,"length").writable)throw new o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},7680:(t,e,r)=>{var n=r(9504);t.exports=n([].slice)},4488:(t,e,r)=>{var n=r(7680),i=Math.floor,o=function(t,e){var r=t.length;if(r<8)for(var a,s,u=1;u<r;){for(s=u,a=t[u];s&&e(t[s-1],a)>0;)t[s]=t[--s];s!==u++&&(t[s]=a)}else for(var c=i(r/2),l=o(n(t,0,c),e),h=o(n(t,c),e),p=l.length,f=h.length,d=0,y=0;d<p||y<f;)t[d+y]=d<p&&y<f?e(l[d],h[y])<=0?l[d++]:h[y++]:d<p?l[d++]:h[y++];return t};t.exports=o},7433:(t,e,r)=>{var n=r(4376),i=r(3517),o=r(34),a=r(8227)("species"),s=Array;t.exports=function(t){var e;return n(t)&&(e=t.constructor,(i(e)&&(e===s||n(e.prototype))||o(e)&&null===(e=e[a]))&&(e=void 0)),void 0===e?s:e}},1469:(t,e,r)=>{var n=r(7433);t.exports=function(t,e){return new(n(t))(0===e?0:e)}},6319:(t,e,r)=>{var n=r(8551),i=r(9539);t.exports=function(t,e,r,o){try{return o?e(n(r)[0],r[1]):e(r)}catch(e){i(t,"throw",e)}}},4428:(t,e,r)=>{var n=r(8227)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){try{if(!e&&!i)return!1}catch(t){return!1}var r=!1;try{var o={};o[n]=function(){return{next:function(){return{done:r=!0}}}},t(o)}catch(t){}return r}},4576:(t,e,r)=>{var n=r(9504),i=n({}.toString),o=n("".slice);t.exports=function(t){return o(i(t),8,-1)}},6955:(t,e,r)=>{var n=r(2140),i=r(4901),o=r(4576),a=r(8227)("toStringTag"),s=Object,u="Arguments"===o(function(){return arguments}());t.exports=n?o:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=s(t),a))?r:u?o(e):"Object"===(n=o(e))&&i(e.callee)?"Arguments":n}},6938:(t,e,r)=>{var n=r(2360),i=r(2106),o=r(6279),a=r(6080),s=r(679),u=r(4117),c=r(2652),l=r(1088),h=r(2529),p=r(7633),f=r(3724),d=r(3451).fastKey,y=r(1181),m=y.set,v=y.getterFor;t.exports={getConstructor:function(t,e,r,l){var h=t((function(t,i){s(t,p),m(t,{type:e,index:n(null),first:void 0,last:void 0,size:0}),f||(t.size=0),u(i)||c(i,t[l],{that:t,AS_ENTRIES:r})})),p=h.prototype,y=v(e),b=function(t,e,r){var n,i,o=y(t),a=g(t,e);return a?a.value=r:(o.last=a={index:i=d(e,!0),key:e,value:r,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=a),n&&(n.next=a),f?o.size++:t.size++,"F"!==i&&(o.index[i]=a)),t},g=function(t,e){var r,n=y(t),i=d(e);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key===e)return r};return o(p,{clear:function(){for(var t=y(this),e=t.first;e;)e.removed=!0,e.previous&&(e.previous=e.previous.next=void 0),e=e.next;t.first=t.last=void 0,t.index=n(null),f?t.size=0:this.size=0},delete:function(t){var e=this,r=y(e),n=g(e,t);if(n){var i=n.next,o=n.previous;delete r.index[n.index],n.removed=!0,o&&(o.next=i),i&&(i.previous=o),r.first===n&&(r.first=i),r.last===n&&(r.last=o),f?r.size--:e.size--}return!!n},forEach:function(t){for(var e,r=y(this),n=a(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!g(this,t)}}),o(p,r?{get:function(t){var e=g(this,t);return e&&e.value},set:function(t,e){return b(this,0===t?0:t,e)}}:{add:function(t){return b(this,t=0===t?0:t,t)}}),f&&i(p,"size",{configurable:!0,get:function(){return y(this).size}}),h},setStrong:function(t,e,r){var n=e+" Iterator",i=v(e),o=v(n);l(t,e,(function(t,e){m(this,{type:n,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?h("keys"===e?r.key:"values"===e?r.value:[r.key,r.value],!1):(t.target=void 0,h(void 0,!0))}),r?"entries":"values",!r,!0),p(e)}}},4006:(t,e,r)=>{var n=r(9504),i=r(6279),o=r(3451).getWeakData,a=r(679),s=r(8551),u=r(4117),c=r(34),l=r(2652),h=r(9213),p=r(9297),f=r(1181),d=f.set,y=f.getterFor,m=h.find,v=h.findIndex,b=n([].splice),g=0,w=function(t){return t.frozen||(t.frozen=new O)},O=function(){this.entries=[]},_=function(t,e){return m(t.entries,(function(t){return t[0]===e}))};O.prototype={get:function(t){var e=_(this,t);if(e)return e[1]},has:function(t){return!!_(this,t)},set:function(t,e){var r=_(this,t);r?r[1]=e:this.entries.push([t,e])},delete:function(t){var e=v(this.entries,(function(e){return e[0]===t}));return~e&&b(this.entries,e,1),!!~e}},t.exports={getConstructor:function(t,e,r,n){var h=t((function(t,i){a(t,f),d(t,{type:e,id:g++,frozen:void 0}),u(i)||l(i,t[n],{that:t,AS_ENTRIES:r})})),f=h.prototype,m=y(e),v=function(t,e,r){var n=m(t),i=o(s(e),!0);return!0===i?w(n).set(e,r):i[n.id]=r,t};return i(f,{delete:function(t){var e=m(this);if(!c(t))return!1;var r=o(t);return!0===r?w(e).delete(t):r&&p(r,e.id)&&delete r[e.id]},has:function(t){var e=m(this);if(!c(t))return!1;var r=o(t);return!0===r?w(e).has(t):r&&p(r,e.id)}}),i(f,r?{get:function(t){var e=m(this);if(c(t)){var r=o(t);return!0===r?w(e).get(t):r?r[e.id]:void 0}},set:function(t,e){return v(this,t,e)}}:{add:function(t){return v(this,t,!0)}}),h}}},6468:(t,e,r)=>{var n=r(6518),i=r(4475),o=r(9504),a=r(2796),s=r(6840),u=r(3451),c=r(2652),l=r(679),h=r(4901),p=r(4117),f=r(34),d=r(9039),y=r(4428),m=r(687),v=r(3167);t.exports=function(t,e,r){var b=-1!==t.indexOf("Map"),g=-1!==t.indexOf("Weak"),w=b?"set":"add",O=i[t],_=O&&O.prototype,j=O,k={},x=function(t){var e=o(_[t]);s(_,t,"add"===t?function(t){return e(this,0===t?0:t),this}:"delete"===t?function(t){return!(g&&!f(t))&&e(this,0===t?0:t)}:"get"===t?function(t){return g&&!f(t)?void 0:e(this,0===t?0:t)}:"has"===t?function(t){return!(g&&!f(t))&&e(this,0===t?0:t)}:function(t,r){return e(this,0===t?0:t,r),this})};if(a(t,!h(O)||!(g||_.forEach&&!d((function(){(new O).entries().next()})))))j=r.getConstructor(e,t,b,w),u.enable();else if(a(t,!0)){var S=new j,P=S[w](g?{}:-0,1)!==S,E=d((function(){S.has(1)})),C=y((function(t){new O(t)})),T=!g&&d((function(){for(var t=new O,e=5;e--;)t[w](e,e);return!t.has(-0)}));C||((j=e((function(t,e){l(t,_);var r=v(new O,t,j);return p(e)||c(e,r[w],{that:r,AS_ENTRIES:b}),r}))).prototype=_,_.constructor=j),(E||T)&&(x("delete"),x("has"),b&&x("get")),(T||P)&&x(w),g&&_.clear&&delete _.clear}return k[t]=j,n({global:!0,constructor:!0,forced:j!==O},k),m(j,t),g||r.setStrong(j,t,b),j}},7740:(t,e,r)=>{var n=r(9297),i=r(5031),o=r(7347),a=r(4913);t.exports=function(t,e,r){for(var s=i(e),u=a.f,c=o.f,l=0;l<s.length;l++){var h=s[l];n(t,h)||r&&n(r,h)||u(t,h,c(e,h))}}},1436:(t,e,r)=>{var n=r(8227)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,"/./"[t](e)}catch(t){}}return!1}},2211:(t,e,r)=>{var n=r(9039);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},7240:(t,e,r)=>{var n=r(9504),i=r(7750),o=r(655),a=/"/g,s=n("".replace);t.exports=function(t,e,r,n){var u=o(i(t)),c="<"+e;return""!==r&&(c+=" "+r+'="'+s(o(n),a,"&quot;")+'"'),c+">"+u+"</"+e+">"}},2529:t=>{t.exports=function(t,e){return{value:t,done:e}}},6699:(t,e,r)=>{var n=r(3724),i=r(4913),o=r(6980);t.exports=n?function(t,e,r){return i.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},6980:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},4659:(t,e,r)=>{var n=r(3724),i=r(4913),o=r(6980);t.exports=function(t,e,r){n?i.f(t,e,o(0,r)):t[e]=r}},380:(t,e,r)=>{var n=r(9504),i=r(9039),o=r(533).start,a=RangeError,s=isFinite,u=Math.abs,c=Date.prototype,l=c.toISOString,h=n(c.getTime),p=n(c.getUTCDate),f=n(c.getUTCFullYear),d=n(c.getUTCHours),y=n(c.getUTCMilliseconds),m=n(c.getUTCMinutes),v=n(c.getUTCMonth),b=n(c.getUTCSeconds);t.exports=i((function(){return"0385-07-25T07:06:39.999Z"!==l.call(new Date(-50000000000001))}))||!i((function(){l.call(new Date(NaN))}))?function(){if(!s(h(this)))throw new a("Invalid time value");var t=this,e=f(t),r=y(t),n=e<0?"-":e>9999?"+":"";return n+o(u(e),n?6:4,0)+"-"+o(v(t)+1,2,0)+"-"+o(p(t),2,0)+"T"+o(d(t),2,0)+":"+o(m(t),2,0)+":"+o(b(t),2,0)+"."+o(r,3,0)+"Z"}:l},3640:(t,e,r)=>{var n=r(8551),i=r(4270),o=TypeError;t.exports=function(t){if(n(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw new o("Incorrect hint");return i(this,t)}},2106:(t,e,r)=>{var n=r(283),i=r(4913);t.exports=function(t,e,r){return r.get&&n(r.get,e,{getter:!0}),r.set&&n(r.set,e,{setter:!0}),i.f(t,e,r)}},6840:(t,e,r)=>{var n=r(4901),i=r(4913),o=r(283),a=r(9433);t.exports=function(t,e,r,s){s||(s={});var u=s.enumerable,c=void 0!==s.name?s.name:e;if(n(r)&&o(r,c,s),s.global)u?t[e]=r:a(e,r);else{try{s.unsafe?t[e]&&(u=!0):delete t[e]}catch(t){}u?t[e]=r:i.f(t,e,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t}},6279:(t,e,r)=>{var n=r(6840);t.exports=function(t,e,r){for(var i in e)n(t,i,e[i],r);return t}},9433:(t,e,r)=>{var n=r(4475),i=Object.defineProperty;t.exports=function(t,e){try{i(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},4606:(t,e,r)=>{var n=r(6823),i=TypeError;t.exports=function(t,e){if(!delete t[e])throw new i("Cannot delete property "+n(e)+" of "+n(t))}},3724:(t,e,r)=>{var n=r(9039);t.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4055:(t,e,r)=>{var n=r(4475),i=r(34),o=n.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},6837:t=>{var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},7400:t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},9296:(t,e,r)=>{var n=r(4055)("span").classList,i=n&&n.constructor&&n.constructor.prototype;t.exports=i===Object.prototype?void 0:i},8834:(t,e,r)=>{var n=r(9392).match(/firefox\/(\d+)/i);t.exports=!!n&&+n[1]},7290:(t,e,r)=>{var n=r(516),i=r(9088);t.exports=!n&&!i&&"object"==typeof window&&"object"==typeof document},6763:t=>{t.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},516:t=>{t.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},3202:(t,e,r)=>{var n=r(9392);t.exports=/MSIE|Trident/.test(n)},28:(t,e,r)=>{var n=r(9392);t.exports=/ipad|iphone|ipod/i.test(n)&&"undefined"!=typeof Pebble},8119:(t,e,r)=>{var n=r(9392);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},9088:(t,e,r)=>{var n=r(4475),i=r(4576);t.exports="process"===i(n.process)},6765:(t,e,r)=>{var n=r(9392);t.exports=/web0s(?!.*chrome)/i.test(n)},9392:t=>{t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7388:(t,e,r)=>{var n,i,o=r(4475),a=r(9392),s=o.process,u=o.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(i=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(i=+n[1]),t.exports=i},9160:(t,e,r)=>{var n=r(9392).match(/AppleWebKit\/(\d+)\./);t.exports=!!n&&+n[1]},8727:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6518:(t,e,r)=>{var n=r(4475),i=r(7347).f,o=r(6699),a=r(6840),s=r(9433),u=r(7740),c=r(2796);t.exports=function(t,e){var r,l,h,p,f,d=t.target,y=t.global,m=t.stat;if(r=y?n:m?n[d]||s(d,{}):n[d]&&n[d].prototype)for(l in e){if(p=e[l],h=t.dontCallGetSet?(f=i(r,l))&&f.value:r[l],!c(y?l:d+(m?".":"#")+l,t.forced)&&void 0!==h){if(typeof p==typeof h)continue;u(p,h)}(t.sham||h&&h.sham)&&o(p,"sham",!0),a(r,l,p,t)}}},9039:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},9228:(t,e,r)=>{r(7495);var n=r(9565),i=r(6840),o=r(7323),a=r(9039),s=r(8227),u=r(6699),c=s("species"),l=RegExp.prototype;t.exports=function(t,e,r,h){var p=s(t),f=!a((function(){var e={};return e[p]=function(){return 7},7!==""[t](e)})),d=f&&!a((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[c]=function(){return r},r.flags="",r[p]=/./[p]),r.exec=function(){return e=!0,null},r[p](""),!e}));if(!f||!d||r){var y=/./[p],m=e(p,""[t],(function(t,e,r,i,a){var s=e.exec;return s===o||s===l.exec?f&&!a?{done:!0,value:n(y,e,r,i)}:{done:!0,value:n(t,r,e,i)}:{done:!1}}));i(String.prototype,t,m[0]),i(l,p,m[1])}h&&u(l[p],"sham",!0)}},259:(t,e,r)=>{var n=r(4376),i=r(6198),o=r(6837),a=r(6080),s=function(t,e,r,u,c,l,h,p){for(var f,d,y=c,m=0,v=!!h&&a(h,p);m<u;)m in r&&(f=v?v(r[m],m,e):r[m],l>0&&n(f)?(d=i(f),y=s(t,e,f,d,y,l-1)-1):(o(y+1),t[y]=f),y++),m++;return y};t.exports=s},2744:(t,e,r)=>{var n=r(9039);t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},8745:(t,e,r)=>{var n=r(616),i=Function.prototype,o=i.apply,a=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?a.bind(o):function(){return a.apply(o,arguments)})},6080:(t,e,r)=>{var n=r(7476),i=r(9306),o=r(616),a=n(n.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?a(t,e):function(){return t.apply(e,arguments)}}},616:(t,e,r)=>{var n=r(9039);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},566:(t,e,r)=>{var n=r(9504),i=r(9306),o=r(34),a=r(9297),s=r(7680),u=r(616),c=Function,l=n([].concat),h=n([].join),p={};t.exports=u?c.bind:function(t){var e=i(this),r=e.prototype,n=s(arguments,1),u=function(){var r=l(n,s(arguments));return this instanceof u?function(t,e,r){if(!a(p,e)){for(var n=[],i=0;i<e;i++)n[i]="a["+i+"]";p[e]=c("C,a","return new C("+h(n,",")+")")}return p[e](t,r)}(e,r.length,r):e.apply(t,r)};return o(r)&&(u.prototype=r),u}},9565:(t,e,r)=>{var n=r(616),i=Function.prototype.call;t.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},350:(t,e,r)=>{var n=r(3724),i=r(9297),o=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,s=i(o,"name"),u=s&&"something"===function(){}.name,c=s&&(!n||n&&a(o,"name").configurable);t.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},6706:(t,e,r)=>{var n=r(9504),i=r(9306);t.exports=function(t,e,r){try{return n(i(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(t){}}},7476:(t,e,r)=>{var n=r(4576),i=r(9504);t.exports=function(t){if("Function"===n(t))return i(t)}},9504:(t,e,r)=>{var n=r(616),i=Function.prototype,o=i.call,a=n&&i.bind.bind(o,o);t.exports=n?a:function(t){return function(){return o.apply(t,arguments)}}},7751:(t,e,r)=>{var n=r(4475),i=r(4901);t.exports=function(t,e){return arguments.length<2?(r=n[t],i(r)?r:void 0):n[t]&&n[t][e];var r}},851:(t,e,r)=>{var n=r(6955),i=r(5966),o=r(4117),a=r(6269),s=r(8227)("iterator");t.exports=function(t){if(!o(t))return i(t,s)||i(t,"@@iterator")||a[n(t)]}},81:(t,e,r)=>{var n=r(9565),i=r(9306),o=r(8551),a=r(6823),s=r(851),u=TypeError;t.exports=function(t,e){var r=arguments.length<2?s(t):e;if(i(r))return o(n(r,t));throw new u(a(t)+" is not iterable")}},6933:(t,e,r)=>{var n=r(9504),i=r(4376),o=r(4901),a=r(4576),s=r(655),u=n([].push);t.exports=function(t){if(o(t))return t;if(i(t)){for(var e=t.length,r=[],n=0;n<e;n++){var c=t[n];"string"==typeof c?u(r,c):"number"!=typeof c&&"Number"!==a(c)&&"String"!==a(c)||u(r,s(c))}var l=r.length,h=!0;return function(t,e){if(h)return h=!1,e;if(i(this))return e;for(var n=0;n<l;n++)if(r[n]===t)return e}}}},5966:(t,e,r)=>{var n=r(9306),i=r(4117);t.exports=function(t,e){var r=t[e];return i(r)?void 0:n(r)}},2478:(t,e,r)=>{var n=r(9504),i=r(8981),o=Math.floor,a=n("".charAt),s=n("".replace),u=n("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,r,n,h,p){var f=r+t.length,d=n.length,y=l;return void 0!==h&&(h=i(h),y=c),s(p,y,(function(i,s){var c;switch(a(s,0)){case"$":return"$";case"&":return t;case"`":return u(e,0,r);case"'":return u(e,f);case"<":c=h[u(s,1,-1)];break;default:var l=+s;if(0===l)return i;if(l>d){var p=o(l/10);return 0===p?i:p<=d?void 0===n[p-1]?a(s,1):n[p-1]+a(s,1):i}c=n[l-1]}return void 0===c?"":c}))}},4475:function(t,e,r){var n=function(t){return t&&t.Math===Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:(t,e,r)=>{var n=r(9504),i=r(8981),o=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},421:t=>{t.exports={}},3138:t=>{t.exports=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(t){}}},397:(t,e,r)=>{var n=r(7751);t.exports=n("document","documentElement")},5917:(t,e,r)=>{var n=r(3724),i=r(9039),o=r(4055);t.exports=!n&&!i((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},7055:(t,e,r)=>{var n=r(9504),i=r(9039),o=r(4576),a=Object,s=n("".split);t.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"===o(t)?s(t,""):a(t)}:a},3167:(t,e,r)=>{var n=r(4901),i=r(34),o=r(2967);t.exports=function(t,e,r){var a,s;return o&&n(a=e.constructor)&&a!==r&&i(s=a.prototype)&&s!==r.prototype&&o(t,s),t}},3706:(t,e,r)=>{var n=r(9504),i=r(4901),o=r(7629),a=n(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),t.exports=o.inspectSource},3451:(t,e,r)=>{var n=r(6518),i=r(9504),o=r(421),a=r(34),s=r(9297),u=r(4913).f,c=r(8480),l=r(298),h=r(4124),p=r(3392),f=r(2744),d=!1,y=p("meta"),m=0,v=function(t){u(t,y,{value:{objectID:"O"+m++,weakData:{}}})},b=t.exports={enable:function(){b.enable=function(){},d=!0;var t=c.f,e=i([].splice),r={};r[y]=1,t(r).length&&(c.f=function(r){for(var n=t(r),i=0,o=n.length;i<o;i++)if(n[i]===y){e(n,i,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,y)){if(!h(t))return"F";if(!e)return"E";v(t)}return t[y].objectID},getWeakData:function(t,e){if(!s(t,y)){if(!h(t))return!0;if(!e)return!1;v(t)}return t[y].weakData},onFreeze:function(t){return f&&d&&h(t)&&!s(t,y)&&v(t),t}};o[y]=!0},1181:(t,e,r)=>{var n,i,o,a=r(8622),s=r(4475),u=r(34),c=r(6699),l=r(9297),h=r(7629),p=r(6119),f=r(421),d="Object already initialized",y=s.TypeError,m=s.WeakMap;if(a||h.state){var v=h.state||(h.state=new m);v.get=v.get,v.has=v.has,v.set=v.set,n=function(t,e){if(v.has(t))throw new y(d);return e.facade=t,v.set(t,e),e},i=function(t){return v.get(t)||{}},o=function(t){return v.has(t)}}else{var b=p("state");f[b]=!0,n=function(t,e){if(l(t,b))throw new y(d);return e.facade=t,c(t,b,e),e},i=function(t){return l(t,b)?t[b]:{}},o=function(t){return l(t,b)}}t.exports={set:n,get:i,has:o,enforce:function(t){return o(t)?i(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!u(e)||(r=i(e)).type!==t)throw new y("Incompatible receiver, "+t+" required");return r}}}},4209:(t,e,r)=>{var n=r(8227),i=r(6269),o=n("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},4376:(t,e,r)=>{var n=r(4576);t.exports=Array.isArray||function(t){return"Array"===n(t)}},4901:t=>{var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},3517:(t,e,r)=>{var n=r(9504),i=r(9039),o=r(4901),a=r(6955),s=r(7751),u=r(3706),c=function(){},l=s("Reflect","construct"),h=/^\s*(?:class|function)\b/,p=n(h.exec),f=!h.test(c),d=function(t){if(!o(t))return!1;try{return l(c,[],t),!0}catch(t){return!1}},y=function(t){if(!o(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!p(h,u(t))}catch(t){return!0}};y.sham=!0,t.exports=!l||i((function(){var t;return d(d.call)||!d(Object)||!d((function(){t=!0}))||t}))?y:d},6575:(t,e,r)=>{var n=r(9297);t.exports=function(t){return void 0!==t&&(n(t,"value")||n(t,"writable"))}},2796:(t,e,r)=>{var n=r(9039),i=r(4901),o=/#|\.prototype\./,a=function(t,e){var r=u[s(t)];return r===l||r!==c&&(i(e)?n(e):!!e)},s=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},4117:t=>{t.exports=function(t){return null==t}},34:(t,e,r)=>{var n=r(4901);t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},3925:(t,e,r)=>{var n=r(34);t.exports=function(t){return n(t)||null===t}},6395:t=>{t.exports=!1},788:(t,e,r)=>{var n=r(34),i=r(4576),o=r(8227)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"===i(t))}},757:(t,e,r)=>{var n=r(7751),i=r(4901),o=r(1625),a=r(7040),s=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return i(e)&&o(e.prototype,s(t))}},2652:(t,e,r)=>{var n=r(6080),i=r(9565),o=r(8551),a=r(6823),s=r(4209),u=r(6198),c=r(1625),l=r(81),h=r(851),p=r(9539),f=TypeError,d=function(t,e){this.stopped=t,this.result=e},y=d.prototype;t.exports=function(t,e,r){var m,v,b,g,w,O,_,j=r&&r.that,k=!(!r||!r.AS_ENTRIES),x=!(!r||!r.IS_RECORD),S=!(!r||!r.IS_ITERATOR),P=!(!r||!r.INTERRUPTED),E=n(e,j),C=function(t){return m&&p(m,"normal",t),new d(!0,t)},T=function(t){return k?(o(t),P?E(t[0],t[1],C):E(t[0],t[1])):P?E(t,C):E(t)};if(x)m=t.iterator;else if(S)m=t;else{if(!(v=h(t)))throw new f(a(t)+" is not iterable");if(s(v)){for(b=0,g=u(t);g>b;b++)if((w=T(t[b]))&&c(y,w))return w;return new d(!1)}m=l(t,v)}for(O=x?t.next:m.next;!(_=i(O,m)).done;){try{w=T(_.value)}catch(t){p(m,"throw",t)}if("object"==typeof w&&w&&c(y,w))return w}return new d(!1)}},9539:(t,e,r)=>{var n=r(9565),i=r(8551),o=r(5966);t.exports=function(t,e,r){var a,s;i(t);try{if(!(a=o(t,"return"))){if("throw"===e)throw r;return r}a=n(a,t)}catch(t){s=!0,a=t}if("throw"===e)throw r;if(s)throw a;return i(a),r}},3994:(t,e,r)=>{var n=r(7657).IteratorPrototype,i=r(2360),o=r(6980),a=r(687),s=r(6269),u=function(){return this};t.exports=function(t,e,r,c){var l=e+" Iterator";return t.prototype=i(n,{next:o(+!c,r)}),a(t,l,!1,!0),s[l]=u,t}},1088:(t,e,r)=>{var n=r(6518),i=r(9565),o=r(6395),a=r(350),s=r(4901),u=r(3994),c=r(2787),l=r(2967),h=r(687),p=r(6699),f=r(6840),d=r(8227),y=r(6269),m=r(7657),v=a.PROPER,b=a.CONFIGURABLE,g=m.IteratorPrototype,w=m.BUGGY_SAFARI_ITERATORS,O=d("iterator"),_="keys",j="values",k="entries",x=function(){return this};t.exports=function(t,e,r,a,d,m,S){u(r,e,a);var P,E,C,T=function(t){if(t===d&&N)return N;if(!w&&t&&t in R)return R[t];switch(t){case _:case j:case k:return function(){return new r(this,t)}}return function(){return new r(this)}},A=e+" Iterator",I=!1,R=t.prototype,L=R[O]||R["@@iterator"]||d&&R[d],N=!w&&L||T(d),B="Array"===e&&R.entries||L;if(B&&(P=c(B.call(new t)))!==Object.prototype&&P.next&&(o||c(P)===g||(l?l(P,g):s(P[O])||f(P,O,x)),h(P,A,!0,!0),o&&(y[A]=x)),v&&d===j&&L&&L.name!==j&&(!o&&b?p(R,"name",j):(I=!0,N=function(){return i(L,this)})),d)if(E={values:T(j),keys:m?N:T(_),entries:T(k)},S)for(C in E)(w||I||!(C in R))&&f(R,C,E[C]);else n({target:e,proto:!0,forced:w||I},E);return o&&!S||R[O]===N||f(R,O,N,{name:d}),y[e]=N,E}},7657:(t,e,r)=>{var n,i,o,a=r(9039),s=r(4901),u=r(34),c=r(2360),l=r(2787),h=r(6840),p=r(8227),f=r(6395),d=p("iterator"),y=!1;[].keys&&("next"in(o=[].keys())?(i=l(l(o)))!==Object.prototype&&(n=i):y=!0),!u(n)||a((function(){var t={};return n[d].call(t)!==t}))?n={}:f&&(n=c(n)),s(n[d])||h(n,d,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:y}},6269:t=>{t.exports={}},6198:(t,e,r)=>{var n=r(8014);t.exports=function(t){return n(t.length)}},283:(t,e,r)=>{var n=r(9504),i=r(9039),o=r(4901),a=r(9297),s=r(3724),u=r(350).CONFIGURABLE,c=r(3706),l=r(1181),h=l.enforce,p=l.get,f=String,d=Object.defineProperty,y=n("".slice),m=n("".replace),v=n([].join),b=s&&!i((function(){return 8!==d((function(){}),"length",{value:8}).length})),g=String(String).split("String"),w=t.exports=function(t,e,r){"Symbol("===y(f(e),0,7)&&(e="["+m(f(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!a(t,"name")||u&&t.name!==e)&&(s?d(t,"name",{value:e,configurable:!0}):t.name=e),b&&r&&a(r,"arity")&&t.length!==r.arity&&d(t,"length",{value:r.arity});try{r&&a(r,"constructor")&&r.constructor?s&&d(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var n=h(t);return a(n,"source")||(n.source=v(g,"string"==typeof e?e:"")),t};Function.prototype.toString=w((function(){return o(this)&&p(this).source||c(this)}),"toString")},741:t=>{var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var n=+t;return(n>0?r:e)(n)}},1955:(t,e,r)=>{var n,i,o,a,s,u=r(4475),c=r(3389),l=r(6080),h=r(9225).set,p=r(8265),f=r(8119),d=r(28),y=r(6765),m=r(9088),v=u.MutationObserver||u.WebKitMutationObserver,b=u.document,g=u.process,w=u.Promise,O=c("queueMicrotask");if(!O){var _=new p,j=function(){var t,e;for(m&&(t=g.domain)&&t.exit();e=_.get();)try{e()}catch(t){throw _.head&&n(),t}t&&t.enter()};f||m||y||!v||!b?!d&&w&&w.resolve?((a=w.resolve(void 0)).constructor=w,s=l(a.then,a),n=function(){s(j)}):m?n=function(){g.nextTick(j)}:(h=l(h,u),n=function(){h(j)}):(i=!0,o=b.createTextNode(""),new v(j).observe(o,{characterData:!0}),n=function(){o.data=i=!i}),O=function(t){_.head||n(),_.add(t)}}t.exports=O},6043:(t,e,r)=>{var n=r(9306),i=TypeError,o=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw new i("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)};t.exports.f=function(t){return new o(t)}},5749:(t,e,r)=>{var n=r(788),i=TypeError;t.exports=function(t){if(n(t))throw new i("The method doesn't accept regular expressions");return t}},3904:(t,e,r)=>{var n=r(4475),i=r(9039),o=r(9504),a=r(655),s=r(3802).trim,u=r(7452),c=o("".charAt),l=n.parseFloat,h=n.Symbol,p=h&&h.iterator,f=1/l(u+"-0")!=-1/0||p&&!i((function(){l(Object(p))}));t.exports=f?function(t){var e=s(a(t)),r=l(e);return 0===r&&"-"===c(e,0)?-0:r}:l},2703:(t,e,r)=>{var n=r(4475),i=r(9039),o=r(9504),a=r(655),s=r(3802).trim,u=r(7452),c=n.parseInt,l=n.Symbol,h=l&&l.iterator,p=/^[+-]?0x/i,f=o(p.exec),d=8!==c(u+"08")||22!==c(u+"0x16")||h&&!i((function(){c(Object(h))}));t.exports=d?function(t,e){var r=s(a(t));return c(r,e>>>0||(f(p,r)?16:10))}:c},4213:(t,e,r)=>{var n=r(3724),i=r(9504),o=r(9565),a=r(9039),s=r(1072),u=r(3717),c=r(8773),l=r(8981),h=r(7055),p=Object.assign,f=Object.defineProperty,d=i([].concat);t.exports=!p||a((function(){if(n&&1!==p({b:1},p(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol("assign detection"),i="abcdefghijklmnopqrst";return t[r]=7,i.split("").forEach((function(t){e[t]=t})),7!==p({},t)[r]||s(p({},e)).join("")!==i}))?function(t,e){for(var r=l(t),i=arguments.length,a=1,p=u.f,f=c.f;i>a;)for(var y,m=h(arguments[a++]),v=p?d(s(m),p(m)):s(m),b=v.length,g=0;b>g;)y=v[g++],n&&!o(f,m,y)||(r[y]=m[y]);return r}:p},2360:(t,e,r)=>{var n,i=r(8551),o=r(6801),a=r(8727),s=r(421),u=r(397),c=r(4055),l=r(6119),h="prototype",p="script",f=l("IE_PROTO"),d=function(){},y=function(t){return"<"+p+">"+t+"</"+p+">"},m=function(t){t.write(y("")),t.close();var e=t.parentWindow.Object;return t=null,e},v=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}var t,e,r;v="undefined"!=typeof document?document.domain&&n?m(n):(e=c("iframe"),r="java"+p+":",e.style.display="none",u.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(y("document.F=Object")),t.close(),t.F):m(n);for(var i=a.length;i--;)delete v[h][a[i]];return v()};s[f]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(d[h]=i(t),r=new d,d[h]=null,r[f]=t):r=v(),void 0===e?r:o.f(r,e)}},6801:(t,e,r)=>{var n=r(3724),i=r(8686),o=r(4913),a=r(8551),s=r(5397),u=r(1072);e.f=n&&!i?Object.defineProperties:function(t,e){a(t);for(var r,n=s(e),i=u(e),c=i.length,l=0;c>l;)o.f(t,r=i[l++],n[r]);return t}},4913:(t,e,r)=>{var n=r(3724),i=r(5917),o=r(8686),a=r(8551),s=r(6969),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,h="enumerable",p="configurable",f="writable";e.f=n?o?function(t,e,r){if(a(t),e=s(e),a(r),"function"==typeof t&&"prototype"===e&&"value"in r&&f in r&&!r[f]){var n=l(t,e);n&&n[f]&&(t[e]=r.value,r={configurable:p in r?r[p]:n[p],enumerable:h in r?r[h]:n[h],writable:!1})}return c(t,e,r)}:c:function(t,e,r){if(a(t),e=s(e),a(r),i)try{return c(t,e,r)}catch(t){}if("get"in r||"set"in r)throw new u("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},7347:(t,e,r)=>{var n=r(3724),i=r(9565),o=r(8773),a=r(6980),s=r(5397),u=r(6969),c=r(9297),l=r(5917),h=Object.getOwnPropertyDescriptor;e.f=n?h:function(t,e){if(t=s(t),e=u(e),l)try{return h(t,e)}catch(t){}if(c(t,e))return a(!i(o.f,t,e),t[e])}},298:(t,e,r)=>{var n=r(4576),i=r(5397),o=r(8480).f,a=r(7680),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"Window"===n(t)?function(t){try{return o(t)}catch(t){return a(s)}}(t):o(i(t))}},8480:(t,e,r)=>{var n=r(1828),i=r(8727).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},3717:(t,e)=>{e.f=Object.getOwnPropertySymbols},2787:(t,e,r)=>{var n=r(9297),i=r(4901),o=r(8981),a=r(6119),s=r(2211),u=a("IE_PROTO"),c=Object,l=c.prototype;t.exports=s?c.getPrototypeOf:function(t){var e=o(t);if(n(e,u))return e[u];var r=e.constructor;return i(r)&&e instanceof r?r.prototype:e instanceof c?l:null}},4124:(t,e,r)=>{var n=r(9039),i=r(34),o=r(4576),a=r(5652),s=Object.isExtensible,u=n((function(){s(1)}));t.exports=u||a?function(t){return!!i(t)&&(!a||"ArrayBuffer"!==o(t))&&(!s||s(t))}:s},1625:(t,e,r)=>{var n=r(9504);t.exports=n({}.isPrototypeOf)},1828:(t,e,r)=>{var n=r(9504),i=r(9297),o=r(5397),a=r(9617).indexOf,s=r(421),u=n([].push);t.exports=function(t,e){var r,n=o(t),c=0,l=[];for(r in n)!i(s,r)&&i(n,r)&&u(l,r);for(;e.length>c;)i(n,r=e[c++])&&(~a(l,r)||u(l,r));return l}},1072:(t,e,r)=>{var n=r(1828),i=r(8727);t.exports=Object.keys||function(t){return n(t,i)}},8773:(t,e)=>{var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);e.f=i?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},2967:(t,e,r)=>{var n=r(6706),i=r(34),o=r(7750),a=r(3506);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=n(Object.prototype,"__proto__","set"))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return o(r),a(n),i(r)?(e?t(r,n):r.__proto__=n,r):r}}():void 0)},2357:(t,e,r)=>{var n=r(3724),i=r(9039),o=r(9504),a=r(2787),s=r(1072),u=r(5397),c=o(r(8773).f),l=o([].push),h=n&&i((function(){var t=Object.create(null);return t[2]=2,!c(t,2)})),p=function(t){return function(e){for(var r,i=u(e),o=s(i),p=h&&null===a(i),f=o.length,d=0,y=[];f>d;)r=o[d++],n&&!(p?r in i:c(i,r))||l(y,t?[r,i[r]]:i[r]);return y}};t.exports={entries:p(!0),values:p(!1)}},3179:(t,e,r)=>{var n=r(2140),i=r(6955);t.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},4270:(t,e,r)=>{var n=r(9565),i=r(4901),o=r(34),a=TypeError;t.exports=function(t,e){var r,s;if("string"===e&&i(r=t.toString)&&!o(s=n(r,t)))return s;if(i(r=t.valueOf)&&!o(s=n(r,t)))return s;if("string"!==e&&i(r=t.toString)&&!o(s=n(r,t)))return s;throw new a("Can't convert object to primitive value")}},5031:(t,e,r)=>{var n=r(7751),i=r(9504),o=r(8480),a=r(3717),s=r(8551),u=i([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=o.f(s(t)),r=a.f;return r?u(e,r(t)):e}},9167:(t,e,r)=>{var n=r(4475);t.exports=n},1103:t=>{t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},916:(t,e,r)=>{var n=r(4475),i=r(550),o=r(4901),a=r(2796),s=r(3706),u=r(8227),c=r(7290),l=r(516),h=r(6395),p=r(7388),f=i&&i.prototype,d=u("species"),y=!1,m=o(n.PromiseRejectionEvent),v=a("Promise",(function(){var t=s(i),e=t!==String(i);if(!e&&66===p)return!0;if(h&&(!f.catch||!f.finally))return!0;if(!p||p<51||!/native code/.test(t)){var r=new i((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};if((r.constructor={})[d]=n,!(y=r.then((function(){}))instanceof n))return!0}return!e&&(c||l)&&!m}));t.exports={CONSTRUCTOR:v,REJECTION_EVENT:m,SUBCLASSING:y}},550:(t,e,r)=>{var n=r(4475);t.exports=n.Promise},3438:(t,e,r)=>{var n=r(8551),i=r(34),o=r(6043);t.exports=function(t,e){if(n(t),i(e)&&e.constructor===t)return e;var r=o.f(t);return(0,r.resolve)(e),r.promise}},537:(t,e,r)=>{var n=r(550),i=r(4428),o=r(916).CONSTRUCTOR;t.exports=o||!i((function(t){n.all(t).then(void 0,(function(){}))}))},1056:(t,e,r)=>{var n=r(4913).f;t.exports=function(t,e,r){r in t||n(t,r,{configurable:!0,get:function(){return e[r]},set:function(t){e[r]=t}})}},8265:t=>{var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},t.exports=e},6682:(t,e,r)=>{var n=r(9565),i=r(8551),o=r(4901),a=r(4576),s=r(7323),u=TypeError;t.exports=function(t,e){var r=t.exec;if(o(r)){var c=n(r,t,e);return null!==c&&i(c),c}if("RegExp"===a(t))return n(s,t,e);throw new u("RegExp#exec called on incompatible receiver")}},7323:(t,e,r)=>{var n,i,o=r(9565),a=r(9504),s=r(655),u=r(7979),c=r(8429),l=r(5745),h=r(2360),p=r(1181).get,f=r(3635),d=r(8814),y=l("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,v=m,b=a("".charAt),g=a("".indexOf),w=a("".replace),O=a("".slice),_=(i=/b*/g,o(m,n=/a/,"a"),o(m,i,"a"),0!==n.lastIndex||0!==i.lastIndex),j=c.BROKEN_CARET,k=void 0!==/()??/.exec("")[1];(_||k||j||f||d)&&(v=function(t){var e,r,n,i,a,c,l,f=this,d=p(f),x=s(t),S=d.raw;if(S)return S.lastIndex=f.lastIndex,e=o(v,S,x),f.lastIndex=S.lastIndex,e;var P=d.groups,E=j&&f.sticky,C=o(u,f),T=f.source,A=0,I=x;if(E&&(C=w(C,"y",""),-1===g(C,"g")&&(C+="g"),I=O(x,f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==b(x,f.lastIndex-1))&&(T="(?: "+T+")",I=" "+I,A++),r=new RegExp("^(?:"+T+")",C)),k&&(r=new RegExp("^"+T+"$(?!\\s)",C)),_&&(n=f.lastIndex),i=o(m,E?r:f,I),E?i?(i.input=O(i.input,A),i[0]=O(i[0],A),i.index=f.lastIndex,f.lastIndex+=i[0].length):f.lastIndex=0:_&&i&&(f.lastIndex=f.global?i.index+i[0].length:n),k&&i&&i.length>1&&o(y,i[0],r,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&P)for(i.groups=c=h(null),a=0;a<P.length;a++)c[(l=P[a])[0]]=i[l[1]];return i}),t.exports=v},7979:(t,e,r)=>{var n=r(8551);t.exports=function(){var t=n(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},1034:(t,e,r)=>{var n=r(9565),i=r(9297),o=r(1625),a=r(7979),s=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in s||i(t,"flags")||!o(s,t)?e:n(a,t)}},8429:(t,e,r)=>{var n=r(9039),i=r(4475).RegExp,o=n((function(){var t=i("a","y");return t.lastIndex=2,null!==t.exec("abcd")})),a=o||n((function(){return!i("a","y").sticky})),s=o||n((function(){var t=i("^r","gy");return t.lastIndex=2,null!==t.exec("str")}));t.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:o}},3635:(t,e,r)=>{var n=r(9039),i=r(4475).RegExp;t.exports=n((function(){var t=i(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)}))},8814:(t,e,r)=>{var n=r(9039),i=r(4475).RegExp;t.exports=n((function(){var t=i("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},7750:(t,e,r)=>{var n=r(4117),i=TypeError;t.exports=function(t){if(n(t))throw new i("Can't call method on "+t);return t}},3389:(t,e,r)=>{var n=r(4475),i=r(3724),o=Object.getOwnPropertyDescriptor;t.exports=function(t){if(!i)return n[t];var e=o(n,t);return e&&e.value}},9472:(t,e,r)=>{var n,i=r(4475),o=r(8745),a=r(4901),s=r(6763),u=r(9392),c=r(7680),l=r(2812),h=i.Function,p=/MSIE .\./.test(u)||s&&((n=i.Bun.version.split(".")).length<3||"0"===n[0]&&(n[1]<3||"3"===n[1]&&"0"===n[2]));t.exports=function(t,e){var r=e?2:1;return p?function(n,i){var s=l(arguments.length,1)>r,u=a(n)?n:h(n),p=s?c(arguments,r):[],f=s?function(){o(u,this,p)}:u;return e?t(f,i):t(f)}:t}},7633:(t,e,r)=>{var n=r(7751),i=r(2106),o=r(8227),a=r(3724),s=o("species");t.exports=function(t){var e=n(t);a&&e&&!e[s]&&i(e,s,{configurable:!0,get:function(){return this}})}},687:(t,e,r)=>{var n=r(4913).f,i=r(9297),o=r(8227)("toStringTag");t.exports=function(t,e,r){t&&!r&&(t=t.prototype),t&&!i(t,o)&&n(t,o,{configurable:!0,value:e})}},6119:(t,e,r)=>{var n=r(5745),i=r(3392),o=n("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},7629:(t,e,r)=>{var n=r(6395),i=r(4475),o=r(9433),a="__core-js_shared__",s=t.exports=i[a]||o(a,{});(s.versions||(s.versions=[])).push({version:"3.36.1",mode:n?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.36.1/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:(t,e,r)=>{var n=r(7629);t.exports=function(t,e){return n[t]||(n[t]=e||{})}},2293:(t,e,r)=>{var n=r(8551),i=r(5548),o=r(4117),a=r(8227)("species");t.exports=function(t,e){var r,s=n(t).constructor;return void 0===s||o(r=n(s)[a])?e:i(r)}},3061:(t,e,r)=>{var n=r(9039);t.exports=function(t){return n((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},8183:(t,e,r)=>{var n=r(9504),i=r(1291),o=r(655),a=r(7750),s=n("".charAt),u=n("".charCodeAt),c=n("".slice),l=function(t){return function(e,r){var n,l,h=o(a(e)),p=i(r),f=h.length;return p<0||p>=f?t?"":void 0:(n=u(h,p))<55296||n>56319||p+1===f||(l=u(h,p+1))<56320||l>57343?t?s(h,p):n:t?c(h,p,p+2):l-56320+(n-55296<<10)+65536}};t.exports={codeAt:l(!1),charAt:l(!0)}},533:(t,e,r)=>{var n=r(9504),i=r(8014),o=r(655),a=r(2333),s=r(7750),u=n(a),c=n("".slice),l=Math.ceil,h=function(t){return function(e,r,n){var a,h,p=o(s(e)),f=i(r),d=p.length,y=void 0===n?" ":o(n);return f<=d||""===y?p:((h=u(y,l((a=f-d)/y.length))).length>a&&(h=c(h,0,a)),t?p+h:h+p)}};t.exports={start:h(!1),end:h(!0)}},2333:(t,e,r)=>{var n=r(1291),i=r(655),o=r(7750),a=RangeError;t.exports=function(t){var e=i(o(this)),r="",s=n(t);if(s<0||s===1/0)throw new a("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(e+=e))1&s&&(r+=e);return r}},706:(t,e,r)=>{var n=r(350).PROPER,i=r(9039),o=r(7452);t.exports=function(t){return i((function(){return!!o[t]()||"​᠎"!=="​᠎"[t]()||n&&o[t].name!==t}))}},3802:(t,e,r)=>{var n=r(9504),i=r(7750),o=r(655),a=r(7452),s=n("".replace),u=RegExp("^["+a+"]+"),c=RegExp("(^|[^"+a+"])["+a+"]+$"),l=function(t){return function(e){var r=o(i(e));return 1&t&&(r=s(r,u,"")),2&t&&(r=s(r,c,"$1")),r}};t.exports={start:l(1),end:l(2),trim:l(3)}},4495:(t,e,r)=>{var n=r(7388),i=r(9039),o=r(4475).String;t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol("symbol detection");return!o(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},8242:(t,e,r)=>{var n=r(9565),i=r(7751),o=r(8227),a=r(6840);t.exports=function(){var t=i("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,s=o("toPrimitive");e&&!e[s]&&a(e,s,(function(t){return n(r,this)}),{arity:1})}},1296:(t,e,r)=>{var n=r(4495);t.exports=n&&!!Symbol.for&&!!Symbol.keyFor},9225:(t,e,r)=>{var n,i,o,a,s=r(4475),u=r(8745),c=r(6080),l=r(4901),h=r(9297),p=r(9039),f=r(397),d=r(7680),y=r(4055),m=r(2812),v=r(8119),b=r(9088),g=s.setImmediate,w=s.clearImmediate,O=s.process,_=s.Dispatch,j=s.Function,k=s.MessageChannel,x=s.String,S=0,P={},E="onreadystatechange";p((function(){n=s.location}));var C=function(t){if(h(P,t)){var e=P[t];delete P[t],e()}},T=function(t){return function(){C(t)}},A=function(t){C(t.data)},I=function(t){s.postMessage(x(t),n.protocol+"//"+n.host)};g&&w||(g=function(t){m(arguments.length,1);var e=l(t)?t:j(t),r=d(arguments,1);return P[++S]=function(){u(e,void 0,r)},i(S),S},w=function(t){delete P[t]},b?i=function(t){O.nextTick(T(t))}:_&&_.now?i=function(t){_.now(T(t))}:k&&!v?(a=(o=new k).port2,o.port1.onmessage=A,i=c(a.postMessage,a)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&n&&"file:"!==n.protocol&&!p(I)?(i=I,s.addEventListener("message",A,!1)):i=E in y("script")?function(t){f.appendChild(y("script"))[E]=function(){f.removeChild(this),C(t)}}:function(t){setTimeout(T(t),0)}),t.exports={set:g,clear:w}},1240:(t,e,r)=>{var n=r(9504);t.exports=n(1..valueOf)},5610:(t,e,r)=>{var n=r(1291),i=Math.max,o=Math.min;t.exports=function(t,e){var r=n(t);return r<0?i(r+e,0):o(r,e)}},5397:(t,e,r)=>{var n=r(7055),i=r(7750);t.exports=function(t){return n(i(t))}},1291:(t,e,r)=>{var n=r(741);t.exports=function(t){var e=+t;return e!=e||0===e?0:n(e)}},8014:(t,e,r)=>{var n=r(1291),i=Math.min;t.exports=function(t){var e=n(t);return e>0?i(e,9007199254740991):0}},8981:(t,e,r)=>{var n=r(7750),i=Object;t.exports=function(t){return i(n(t))}},2777:(t,e,r)=>{var n=r(9565),i=r(34),o=r(757),a=r(5966),s=r(4270),u=r(8227),c=TypeError,l=u("toPrimitive");t.exports=function(t,e){if(!i(t)||o(t))return t;var r,u=a(t,l);if(u){if(void 0===e&&(e="default"),r=n(u,t,e),!i(r)||o(r))return r;throw new c("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},6969:(t,e,r)=>{var n=r(2777),i=r(757);t.exports=function(t){var e=n(t,"string");return i(e)?e:e+""}},2140:(t,e,r)=>{var n={};n[r(8227)("toStringTag")]="z",t.exports="[object z]"===String(n)},655:(t,e,r)=>{var n=r(6955),i=String;t.exports=function(t){if("Symbol"===n(t))throw new TypeError("Cannot convert a Symbol value to a string");return i(t)}},6823:t=>{var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},3392:(t,e,r)=>{var n=r(9504),i=0,o=Math.random(),a=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+o,36)}},7040:(t,e,r)=>{var n=r(4495);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:(t,e,r)=>{var n=r(3724),i=r(9039);t.exports=n&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},2812:t=>{var e=TypeError;t.exports=function(t,r){if(t<r)throw new e("Not enough arguments");return t}},8622:(t,e,r)=>{var n=r(4475),i=r(4901),o=n.WeakMap;t.exports=i(o)&&/native code/.test(String(o))},511:(t,e,r)=>{var n=r(9167),i=r(9297),o=r(1951),a=r(4913).f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},1951:(t,e,r)=>{var n=r(8227);e.f=n},8227:(t,e,r)=>{var n=r(4475),i=r(5745),o=r(9297),a=r(3392),s=r(4495),u=r(7040),c=n.Symbol,l=i("wks"),h=u?c.for||c:c&&c.withoutSetter||a;t.exports=function(t){return o(l,t)||(l[t]=s&&o(c,t)?c[t]:h("Symbol."+t)),l[t]}},7452:t=>{t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},8706:(t,e,r)=>{var n=r(6518),i=r(9039),o=r(4376),a=r(34),s=r(8981),u=r(6198),c=r(6837),l=r(4659),h=r(1469),p=r(597),f=r(8227),d=r(7388),y=f("isConcatSpreadable"),m=d>=51||!i((function(){var t=[];return t[y]=!1,t.concat()[0]!==t})),v=function(t){if(!a(t))return!1;var e=t[y];return void 0!==e?!!e:o(t)};n({target:"Array",proto:!0,arity:1,forced:!m||!p("concat")},{concat:function(t){var e,r,n,i,o,a=s(this),p=h(a,0),f=0;for(e=-1,n=arguments.length;e<n;e++)if(v(o=-1===e?a:arguments[e]))for(i=u(o),c(f+i),r=0;r<i;r++,f++)r in o&&l(p,f,o[r]);else c(f+1),l(p,f++,o);return p.length=f,p}})},8431:(t,e,r)=>{var n=r(6518),i=r(9213).every;n({target:"Array",proto:!0,forced:!r(4598)("every")},{every:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},2008:(t,e,r)=>{var n=r(6518),i=r(9213).filter;n({target:"Array",proto:!0,forced:!r(597)("filter")},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},8980:(t,e,r)=>{var n=r(6518),i=r(9213).findIndex,o=r(6469),a="findIndex",s=!0;a in[]&&Array(1)[a]((function(){s=!1})),n({target:"Array",proto:!0,forced:s},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},113:(t,e,r)=>{var n=r(6518),i=r(9213).find,o=r(6469),a="find",s=!0;a in[]&&Array(1)[a]((function(){s=!1})),n({target:"Array",proto:!0,forced:s},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},6449:(t,e,r)=>{var n=r(6518),i=r(259),o=r(8981),a=r(6198),s=r(1291),u=r(1469);n({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=o(this),r=a(e),n=u(e,0);return n.length=i(n,e,e,r,0,void 0===t?1:s(t)),n}})},1629:(t,e,r)=>{var n=r(6518),i=r(235);n({target:"Array",proto:!0,forced:[].forEach!==i},{forEach:i})},3418:(t,e,r)=>{var n=r(6518),i=r(7916);n({target:"Array",stat:!0,forced:!r(4428)((function(t){Array.from(t)}))},{from:i})},4423:(t,e,r)=>{var n=r(6518),i=r(9617).includes,o=r(9039),a=r(6469);n({target:"Array",proto:!0,forced:o((function(){return!Array(1).includes()}))},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")},5276:(t,e,r)=>{var n=r(6518),i=r(7476),o=r(9617).indexOf,a=r(4598),s=i([].indexOf),u=!!s&&1/s([1],1,-0)<0;n({target:"Array",proto:!0,forced:u||!a("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return u?s(this,t,e)||0:o(this,t,e)}})},4346:(t,e,r)=>{r(6518)({target:"Array",stat:!0},{isArray:r(4376)})},3792:(t,e,r)=>{var n=r(5397),i=r(6469),o=r(6269),a=r(1181),s=r(4913).f,u=r(1088),c=r(2529),l=r(6395),h=r(3724),p="Array Iterator",f=a.set,d=a.getterFor(p);t.exports=u(Array,"Array",(function(t,e){f(this,{type:p,target:n(t),index:0,kind:e})}),(function(){var t=d(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=void 0,c(void 0,!0);switch(t.kind){case"keys":return c(r,!1);case"values":return c(e[r],!1)}return c([r,e[r]],!1)}),"values");var y=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!l&&h&&"values"!==y.name)try{s(y,"name",{value:"values"})}catch(t){}},8598:(t,e,r)=>{var n=r(6518),i=r(9504),o=r(7055),a=r(5397),s=r(4598),u=i([].join);n({target:"Array",proto:!0,forced:o!==Object||!s("join",",")},{join:function(t){return u(a(this),void 0===t?",":t)}})},2062:(t,e,r)=>{var n=r(6518),i=r(9213).map;n({target:"Array",proto:!0,forced:!r(597)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},2712:(t,e,r)=>{var n=r(6518),i=r(926).left,o=r(4598),a=r(7388);n({target:"Array",proto:!0,forced:!r(9088)&&a>79&&a<83||!o("reduce")},{reduce:function(t){var e=arguments.length;return i(this,t,e,e>1?arguments[1]:void 0)}})},4490:(t,e,r)=>{var n=r(6518),i=r(9504),o=r(4376),a=i([].reverse),s=[1,2];n({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),a(this)}})},4782:(t,e,r)=>{var n=r(6518),i=r(4376),o=r(3517),a=r(34),s=r(5610),u=r(6198),c=r(5397),l=r(4659),h=r(8227),p=r(597),f=r(7680),d=p("slice"),y=h("species"),m=Array,v=Math.max;n({target:"Array",proto:!0,forced:!d},{slice:function(t,e){var r,n,h,p=c(this),d=u(p),b=s(t,d),g=s(void 0===e?d:e,d);if(i(p)&&(r=p.constructor,(o(r)&&(r===m||i(r.prototype))||a(r)&&null===(r=r[y]))&&(r=void 0),r===m||void 0===r))return f(p,b,g);for(n=new(void 0===r?m:r)(v(g-b,0)),h=0;b<g;b++,h++)b in p&&l(n,h,p[b]);return n.length=h,n}})},5086:(t,e,r)=>{var n=r(6518),i=r(9213).some;n({target:"Array",proto:!0,forced:!r(4598)("some")},{some:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},6910:(t,e,r)=>{var n=r(6518),i=r(9504),o=r(9306),a=r(8981),s=r(6198),u=r(4606),c=r(655),l=r(9039),h=r(4488),p=r(4598),f=r(8834),d=r(3202),y=r(7388),m=r(9160),v=[],b=i(v.sort),g=i(v.push),w=l((function(){v.sort(void 0)})),O=l((function(){v.sort(null)})),_=p("sort"),j=!l((function(){if(y)return y<70;if(!(f&&f>3)){if(d)return!0;if(m)return m<603;var t,e,r,n,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)v.push({k:e+n,v:r})}for(v.sort((function(t,e){return e.v-t.v})),n=0;n<v.length;n++)e=v[n].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));n({target:"Array",proto:!0,forced:w||!O||!_||!j},{sort:function(t){void 0!==t&&o(t);var e=a(this);if(j)return void 0===t?b(e):b(e,t);var r,n,i=[],l=s(e);for(n=0;n<l;n++)n in e&&g(i,e[n]);for(h(i,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:c(e)>c(r)?1:-1}}(t)),r=s(i),n=0;n<r;)e[n]=i[n++];for(;n<l;)u(e,n++);return e}})},4554:(t,e,r)=>{var n=r(6518),i=r(8981),o=r(5610),a=r(1291),s=r(6198),u=r(4527),c=r(6837),l=r(1469),h=r(4659),p=r(4606),f=r(597)("splice"),d=Math.max,y=Math.min;n({target:"Array",proto:!0,forced:!f},{splice:function(t,e){var r,n,f,m,v,b,g=i(this),w=s(g),O=o(t,w),_=arguments.length;for(0===_?r=n=0:1===_?(r=0,n=w-O):(r=_-2,n=y(d(a(e),0),w-O)),c(w+r-n),f=l(g,n),m=0;m<n;m++)(v=O+m)in g&&h(f,m,g[v]);if(f.length=n,r<n){for(m=O;m<w-n;m++)b=m+r,(v=m+n)in g?g[b]=g[v]:p(g,b);for(m=w;m>w-n+r;m--)p(g,m-1)}else if(r>n)for(m=w-n;m>O;m--)b=m+r-1,(v=m+n-1)in g?g[b]=g[v]:p(g,b);for(m=0;m<r;m++)g[m+O]=arguments[m+2];return u(g,w-n+r),f}})},3514:(t,e,r)=>{r(6469)("flat")},1688:(t,e,r)=>{var n=r(6518),i=r(380);n({target:"Date",proto:!0,forced:Date.prototype.toISOString!==i},{toISOString:i})},739:(t,e,r)=>{var n=r(6518),i=r(9039),o=r(8981),a=r(2777);n({target:"Date",proto:!0,arity:1,forced:i((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(t){var e=o(this),r=a(e,"number");return"number"!=typeof r||isFinite(r)?e.toISOString():null}})},9572:(t,e,r)=>{var n=r(9297),i=r(6840),o=r(3640),a=r(8227)("toPrimitive"),s=Date.prototype;n(s,a)||i(s,a,o)},3288:(t,e,r)=>{var n=r(9504),i=r(6840),o=Date.prototype,a="Invalid Date",s="toString",u=n(o[s]),c=n(o.getTime);String(new Date(NaN))!==a&&i(o,s,(function(){var t=c(this);return t==t?u(this):a}))},4170:(t,e,r)=>{var n=r(6518),i=r(566);n({target:"Function",proto:!0,forced:Function.bind!==i},{bind:i})},2010:(t,e,r)=>{var n=r(3724),i=r(350).EXISTS,o=r(9504),a=r(2106),s=Function.prototype,u=o(s.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=o(c.exec);n&&!i&&a(s,"name",{configurable:!0,get:function(){try{return l(c,u(this))[1]}catch(t){return""}}})},3110:(t,e,r)=>{var n=r(6518),i=r(7751),o=r(8745),a=r(9565),s=r(9504),u=r(9039),c=r(4901),l=r(757),h=r(7680),p=r(6933),f=r(4495),d=String,y=i("JSON","stringify"),m=s(/./.exec),v=s("".charAt),b=s("".charCodeAt),g=s("".replace),w=s(1..toString),O=/[\uD800-\uDFFF]/g,_=/^[\uD800-\uDBFF]$/,j=/^[\uDC00-\uDFFF]$/,k=!f||u((function(){var t=i("Symbol")("stringify detection");return"[null]"!==y([t])||"{}"!==y({a:t})||"{}"!==y(Object(t))})),x=u((function(){return'"\\udf06\\ud834"'!==y("\udf06\ud834")||'"\\udead"'!==y("\udead")})),S=function(t,e){var r=h(arguments),n=p(e);if(c(n)||void 0!==t&&!l(t))return r[1]=function(t,e){if(c(n)&&(e=a(n,this,d(t),e)),!l(e))return e},o(y,null,r)},P=function(t,e,r){var n=v(r,e-1),i=v(r,e+1);return m(_,t)&&!m(j,i)||m(j,t)&&!m(_,n)?"\\u"+w(b(t,0),16):t};y&&n({target:"JSON",stat:!0,arity:3,forced:k||x},{stringify:function(t,e,r){var n=h(arguments),i=o(k?S:y,null,n);return x&&"string"==typeof i?g(i,O,P):i}})},4731:(t,e,r)=>{var n=r(4475);r(687)(n.JSON,"JSON",!0)},8523:(t,e,r)=>{r(6468)("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r(6938))},6033:(t,e,r)=>{r(8523)},479:(t,e,r)=>{r(687)(Math,"Math",!0)},2892:(t,e,r)=>{var n=r(6518),i=r(6395),o=r(3724),a=r(4475),s=r(9167),u=r(9504),c=r(2796),l=r(9297),h=r(3167),p=r(1625),f=r(757),d=r(2777),y=r(9039),m=r(8480).f,v=r(7347).f,b=r(4913).f,g=r(1240),w=r(3802).trim,O="Number",_=a[O],j=s[O],k=_.prototype,x=a.TypeError,S=u("".slice),P=u("".charCodeAt),E=c(O,!_(" 0o1")||!_("0b1")||_("+0x1")),C=function(t){var e,r=arguments.length<1?0:_(function(t){var e=d(t,"number");return"bigint"==typeof e?e:function(t){var e,r,n,i,o,a,s,u,c=d(t,"number");if(f(c))throw new x("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=w(c),43===(e=P(c,0))||45===e){if(88===(r=P(c,2))||120===r)return NaN}else if(48===e){switch(P(c,1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+c}for(a=(o=S(c,2)).length,s=0;s<a;s++)if((u=P(o,s))<48||u>i)return NaN;return parseInt(o,n)}return+c}(e)}(t));return p(k,e=this)&&y((function(){g(e)}))?h(Object(r),this,C):r};C.prototype=k,E&&!i&&(k.constructor=C),n({global:!0,constructor:!0,wrap:!0,forced:E},{Number:C});var T=function(t,e){for(var r,n=o?m(e):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),i=0;n.length>i;i++)l(e,r=n[i])&&!l(t,r)&&b(t,r,v(e,r))};i&&j&&T(s[O],j),(E||i)&&T(s[O],_)},9868:(t,e,r)=>{var n=r(6518),i=r(9504),o=r(1291),a=r(1240),s=r(2333),u=r(9039),c=RangeError,l=String,h=Math.floor,p=i(s),f=i("".slice),d=i(1..toFixed),y=function(t,e,r){return 0===e?r:e%2==1?y(t,e-1,r*t):y(t*t,e/2,r)},m=function(t,e,r){for(var n=-1,i=r;++n<6;)i+=e*t[n],t[n]=i%1e7,i=h(i/1e7)},v=function(t,e){for(var r=6,n=0;--r>=0;)n+=t[r],t[r]=h(n/e),n=n%e*1e7},b=function(t){for(var e=6,r="";--e>=0;)if(""!==r||0===e||0!==t[e]){var n=l(t[e]);r=""===r?n:r+p("0",7-n.length)+n}return r};n({target:"Number",proto:!0,forced:u((function(){return"0.000"!==d(8e-5,3)||"1"!==d(.9,0)||"1.25"!==d(1.255,2)||"1000000000000000128"!==d(0xde0b6b3a7640080,0)}))||!u((function(){d({})}))},{toFixed:function(t){var e,r,n,i,s=a(this),u=o(t),h=[0,0,0,0,0,0],d="",g="0";if(u<0||u>20)throw new c("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return l(s);if(s<0&&(d="-",s=-s),s>1e-21)if(r=(e=function(t){for(var e=0,r=t;r>=4096;)e+=12,r/=4096;for(;r>=2;)e+=1,r/=2;return e}(s*y(2,69,1))-69)<0?s*y(2,-e,1):s/y(2,e,1),r*=4503599627370496,(e=52-e)>0){for(m(h,0,r),n=u;n>=7;)m(h,1e7,0),n-=7;for(m(h,y(10,n,1),0),n=e-1;n>=23;)v(h,1<<23),n-=23;v(h,1<<n),m(h,1,1),v(h,2),g=b(h)}else m(h,0,r),m(h,1<<-e,0),g=b(h)+p("0",u);return u>0?d+((i=g.length)<=u?"0."+p("0",u-i)+g:f(g,0,i-u)+"."+f(g,i-u)):d+g}})},9085:(t,e,r)=>{var n=r(6518),i=r(4213);n({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},9904:(t,e,r)=>{r(6518)({target:"Object",stat:!0,sham:!r(3724)},{create:r(2360)})},7945:(t,e,r)=>{var n=r(6518),i=r(3724),o=r(6801).f;n({target:"Object",stat:!0,forced:Object.defineProperties!==o,sham:!i},{defineProperties:o})},4185:(t,e,r)=>{var n=r(6518),i=r(3724),o=r(4913).f;n({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!i},{defineProperty:o})},5506:(t,e,r)=>{var n=r(6518),i=r(2357).entries;n({target:"Object",stat:!0},{entries:function(t){return i(t)}})},3921:(t,e,r)=>{var n=r(6518),i=r(2652),o=r(4659);n({target:"Object",stat:!0},{fromEntries:function(t){var e={};return i(t,(function(t,r){o(e,t,r)}),{AS_ENTRIES:!0}),e}})},3851:(t,e,r)=>{var n=r(6518),i=r(9039),o=r(5397),a=r(7347).f,s=r(3724);n({target:"Object",stat:!0,forced:!s||i((function(){a(1)})),sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},1278:(t,e,r)=>{var n=r(6518),i=r(3724),o=r(5031),a=r(5397),s=r(7347),u=r(4659);n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){for(var e,r,n=a(t),i=s.f,c=o(n),l={},h=0;c.length>h;)void 0!==(r=i(n,e=c[h++]))&&u(l,e,r);return l}})},9773:(t,e,r)=>{var n=r(6518),i=r(4495),o=r(9039),a=r(3717),s=r(8981);n({target:"Object",stat:!0,forced:!i||o((function(){a.f(1)}))},{getOwnPropertySymbols:function(t){var e=a.f;return e?e(s(t)):[]}})},875:(t,e,r)=>{var n=r(6518),i=r(9039),o=r(8981),a=r(2787),s=r(2211);n({target:"Object",stat:!0,forced:i((function(){a(1)})),sham:!s},{getPrototypeOf:function(t){return a(o(t))}})},9432:(t,e,r)=>{var n=r(6518),i=r(8981),o=r(1072);n({target:"Object",stat:!0,forced:r(9039)((function(){o(1)}))},{keys:function(t){return o(i(t))}})},287:(t,e,r)=>{r(6518)({target:"Object",stat:!0},{setPrototypeOf:r(2967)})},6099:(t,e,r)=>{var n=r(2140),i=r(6840),o=r(3179);n||i(Object.prototype,"toString",o,{unsafe:!0})},6034:(t,e,r)=>{var n=r(6518),i=r(2357).values;n({target:"Object",stat:!0},{values:function(t){return i(t)}})},8459:(t,e,r)=>{var n=r(6518),i=r(3904);n({global:!0,forced:parseFloat!==i},{parseFloat:i})},8940:(t,e,r)=>{var n=r(6518),i=r(2703);n({global:!0,forced:parseInt!==i},{parseInt:i})},6499:(t,e,r)=>{var n=r(6518),i=r(9565),o=r(9306),a=r(6043),s=r(1103),u=r(2652);n({target:"Promise",stat:!0,forced:r(537)},{all:function(t){var e=this,r=a.f(e),n=r.resolve,c=r.reject,l=s((function(){var r=o(e.resolve),a=[],s=0,l=1;u(t,(function(t){var o=s++,u=!1;l++,i(r,e,t).then((function(t){u||(u=!0,a[o]=t,--l||n(a))}),c)})),--l||n(a)}));return l.error&&c(l.value),r.promise}})},2003:(t,e,r)=>{var n=r(6518),i=r(6395),o=r(916).CONSTRUCTOR,a=r(550),s=r(7751),u=r(4901),c=r(6840),l=a&&a.prototype;if(n({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(t){return this.then(void 0,t)}}),!i&&u(a)){var h=s("Promise").prototype.catch;l.catch!==h&&c(l,"catch",h,{unsafe:!0})}},436:(t,e,r)=>{var n,i,o,a=r(6518),s=r(6395),u=r(9088),c=r(4475),l=r(9565),h=r(6840),p=r(2967),f=r(687),d=r(7633),y=r(9306),m=r(4901),v=r(34),b=r(679),g=r(2293),w=r(9225).set,O=r(1955),_=r(3138),j=r(1103),k=r(8265),x=r(1181),S=r(550),P=r(916),E=r(6043),C="Promise",T=P.CONSTRUCTOR,A=P.REJECTION_EVENT,I=P.SUBCLASSING,R=x.getterFor(C),L=x.set,N=S&&S.prototype,B=S,D=N,F=c.TypeError,V=c.document,M=c.process,$=E.f,z=$,H=!!(V&&V.createEvent&&c.dispatchEvent),W="unhandledrejection",q=function(t){var e;return!(!v(t)||!m(e=t.then))&&e},U=function(t,e){var r,n,i,o=e.value,a=1===e.state,s=a?t.ok:t.fail,u=t.resolve,c=t.reject,h=t.domain;try{s?(a||(2===e.rejection&&K(e),e.rejection=1),!0===s?r=o:(h&&h.enter(),r=s(o),h&&(h.exit(),i=!0)),r===t.promise?c(new F("Promise-chain cycle")):(n=q(r))?l(n,r,u,c):u(r)):c(o)}catch(t){h&&!i&&h.exit(),c(t)}},G=function(t,e){t.notified||(t.notified=!0,O((function(){for(var r,n=t.reactions;r=n.get();)U(r,t);t.notified=!1,e&&!t.rejection&&Z(t)})))},J=function(t,e,r){var n,i;H?((n=V.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),c.dispatchEvent(n)):n={promise:e,reason:r},!A&&(i=c["on"+t])?i(n):t===W&&_("Unhandled promise rejection",r)},Z=function(t){l(w,c,(function(){var e,r=t.facade,n=t.value;if(Y(t)&&(e=j((function(){u?M.emit("unhandledRejection",n,r):J(W,r,n)})),t.rejection=u||Y(t)?2:1,e.error))throw e.value}))},Y=function(t){return 1!==t.rejection&&!t.parent},K=function(t){l(w,c,(function(){var e=t.facade;u?M.emit("rejectionHandled",e):J("rejectionhandled",e,t.value)}))},Q=function(t,e,r){return function(n){t(e,n,r)}},X=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,G(t,!0))},tt=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw new F("Promise can't be resolved itself");var n=q(e);n?O((function(){var r={done:!1};try{l(n,e,Q(tt,r,t),Q(X,r,t))}catch(e){X(r,e,t)}})):(t.value=e,t.state=1,G(t,!1))}catch(e){X({done:!1},e,t)}}};if(T&&(D=(B=function(t){b(this,D),y(t),l(n,this);var e=R(this);try{t(Q(tt,e),Q(X,e))}catch(t){X(e,t)}}).prototype,(n=function(t){L(this,{type:C,done:!1,notified:!1,parent:!1,reactions:new k,rejection:!1,state:0,value:void 0})}).prototype=h(D,"then",(function(t,e){var r=R(this),n=$(g(this,B));return r.parent=!0,n.ok=!m(t)||t,n.fail=m(e)&&e,n.domain=u?M.domain:void 0,0===r.state?r.reactions.add(n):O((function(){U(n,r)})),n.promise})),i=function(){var t=new n,e=R(t);this.promise=t,this.resolve=Q(tt,e),this.reject=Q(X,e)},E.f=$=function(t){return t===B||void 0===t?new i(t):z(t)},!s&&m(S)&&N!==Object.prototype)){o=N.then,I||h(N,"then",(function(t,e){var r=this;return new B((function(t,e){l(o,r,t,e)})).then(t,e)}),{unsafe:!0});try{delete N.constructor}catch(t){}p&&p(N,D)}a({global:!0,constructor:!0,wrap:!0,forced:T},{Promise:B}),f(B,C,!1,!0),d(C)},3362:(t,e,r)=>{r(436),r(6499),r(2003),r(7743),r(1481),r(280)},7743:(t,e,r)=>{var n=r(6518),i=r(9565),o=r(9306),a=r(6043),s=r(1103),u=r(2652);n({target:"Promise",stat:!0,forced:r(537)},{race:function(t){var e=this,r=a.f(e),n=r.reject,c=s((function(){var a=o(e.resolve);u(t,(function(t){i(a,e,t).then(r.resolve,n)}))}));return c.error&&n(c.value),r.promise}})},1481:(t,e,r)=>{var n=r(6518),i=r(6043);n({target:"Promise",stat:!0,forced:r(916).CONSTRUCTOR},{reject:function(t){var e=i.f(this);return(0,e.reject)(t),e.promise}})},280:(t,e,r)=>{var n=r(6518),i=r(7751),o=r(6395),a=r(550),s=r(916).CONSTRUCTOR,u=r(3438),c=i("Promise"),l=o&&!s;n({target:"Promise",stat:!0,forced:o||s},{resolve:function(t){return u(l&&this===c?a:this,t)}})},825:(t,e,r)=>{var n=r(6518),i=r(7751),o=r(8745),a=r(566),s=r(5548),u=r(8551),c=r(34),l=r(2360),h=r(9039),p=i("Reflect","construct"),f=Object.prototype,d=[].push,y=h((function(){function t(){}return!(p((function(){}),[],t)instanceof t)})),m=!h((function(){p((function(){}))})),v=y||m;n({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(t,e){s(t),u(e);var r=arguments.length<3?t:s(arguments[2]);if(m&&!y)return p(t,e,r);if(t===r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return o(d,n,e),new(o(a,t,n))}var i=r.prototype,h=l(c(i)?i:f),v=o(t,h,e);return c(v)?v:h}})},888:(t,e,r)=>{var n=r(6518),i=r(9565),o=r(34),a=r(8551),s=r(6575),u=r(7347),c=r(2787);n({target:"Reflect",stat:!0},{get:function t(e,r){var n,l,h=arguments.length<3?e:arguments[2];return a(e)===h?e[r]:(n=u.f(e,r))?s(n)?n.value:void 0===n.get?void 0:i(n.get,h):o(l=c(e))?t(l,r,h):void 0}})},4864:(t,e,r)=>{var n=r(3724),i=r(4475),o=r(9504),a=r(2796),s=r(3167),u=r(6699),c=r(2360),l=r(8480).f,h=r(1625),p=r(788),f=r(655),d=r(1034),y=r(8429),m=r(1056),v=r(6840),b=r(9039),g=r(9297),w=r(1181).enforce,O=r(7633),_=r(8227),j=r(3635),k=r(8814),x=_("match"),S=i.RegExp,P=S.prototype,E=i.SyntaxError,C=o(P.exec),T=o("".charAt),A=o("".replace),I=o("".indexOf),R=o("".slice),L=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,N=/a/g,B=/a/g,D=new S(N)!==N,F=y.MISSED_STICKY,V=y.UNSUPPORTED_Y;if(a("RegExp",n&&(!D||F||j||k||b((function(){return B[x]=!1,S(N)!==N||S(B)===B||"/a/i"!==String(S(N,"i"))}))))){for(var M=function(t,e){var r,n,i,o,a,l,y=h(P,this),m=p(t),v=void 0===e,b=[],O=t;if(!y&&m&&v&&t.constructor===M)return t;if((m||h(P,t))&&(t=t.source,v&&(e=d(O))),t=void 0===t?"":f(t),e=void 0===e?"":f(e),O=t,j&&"dotAll"in N&&(n=!!e&&I(e,"s")>-1)&&(e=A(e,/s/g,"")),r=e,F&&"sticky"in N&&(i=!!e&&I(e,"y")>-1)&&V&&(e=A(e,/y/g,"")),k&&(o=function(t){for(var e,r=t.length,n=0,i="",o=[],a=c(null),s=!1,u=!1,l=0,h="";n<=r;n++){if("\\"===(e=T(t,n)))e+=T(t,++n);else if("]"===e)s=!1;else if(!s)switch(!0){case"["===e:s=!0;break;case"("===e:C(L,R(t,n+1))&&(n+=2,u=!0),i+=e,l++;continue;case">"===e&&u:if(""===h||g(a,h))throw new E("Invalid capture group name");a[h]=!0,o[o.length]=[h,l],u=!1,h="";continue}u?h+=e:i+=e}return[i,o]}(t),t=o[0],b=o[1]),a=s(S(t,e),y?this:P,M),(n||i||b.length)&&(l=w(a),n&&(l.dotAll=!0,l.raw=M(function(t){for(var e,r=t.length,n=0,i="",o=!1;n<=r;n++)"\\"!==(e=T(t,n))?o||"."!==e?("["===e?o=!0:"]"===e&&(o=!1),i+=e):i+="[\\s\\S]":i+=e+T(t,++n);return i}(t),r)),i&&(l.sticky=!0),b.length&&(l.groups=b)),t!==O)try{u(a,"source",""===O?"(?:)":O)}catch(t){}return a},$=l(S),z=0;$.length>z;)m(M,S,$[z++]);P.constructor=M,M.prototype=P,v(i,"RegExp",M,{constructor:!0})}O("RegExp")},7495:(t,e,r)=>{var n=r(6518),i=r(7323);n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},8781:(t,e,r)=>{var n=r(350).PROPER,i=r(6840),o=r(8551),a=r(655),s=r(9039),u=r(1034),c="toString",l=RegExp.prototype,h=l[c],p=s((function(){return"/a/b"!==h.call({source:"a",flags:"b"})})),f=n&&h.name!==c;(p||f)&&i(l,c,(function(){var t=o(this);return"/"+a(t.source)+"/"+a(u(t))}),{unsafe:!0})},2405:(t,e,r)=>{r(6468)("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r(6938))},1415:(t,e,r)=>{r(2405)},1699:(t,e,r)=>{var n=r(6518),i=r(9504),o=r(5749),a=r(7750),s=r(655),u=r(1436),c=i("".indexOf);n({target:"String",proto:!0,forced:!u("includes")},{includes:function(t){return!!~c(s(a(this)),s(o(t)),arguments.length>1?arguments[1]:void 0)}})},7764:(t,e,r)=>{var n=r(8183).charAt,i=r(655),o=r(1181),a=r(1088),s=r(2529),u="String Iterator",c=o.set,l=o.getterFor(u);a(String,"String",(function(t){c(this,{type:u,string:i(t),index:0})}),(function(){var t,e=l(this),r=e.string,i=e.index;return i>=r.length?s(void 0,!0):(t=n(r,i),e.index+=t.length,s(t,!1))}))},778:(t,e,r)=>{var n=r(6518),i=r(7240);n({target:"String",proto:!0,forced:r(3061)("link")},{link:function(t){return i(this,"a","href",t)}})},1761:(t,e,r)=>{var n=r(9565),i=r(9228),o=r(8551),a=r(4117),s=r(8014),u=r(655),c=r(7750),l=r(5966),h=r(7829),p=r(6682);i("match",(function(t,e,r){return[function(e){var r=c(this),i=a(e)?void 0:l(e,t);return i?n(i,e,r):new RegExp(e)[t](u(r))},function(t){var n=o(this),i=u(t),a=r(e,n,i);if(a.done)return a.value;if(!n.global)return p(n,i);var c=n.unicode;n.lastIndex=0;for(var l,f=[],d=0;null!==(l=p(n,i));){var y=u(l[0]);f[d]=y,""===y&&(n.lastIndex=h(i,s(n.lastIndex),c)),d++}return 0===d?null:f}]}))},5440:(t,e,r)=>{var n=r(8745),i=r(9565),o=r(9504),a=r(9228),s=r(9039),u=r(8551),c=r(4901),l=r(4117),h=r(1291),p=r(8014),f=r(655),d=r(7750),y=r(7829),m=r(5966),v=r(2478),b=r(6682),g=r(8227)("replace"),w=Math.max,O=Math.min,_=o([].concat),j=o([].push),k=o("".indexOf),x=o("".slice),S="$0"==="a".replace(/./,"$0"),P=!!/./[g]&&""===/./[g]("a","$0");a("replace",(function(t,e,r){var o=P?"$":"$0";return[function(t,r){var n=d(this),o=l(t)?void 0:m(t,g);return o?i(o,t,n,r):i(e,f(n),t,r)},function(t,i){var a=u(this),s=f(t);if("string"==typeof i&&-1===k(i,o)&&-1===k(i,"$<")){var l=r(e,a,s,i);if(l.done)return l.value}var d=c(i);d||(i=f(i));var m,g=a.global;g&&(m=a.unicode,a.lastIndex=0);for(var S,P=[];null!==(S=b(a,s))&&(j(P,S),g);)""===f(S[0])&&(a.lastIndex=y(s,p(a.lastIndex),m));for(var E,C="",T=0,A=0;A<P.length;A++){for(var I,R=f((S=P[A])[0]),L=w(O(h(S.index),s.length),0),N=[],B=1;B<S.length;B++)j(N,void 0===(E=S[B])?E:String(E));var D=S.groups;if(d){var F=_([R],N,L,s);void 0!==D&&j(F,D),I=f(n(i,void 0,F))}else I=v(R,s,L,N,D,i);L>=T&&(C+=x(s,T,L)+I,T=L+R.length)}return C+x(s,T)}]}),!!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!S||P)},744:(t,e,r)=>{var n=r(9565),i=r(9504),o=r(9228),a=r(8551),s=r(4117),u=r(7750),c=r(2293),l=r(7829),h=r(8014),p=r(655),f=r(5966),d=r(6682),y=r(8429),m=r(9039),v=y.UNSUPPORTED_Y,b=Math.min,g=i([].push),w=i("".slice),O=!m((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),_="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;o("split",(function(t,e,r){var i="0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:n(e,this,t,r)}:e;return[function(e,r){var o=u(this),a=s(e)?void 0:f(e,t);return a?n(a,e,o,r):n(i,p(o),e,r)},function(t,n){var o=a(this),s=p(t);if(!_){var u=r(i,o,s,n,i!==e);if(u.done)return u.value}var f=c(o,RegExp),y=o.unicode,m=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(v?"g":"y"),O=new f(v?"^(?:"+o.source+")":o,m),j=void 0===n?4294967295:n>>>0;if(0===j)return[];if(0===s.length)return null===d(O,s)?[s]:[];for(var k=0,x=0,S=[];x<s.length;){O.lastIndex=v?0:x;var P,E=d(O,v?w(s,x):s);if(null===E||(P=b(h(O.lastIndex+(v?x:0)),s.length))===k)x=l(s,x,y);else{if(g(S,w(s,k,x)),S.length===j)return S;for(var C=1;C<=E.length-1;C++)if(g(S,E[C]),S.length===j)return S;x=k=P}}return g(S,w(s,k)),S}]}),_||!O,v)},1392:(t,e,r)=>{var n,i=r(6518),o=r(7476),a=r(7347).f,s=r(8014),u=r(655),c=r(5749),l=r(7750),h=r(1436),p=r(6395),f=o("".slice),d=Math.min,y=h("startsWith");i({target:"String",proto:!0,forced:!(!p&&!y&&(n=a(String.prototype,"startsWith"),n&&!n.writable)||y)},{startsWith:function(t){var e=u(l(this));c(t);var r=s(d(arguments.length>1?arguments[1]:void 0,e.length)),n=u(t);return f(e,r,r+n.length)===n}})},2762:(t,e,r)=>{var n=r(6518),i=r(3802).trim;n({target:"String",proto:!0,forced:r(706)("trim")},{trim:function(){return i(this)}})},6412:(t,e,r)=>{r(511)("asyncIterator")},6761:(t,e,r)=>{var n=r(6518),i=r(4475),o=r(9565),a=r(9504),s=r(6395),u=r(3724),c=r(4495),l=r(9039),h=r(9297),p=r(1625),f=r(8551),d=r(5397),y=r(6969),m=r(655),v=r(6980),b=r(2360),g=r(1072),w=r(8480),O=r(298),_=r(3717),j=r(7347),k=r(4913),x=r(6801),S=r(8773),P=r(6840),E=r(2106),C=r(5745),T=r(6119),A=r(421),I=r(3392),R=r(8227),L=r(1951),N=r(511),B=r(8242),D=r(687),F=r(1181),V=r(9213).forEach,M=T("hidden"),$="Symbol",z="prototype",H=F.set,W=F.getterFor($),q=Object[z],U=i.Symbol,G=U&&U[z],J=i.RangeError,Z=i.TypeError,Y=i.QObject,K=j.f,Q=k.f,X=O.f,tt=S.f,et=a([].push),rt=C("symbols"),nt=C("op-symbols"),it=C("wks"),ot=!Y||!Y[z]||!Y[z].findChild,at=function(t,e,r){var n=K(q,e);n&&delete q[e],Q(t,e,r),n&&t!==q&&Q(q,e,n)},st=u&&l((function(){return 7!==b(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a}})).a}))?at:Q,ut=function(t,e){var r=rt[t]=b(G);return H(r,{type:$,tag:t,description:e}),u||(r.description=e),r},ct=function(t,e,r){t===q&&ct(nt,e,r),f(t);var n=y(e);return f(r),h(rt,n)?(r.enumerable?(h(t,M)&&t[M][n]&&(t[M][n]=!1),r=b(r,{enumerable:v(0,!1)})):(h(t,M)||Q(t,M,v(1,b(null))),t[M][n]=!0),st(t,n,r)):Q(t,n,r)},lt=function(t,e){f(t);var r=d(e),n=g(r).concat(dt(r));return V(n,(function(e){u&&!o(ht,r,e)||ct(t,e,r[e])})),t},ht=function(t){var e=y(t),r=o(tt,this,e);return!(this===q&&h(rt,e)&&!h(nt,e))&&(!(r||!h(this,e)||!h(rt,e)||h(this,M)&&this[M][e])||r)},pt=function(t,e){var r=d(t),n=y(e);if(r!==q||!h(rt,n)||h(nt,n)){var i=K(r,n);return!i||!h(rt,n)||h(r,M)&&r[M][n]||(i.enumerable=!0),i}},ft=function(t){var e=X(d(t)),r=[];return V(e,(function(t){h(rt,t)||h(A,t)||et(r,t)})),r},dt=function(t){var e=t===q,r=X(e?nt:d(t)),n=[];return V(r,(function(t){!h(rt,t)||e&&!h(q,t)||et(n,rt[t])})),n};c||(P(G=(U=function(){if(p(G,this))throw new Z("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?m(arguments[0]):void 0,e=I(t),r=function(t){var n=void 0===this?i:this;n===q&&o(r,nt,t),h(n,M)&&h(n[M],e)&&(n[M][e]=!1);var a=v(1,t);try{st(n,e,a)}catch(t){if(!(t instanceof J))throw t;at(n,e,a)}};return u&&ot&&st(q,e,{configurable:!0,set:r}),ut(e,t)})[z],"toString",(function(){return W(this).tag})),P(U,"withoutSetter",(function(t){return ut(I(t),t)})),S.f=ht,k.f=ct,x.f=lt,j.f=pt,w.f=O.f=ft,_.f=dt,L.f=function(t){return ut(R(t),t)},u&&(E(G,"description",{configurable:!0,get:function(){return W(this).description}}),s||P(q,"propertyIsEnumerable",ht,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:U}),V(g(it),(function(t){N(t)})),n({target:$,stat:!0,forced:!c},{useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),n({target:"Object",stat:!0,forced:!c,sham:!u},{create:function(t,e){return void 0===e?b(t):lt(b(t),e)},defineProperty:ct,defineProperties:lt,getOwnPropertyDescriptor:pt}),n({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ft}),B(),D(U,$),A[M]=!0},9463:(t,e,r)=>{var n=r(6518),i=r(3724),o=r(4475),a=r(9504),s=r(9297),u=r(4901),c=r(1625),l=r(655),h=r(2106),p=r(7740),f=o.Symbol,d=f&&f.prototype;if(i&&u(f)&&(!("description"in d)||void 0!==f().description)){var y={},m=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),e=c(d,this)?new f(t):void 0===t?f():f(t);return""===t&&(y[e]=!0),e};p(m,f),m.prototype=d,d.constructor=m;var v="Symbol(description detection)"===String(f("description detection")),b=a(d.valueOf),g=a(d.toString),w=/^Symbol\((.*)\)[^)]+$/,O=a("".replace),_=a("".slice);h(d,"description",{configurable:!0,get:function(){var t=b(this);if(s(y,t))return"";var e=g(t),r=v?_(e,7,-1):O(e,w,"$1");return""===r?void 0:r}}),n({global:!0,constructor:!0,forced:!0},{Symbol:m})}},1510:(t,e,r)=>{var n=r(6518),i=r(7751),o=r(9297),a=r(655),s=r(5745),u=r(1296),c=s("string-to-symbol-registry"),l=s("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!u},{for:function(t){var e=a(t);if(o(c,e))return c[e];var r=i("Symbol")(e);return c[e]=r,l[r]=e,r}})},2259:(t,e,r)=>{r(511)("iterator")},2675:(t,e,r)=>{r(6761),r(1510),r(7812),r(3110),r(9773)},7812:(t,e,r)=>{var n=r(6518),i=r(9297),o=r(757),a=r(6823),s=r(5745),u=r(1296),c=s("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!u},{keyFor:function(t){if(!o(t))throw new TypeError(a(t)+" is not a symbol");if(i(c,t))return c[t]}})},5700:(t,e,r)=>{var n=r(511),i=r(8242);n("toPrimitive"),i()},8125:(t,e,r)=>{var n=r(7751),i=r(511),o=r(687);i("toStringTag"),o(n("Symbol"),"Symbol")},5240:(t,e,r)=>{r(6468)("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r(4006))},958:(t,e,r)=>{r(5240)},3500:(t,e,r)=>{var n=r(4475),i=r(7400),o=r(9296),a=r(235),s=r(6699),u=function(t){if(t&&t.forEach!==a)try{s(t,"forEach",a)}catch(e){t.forEach=a}};for(var c in i)i[c]&&u(n[c]&&n[c].prototype);u(o)},2953:(t,e,r)=>{var n=r(4475),i=r(7400),o=r(9296),a=r(3792),s=r(6699),u=r(687),c=r(8227)("iterator"),l=a.values,h=function(t,e){if(t){if(t[c]!==l)try{s(t,c,l)}catch(e){t[c]=l}if(u(t,e,!0),i[e])for(var r in a)if(t[r]!==a[r])try{s(t,r,a[r])}catch(e){t[r]=a[r]}}};for(var p in i)h(n[p]&&n[p].prototype,p);h(o,"DOMTokenList")},5575:(t,e,r)=>{var n=r(6518),i=r(4475),o=r(9472)(i.setInterval,!0);n({global:!0,bind:!0,forced:i.setInterval!==o},{setInterval:o})},4599:(t,e,r)=>{var n=r(6518),i=r(4475),o=r(9472)(i.setTimeout,!0);n({global:!0,bind:!0,forced:i.setTimeout!==o},{setTimeout:o})},6031:(t,e,r)=>{r(5575),r(4599)}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,r),o.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return(()=>{r.r(n),r.d(n,{JSONEditor:()=>Bu}),r(2675),r(9463),r(6412),r(2259),r(5700),r(8125),r(8706),r(113),r(1629),r(3418),r(4346),r(3792),r(2712),r(4490),r(4782),r(739),r(9572),r(3288),r(2010),r(4731),r(479),r(2892),r(9085),r(9904),r(4185),r(875),r(9432),r(287),r(6099),r(6034),r(3362),r(7495),r(8781),r(7764),r(3500),r(2953),r(5506),r(4864),r(5440),r(4423),r(1699);var t=[function(t){return"string"===t.type&&["xhtml","bbcode"].includes(t.format)&&"sceditor"},function(t){return"string"===t.type&&"markdown"===t.format&&"simplemde"},function(t){return"string"===t.type&&"jodit"===t.format&&"jodit"},function(t){return"string"===t.type&&"autocomplete"===t.format&&"autocomplete"},function(t){return"string"===t.type&&"uuid"===t.format&&"uuid"},function(t){return"info"===t.format&&"info"},function(t){return"button"===t.format&&"button"},function(t){if(("integer"===t.type||"number"===t.type)&&"stepper"===t.format)return"stepper"},function(t){return"object"===t.type&&t.options&&t.options.layout&&"popup"===t.options.layout.name&&"popup"},function(t){return"object"===t.type&&t.options&&t.options.layout&&"survey"===t.options.layout.name&&"survey"},function(t){if(t.links)for(var e=0;e<t.links.length;e++)if(t.links[e].rel&&"describedby"===t.links[e].rel.toLowerCase())return"describedBy"},function(t){return["string","integer"].includes(t.type)&&["starrating","rating"].includes(t.format)&&"starrating"},function(t){return["string","integer"].includes(t.type)&&["date","time","datetime","datetime-local"].includes(t.format)&&"datetime"},function(t){var e,r;return(t.oneOf||t.anyOf)&&!0===(null===(e=null===(r=t.options)||void 0===r?void 0:r.switcher)||void 0===e||e)&&"multiple"},function(t){return t.if&&"multiple"},function(t,e){if(t&&"array"===t.type&&t.items){var r=e.expandSchema(t.items);if(!Array.isArray(r)&&["string","number","integer"].includes(r.type)){var n;if("choices"===t.format)return"arrayChoices";var i=null===(n=r.options)||void 0===n||null===(n=n.input)||void 0===n?void 0:n.name;return"string"==typeof i&&i.toLowerCase().includes("multiselect")?"tagmultiselect":Array.isArray(r.enum)&&r.enum.length?"multiselect":"table"}}},function(t){if(t.enum){if("array"===t.type||"object"===t.type)return"enum";if("number"===t.type||"integer"===t.type||"string"===t.type)return"select2"===t.format?"select2":"selectize"===t.format?"selectize":"choices"===t.format?"choices":"select"}},function(t){if(t.enumSource)return"select2"===t.format?"select2":"selectize"===t.format?"selectize":"choices"===t.format?"choices":"select"},function(t){return"array"===t.type&&t.options&&t.options.layout&&"table"===t.options.layout.name&&"table"},function(t){return"string"===t.type&&"url"===t.format&&window.FileReader&&t.options&&t.options.upload===Object(t.options.upload)&&"upload"},function(t){return"string"===t.type&&t.media&&"base64"===t.media.binaryEncoding&&"base64"},function(t){return"any"===t.type&&"multiple"},function(t){if("boolean"===t.type)return"boolean"},function(t){return"string"===t.type&&"signature"===t.format&&"signature"},function(t){if("string"==typeof t.type&&["string","number","integer","boolean","null","array","object"].includes(t.type))return t.type},function(t){return!t.type&&t.properties&&"object"},function(t){return"string"!=typeof t.type&&"multiple"},function(t){return"string"==typeof t.type&&"string"}];function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function i(t){return!(null===t||"object"!==e(t)||t.nodeType||t===t.window||t.constructor&&!c(t.constructor.prototype,"isPrototypeOf"))}function o(t){return i(t)?a({},t):Array.isArray(t)?t.map(o):t}function a(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return r.forEach((function(e){e&&Object.keys(e).forEach((function(r){e[r]&&i(e[r])?(c(t,r)||(t[r]={}),a(t[r],e[r])):Array.isArray(e[r])?t[r]=o(e[r]):t[r]=e[r]}))})),t}function s(t,e){if(t instanceof Element){var r=document.createEvent("HTMLEvents");r.initEvent(e,!0,!0),t.dispatchEvent(r)}}function u(t){return t&&("[object ShadowRoot]"===t.toString()?t:u(t.parentNode))}function c(t,e){return t&&Object.prototype.hasOwnProperty.call(t,e)}r(4170),r(3851),r(825),r(888),r(8598),r(1761),r(8431),r(5276),r(5086),r(1392),r(778),r(2062),r(8459),r(8940);var l=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,h=/^\s*(-|\+)?(\d+)\s*$/;function p(t){return t&&"object"===e(t)&&!Array.isArray(t)}function f(t,e){if(t){if("string"==typeof t)return d(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v(n.key),n)}}function v(t){var e=function(t,e){if("object"!=y(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==y(e)?e:e+""}var b=function(){return t=function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.defaults=r,this.jsoneditor=e.jsoneditor,this.theme=this.jsoneditor.theme,this.template_engine=this.jsoneditor.template,this.iconlib=this.jsoneditor.iconlib,this.translate=this.jsoneditor.translate||this.defaults.translate,this.translateProperty=this.jsoneditor.translateProperty||this.defaults.translateProperty,this.original_schema=e.schema,this.schema=this.jsoneditor.expandSchema(this.original_schema),this.options=a({},this.schema.options||{},e),this.isMetaSchema=this.jsoneditor.options.isMetaSchema,this.layout=this.getLayout(),this.inputOptions=this.getInputOptions(),this.controlOptions=this.getControlOptions(),this.active=!0,this.enforceConstEnabled=!0,this.formname=this.jsoneditor.options.form_name_root||"root",this.schemaName=this.jsoneditor.options.schemaName,e.path||this.schema.id||(this.schema.id=this.formname),this.path=e.path||this.formname,this.options.ignore||this.jsoneditor.pendingPostBuild++,this.depth=this.getPathDepth()-1,this.pathNoIndex=e.pathNoIndex,this.formname=e.formname||this.path.replace(/\.([^.]+)/g,"[$1]"),this.parent=e.parent,this.key=void 0!==this.parent?this.path.split(".").slice(this.parent.path.split(".").length).join("."):this.path,this.link_watchers=[],this.watchLoop=!1,this.jsoneditor.treeManager&&this.jsoneditor.treeManager.handleEvent("editorConstructor",this,e),e.container&&this.setContainer(e.container),this.registerDependencies()},e=[{key:"isPrimitive",value:function(t){if(t=t||this.schema,["string","boolean","null","integer","number"].includes(t.type))return!0;if(Array.isArray(t.enum)&&t.enum.length)return t.enum.every((function(t){return null===t||"string"==typeof t||"number"==typeof t||"boolean"==typeof t}));if("array"===t.type&&t.items){var e,r=this.jsoneditor.expandRefs(t.items);if(Array.isArray(r))return!1;if(!["string","number","integer"].includes(r.type))return!1;var n=null===(e=r.options)||void 0===e||null===(e=e.input)||void 0===e?void 0:e.name;return!("string"!=typeof n||!n.toLowerCase().includes("multiselect"))||!(!Array.isArray(r.enum)||!r.enum.length)&&r.enum.every((function(t){return null===t||"string"==typeof t||"number"==typeof t||"boolean"==typeof t}))}return!1}},{key:"isPrimitive_",value:function(t){return t=t||this.schema,-1!==["string","boolean","null","integer","number"].indexOf(t.type)}},{key:"onChildEditorChange",value:function(t,e){this.onChange(!0,!1,e)}},{key:"notify",value:function(){this.path&&this.jsoneditor.notifyWatchers(this.path)}},{key:"change",value:function(t){this.parent?this.parent.onChildEditorChange(this,t):this.jsoneditor&&this.jsoneditor.onChange(t)}},{key:"onChange",value:function(t,e,r){this.notify(),e||this.watch_listener&&this.watch_listener(),t&&this.change(r)}},{key:"register",value:function(){if(this.jsoneditor.registerEditor(this),this.input&&!this.label){var t=this.getTitle()||this.formname;this.input.setAttribute("aria-label",t)}this.onChange()}},{key:"unregister",value:function(){this.jsoneditor&&this.jsoneditor.unregisterEditor(this)}},{key:"getNumColumns",value:function(){return 12}},{key:"isActive",value:function(){return this.active}},{key:"activate",value:function(){this.active=!0,delete this.disableTree,this.enable(),this.change()}},{key:"deactivate",value:function(){this.isRequired()||(this.active=!1,this.disable(),this.change())}},{key:"registerDependencies",value:function(){var t=this;this.dependenciesFulfilled=!0;var e=this.options.dependencies;e&&Object.keys(e).forEach((function(e){var r;e.startsWith(t.jsoneditor.root.path)?r=e:((r=t.path.split("."))[r.length-1]=e,r=r.join(".")),t.jsoneditor.watch(r,(function(){t.evaluateDependencies()}))}))}},{key:"evaluateDependencies",value:function(){var t=this.container||this.control;if(t&&null!==this.jsoneditor){var e=this.options.dependencies;if(e){var r=this.dependenciesFulfilled;this.dependenciesFulfilled=!0;for(var n=0,i=Object.keys(e);n<i.length;n++){var o=i[n],a=void 0;o.startsWith(this.jsoneditor.root.path)?a=o:((a=this.path.split("."))[a.length-1]=o,a=a.join("."));var s=e[o];this.checkDependency(a,s)}this.dependenciesFulfilled!==r&&this.notify();var u=this.dependenciesFulfilled?"block":"none";this.options.hidden&&(u="none"),"TD"===t.tagName?Object.keys(t.childNodes).forEach((function(e){return t.childNodes[e].style.display=u})):t.style.display=u}}}},{key:"checkDependency",value:function(t,e){var r=this;if(this.path!==t&&null!==this.jsoneditor){var n=this.jsoneditor.getEditor(t),i=n?n.getValue():void 0;n&&n.dependenciesFulfilled&&void 0!==i?Array.isArray(e)?this.dependenciesFulfilled=e.some((function(t){if(JSON.stringify(i)===JSON.stringify(t))return!0})):"object"===y(e)?"object"!==y(i)?this.dependenciesFulfilled=e===i:Object.keys(e).some((function(t){return!!c(e,t)&&(c(i,t)&&e[t]===i[t]?void 0:(r.dependenciesFulfilled=!1,!0))})):"string"==typeof e||"number"==typeof e?this.dependenciesFulfilled=this.dependenciesFulfilled&&i===e:"boolean"==typeof e&&(this.dependenciesFulfilled=e?this.dependenciesFulfilled&&(i||i.length>0):this.dependenciesFulfilled&&(!i||0===i.length)):this.dependenciesFulfilled=!1}}},{key:"setContainer",value:function(t){this.container?console.warn("Warning, container for ".concat(this.path," already exists")):(this.container=t,this.setContainerAttributes(),this.schema.id&&this.container.setAttribute("data-schemaid",this.schema.id),this.schema.type&&"string"==typeof this.schema.type&&this.container.setAttribute("data-schematype",this.schema.type),this.container.setAttribute("data-schemapath",this.path),this.container.setAttribute("data-schemapath_no_index",this.pathNoIndex))}},{key:"preBuild",value:function(){}},{key:"build",value:function(){}},{key:"postBuild",value:function(){this.setupWatchListeners(),this.addLinks(),this.register();var t=!1;if(void 0===this.value){var e=this.getDefault();void 0!==e&&(t=!0,this.setValue(e,!0))}t||"function"!=typeof this.layoutEditors||this.layoutEditors(),this.updateHeaderText(),this.onWatchedFieldChange(),this.options.titleHidden&&(this.theme.visuallyHidden(this.label),this.theme.visuallyHidden(this.header)),this.enforceConstEnabled&&this.schema.const&&this.disable(),this.options.ignore||this.postBuildProcessed||(this.jsoneditor.pendingPostBuild--,this.postBuildProcessed=!0),this.jsoneditor.treeManager&&this.jsoneditor.treeManager.handleEvent("postBuildEditor",this),0===this.jsoneditor.pendingPostBuild&&this.jsoneditor.onBuildComplete()}},{key:"setupWatchListeners",value:function(){var t=this;if(this.watched={},this.schema.vars&&(this.schema.watch=this.schema.vars),this.watched_values={},this.watch_listener=function(){t.refreshWatchedFieldValues()&&t.onWatchedFieldChange()},c(this.schema,"watch")){var e=this.container.getAttribute("data-schemapath"),r=!1;Object.keys(this.schema.watch).forEach((function(n){var i=t.schema.watch[n],o=Array.isArray(i)?[i[0]].concat(i[1].split(".")):i.split("."),a=o.shift();"#"===a&&(a=t.jsoneditor.schema.id||t.jsoneditor.root.formname);for(var s=t.container;s&&(null===(u=s.getAttribute("data-schemapath"))||void 0===u?void 0:u.split(".").pop())!==a;){var u;s=s.parentElement}if(s||(s=t.theme.closest(t.jsoneditor.root.container,'[data-schemaid="'.concat(a,'"]'))),!s)return console.warn('Could not find ancestor node with id "'.concat(a,'"')),void(r=!0);var c,l=[s.getAttribute("data-schemapath")].concat((c=o,function(t){if(Array.isArray(t))return d(t)}(c)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(c)||f(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).join(".");e.startsWith(l)&&(t.watchLoop=!0),t.jsoneditor.watch(l,t.watch_listener),t.watched[n]=l})),r||this.schema.headerTemplate&&(this.header_template=this.jsoneditor.compileTemplate(this.schema.headerTemplate,this.template_engine))}}},{key:"addLinks",value:function(){}},{key:"onMove",value:function(){}},{key:"getButton",value:function(t){return this.theme.getButton(t)}},{key:"setButtonText",value:function(t,e,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return r=this.iconlib?this.iconlib.getIcon(r):null,e=this.translate(e,i),n=this.translate(n,i),!r&&n&&(e=n,n=null),this.theme.setButtonText(t,e,r,n)}},{key:"addLink",value:function(t){this.link_holder&&this.theme.append(this.link_holder,this.link)}},{key:"getLink",value:function(t){var e,r,n=(t.mediaType||"application/javascript").split("/")[0],i=this.jsoneditor.compileTemplate(t.href,this.template_engine),o=this.jsoneditor.compileTemplate(t.rel?t.rel:t.href,this.template_engine),a=null;if(t.download&&(a=t.download),a&&!0!==a&&(a=this.jsoneditor.compileTemplate(a,this.template_engine)),"image"===n){e=this.theme.getBlockLinkHolder(),(r=document.createElement("a")).setAttribute("target","_blank");var s=document.createElement("img");this.theme.createImageLink(e,r,s),this.link_watchers.push((function(t){var e=i(t),n=o(t);r.setAttribute("href",e),r.setAttribute("title",n||e),s.setAttribute("src",e)}))}else if(["audio","video"].includes(n)){e=this.theme.getBlockLinkHolder(),(r=this.theme.getBlockLink()).setAttribute("target","_blank");var u=document.createElement(n);u.setAttribute("controls","controls"),this.theme.createMediaLink(e,r,u),this.link_watchers.push((function(t){var e=i(t),n=o(t);r.setAttribute("href",e),r.textContent=n||e,u.setAttribute("src",e)}))}else r=e=this.theme.getBlockLink(),e.setAttribute("target","_blank"),e.textContent=t.rel,e.style.display="none",this.link_watchers.push((function(t){var r=i(t),n=o(t);r&&(e.style.display=""),e.setAttribute("href",r),e.textContent=n||r}));return a&&r&&(!0===a?r.setAttribute("download",""):this.link_watchers.push((function(t){r.setAttribute("download",a(t))}))),t.class&&t.class.split(" ").forEach((function(t){r.classList.add(t)})),e}},{key:"refreshWatchedFieldValues",value:function(){if(this.watched_values){var t={},e=!1;if(this.watched)for(var r=0,n=Object.keys(this.watched);r<n.length;r++){var i=n[r],o=this.jsoneditor.getEditor(this.watched[i]),a=o?o.getValue():null;this.watched_values[i]!==a&&(e=!0),t[i]=a}return t.self=this.getValue(),this.watched_values.self!==t.self&&(e=!0),this.watched_values=t,e}}},{key:"getWatchedFieldValues",value:function(){return this.watched_values}},{key:"updateHeaderText",value:function(){if(this.header){var t=this.getHeaderText();this.theme.updateHeaderText(this.header,t,this)}}},{key:"getHeaderText",value:function(t){return this.header_text?this.header_text:t?this.translateProperty(this.schema.title):this.getTitle()}},{key:"getPathDepth",value:function(){return this.path.split(".").length}},{key:"cleanText",value:function(t){var e=document.createElement("div");return e.innerHTML=t,e.textContent||e.innerText}},{key:"onWatchedFieldChange",value:function(){var t,e=this;if(this.header_template){t=a(this.getWatchedFieldValues(),{key:this.key,i:this.key,i0:1*this.key,i1:1*this.key+1,title:this.getTitle()}),this.editors&&Object.keys(this.editors).length&&(t.properties={},Object.keys(this.editors).forEach((function(r){var n=e.editors[r];if(n.schema&&n.schema.enum&&n.schema.options&&n.schema.options.enum_titles){var i=n.schema.enum.indexOf(n.value),o=n.options.enum_titles[i];t.properties[r]={enumTitle:o}}})));var r=this.header_template(t);r!==this.header_text&&(this.header_text=r,this.updateHeaderText(),this.notify())}if(this.link_watchers.length){t=this.getWatchedFieldValues();for(var n=0;n<this.link_watchers.length;n++)this.link_watchers[n](t)}}},{key:"setValue",value:function(t){t=this.applyConstFilter(t),this.value=t}},{key:"hasConstFilter",value:function(){return void 0!==this.schema.const}},{key:"applyConstFilter",value:function(t){return this.enforceConstEnabled&&void 0!==this.schema.const&&(t=this.schema.const),t}},{key:"getValue",value:function(){if(this.dependenciesFulfilled)return this.value}},{key:"refreshValue",value:function(){}},{key:"getChildEditors",value:function(){return!1}},{key:"destroy",value:function(){var t=this;this.unregister(this),this.watched&&Object.values(this.watched).forEach((function(e){return t.jsoneditor.unwatch(e,t.watch_listener)})),this.watched=null,this.watched_values=null,this.watch_listener=null,this.header_text=null,this.header_template=null,this.value=null,this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container),this.container=null,this.jsoneditor=null,this.schema=null,this.path=null,this.pathNoIndex=null,this.key=null,this.parent=null}},{key:"isDefaultRequired",value:function(){return this.isRequired()||!!this.jsoneditor.options.use_default_values}},{key:"getDefault",value:function(){if(void 0!==this.options.startval)return this.options.startval;if(this.enforceConstEnabled&&this.schema.const)return this.schema.const;if(void 0!==this.schema.default)return this.schema.default;if(Array.isArray(this.schema.enum)&&this.schema.enum.length>0)return this.schema.enum[0];var t=this.schema.type||this.schema.oneOf;if(Array.isArray(t)&&(t=t[0]),t&&"object"===y(t)&&(t=t.type),Array.isArray(t)&&(t=t[0]),"string"==typeof t)switch(t){case"number":case"integer":return this.isDefaultRequired()?0:void 0;case"boolean":return!this.isDefaultRequired()&&void 0;case"string":return this.isDefaultRequired()?"":void 0;case"null":return null;case"object":return{};case"array":return[]}}},{key:"getLayout",value:function(){return"layout"in this.options?a({name:null,config:{}},this.options.layout):{name:null,config:{}}}},{key:"getInputOptions",value:function(t){return"input"in(t=t||this).options?a({name:null,config:{}},t.options.input):{name:null,config:{}}}},{key:"getControlOptions",value:function(t){return"control"in(t=t||this).options?a({config:{}},t.options.control):{config:{}}}},{key:"getTitle",value:function(){return this.parent?this.translateProperty(this.schema.title||this.key||this.parent.title||this.parent.key):this.translateProperty(this.schema.title||this.schemaName)}},{key:"enable",value:function(){this.disabled=!1}},{key:"disable",value:function(){this.disabled=!0}},{key:"isEnabled",value:function(){return!this.disabled}},{key:"isRequired",value:function(){var t,e,r;return!0===(null===(t=this.schema)||void 0===t?void 0:t.required)||(Array.isArray(null===(e=this.parent)||void 0===e||null===(e=e.schema)||void 0===e?void 0:e.required)?this.parent.schema.required.includes(this.key):!(null===(r=this.jsoneditor)||void 0===r||null===(r=r.options)||void 0===r||!r.required_by_default))}},{key:"getValidId",value:function(t){return(t=void 0===t?"":t.toString()).replace(/\s+/g,"-")}},{key:"setInputAttributes",value:function(t,e){if(this.schema.options&&this.schema.options.inputAttributes){var r=this.schema.options.inputAttributes,n=["name","type"].concat(t),i=e||this.input;Object.keys(r).forEach((function(t){n.includes(t.toLowerCase())||i.setAttribute(t,r[t])}))}}},{key:"setContainerAttributes",value:function(){var t=this;if(this.schema.options&&this.schema.options.containerAttributes){var e=this.schema.options.containerAttributes,r=["data-schemapath","data-schematype","data-schemaid"];Object.keys(e).forEach((function(n){r.includes(n.toLowerCase())||t.container.setAttribute(n,e[n])}))}}},{key:"expandCallbacks",value:function(t,e){var r=this,n=this.defaults.callbacks[t];return Object.entries(e).forEach((function(i){var o,a,s=(a=2,function(t){if(Array.isArray(t))return t}(o=i)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(o,a)||f(o,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=s[0],c=s[1];c===Object(c)?e[u]=r.expandCallbacks(t,c):"string"==typeof c&&"object"===y(n)&&"function"==typeof n[c]&&(e[u]=n[c].bind(null,r))})),e}},{key:"showValidationErrors",value:function(t){}}],e&&m(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function w(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O(n.key),n)}}function O(t){var e=function(t,e){if("object"!=g(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==g(e)?e:e+""}function _(t,e,r){return e=x(e),function(t,e){if(e&&("object"===g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,j()?Reflect.construct(e,r||[],x(t).constructor):e.apply(t,r))}function j(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(j=function(){return!!t})()}function k(){return k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=x(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},k.apply(this,arguments)}function x(t){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},x(t)}function S(t,e){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S(t,e)}var P=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),_(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(e,t),r=e,(n=[{key:"register",value:function(){k(x(e.prototype),"register",this).call(this),this.input&&this.jsoneditor.options.use_name_attributes&&this.input.setAttribute("name",this.formname)}},{key:"unregister",value:function(){k(x(e.prototype),"unregister",this).call(this),this.input&&(this.input.removeAttribute("name"),this.input.removeAttribute("aria-label"))}},{key:"setValue",value:function(t,e,r){if(t=this.applyConstFilter(t),(!this.template||r)&&(this.shouldBeUnset()||null!=t?"object"===g(t)?t=JSON.stringify(t):this.shouldBeUnset()||"string"==typeof t||(t="".concat(t)):t="",t!==this.serialized)){var n=this.sanitize(t);if(this.getValue()!==n){if(this.setValueToInputField(n),"range"===this.format){var i=this.control.querySelector("output");i&&(i.value=n)}var o=r||this.getValue()!==t;return this.refreshValue(),e?this.is_dirty=!1:"change"===this.jsoneditor.options.show_errors&&(this.is_dirty=!0),this.adjust_height&&this.adjust_height(this.input),o&&this.onChange(!0,r),{changed:o,value:n}}}}},{key:"setValueToInputField",value:function(t){this.input.setValue(void 0===t?"":t)}},{key:"getNumColumns",value:function(){var t,e=Math.ceil(Math.max(this.getTitle().length,this.schema.maxLength||0,this.schema.minLength||0)/5);return t="textarea"===this.input_type?6:["text","email"].includes(this.input_type)?4:2,Math.min(12,Math.max(e,t))}},{key:"build",value:function(){var t,e=this;if(this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.format=this.schema.format,!this.format&&this.schema.media&&this.schema.media.type&&(this.format=this.schema.media.type.replace(/(^(application|text)\/(x-)?(script\.)?)|(-source$)/g,"")),!this.format&&this.options.default_format&&(this.format=this.options.default_format),this.options.format&&(this.format=this.options.format),this.format)if("textarea"===this.format)this.input_type="textarea",this.input=this.theme.getTextareaInput(this.inputOptions);else if("range"===this.format){this.input_type="range";var r=this.schema.minimum||0,n=this.schema.maximum||Math.max(100,r+1),i=1;this.schema.multipleOf&&(r%this.schema.multipleOf&&(r=Math.ceil(r/this.schema.multipleOf)*this.schema.multipleOf),n%this.schema.multipleOf&&(n=Math.floor(n/this.schema.multipleOf)*this.schema.multipleOf),i=this.schema.multipleOf),this.input=this.theme.getRangeInput(r,n,i,this.description,this.formname),this.input.setAttribute("id",this.formname)}else this.input_type="text",["color","date","datetime","date-time","datetime-local","email","file","hidden","image","month","password","tel","text","textarea","time","json","url","uri"].includes(this.format)&&(this.input_type=this.format),this.input=this.theme.getFormInputField(this.input_type,this);else this.schema.type?"string"===this.schema.type?this.input_type="text":this.input_type=this.schema.type:this.input_type="text",this.input=this.theme.getFormInputField(this.input_type,this);void 0!==this.schema.maxLength&&this.input.setAttribute("maxlength",this.schema.maxLength),void 0!==this.schema.pattern?this.input.setAttribute("pattern",this.schema.pattern):void 0!==this.schema.minLength&&this.input.setAttribute("pattern",".{".concat(this.schema.minLength,",}")),this.options.compact?this.container.classList.add("compact"):this.options.input_width&&(this.input.style.width=this.options.input_width),(this.schema.readOnly||this.schema.readonly||this.schema.template)&&(this.disable(!0),this.input.setAttribute("readonly","true")),this.setInputAttributes(["maxlength","pattern","readonly","min","max","step"]),this.input.on("change",(function(t){if(!e.schema.template){var r=t;e.sanitize(r),e.is_dirty=!0,e.refreshValue(),e.onChange(!0)}})),this.options.input_height&&(this.input.style.height=this.options.input_height),null!==(t=this.options.prompt_paste_max_length_reached)&&void 0!==t||this.jsoneditor.options.prompt_paste_max_length_reached,this.schema.maxLength,this.format&&this.input.setAttribute("data-schemaformat",this.format);var o=this.input;if("range"===this.format&&(o=this.theme.getRangeControl(this.input,this.theme.getRangeOutput(this.input,this.schema.default||Math.max(this.schema.minimum||0,0)))),this.control=this.theme.getFormControl(this.label,o,this.description,this.infoButton,this),this.theme.append(this.container,this.control),window.requestAnimationFrame((function(){e.input.parentNode&&e.afterInputReady(),e.adjust_height&&e.adjust_height(e.input),"range"===e.format&&(e.control.querySelector("output").value=e.input.value)})),this.schema.template){var a=this.expandCallbacks("template",{template:this.schema.template});"function"==typeof a.template?this.template=a.template:this.template=this.jsoneditor.compileTemplate(this.schema.template,this.template_engine),this.refreshValue()}else this.refreshValue()}},{key:"setupCleave",value:function(t){var e=this.expandCallbacks("cleave",a({},this.defaults.options.cleave||{},this.options.cleave||{}));"object"===g(e)&&Object.keys(e).length>0&&(this.cleave_instance=new window.Cleave(t,e))}},{key:"setupImask",value:function(t){var e=this.expandCallbacks("imask",a({},this.defaults.options.imask||{},this.options.imask||{}));"object"===g(e)&&Object.keys(e).length>0&&(this.imask_instance=window.IMask(t,this.ajustIMaskOptions(e)))}},{key:"ajustIMaskOptions",value:function(t){var e=this;return Object.keys(t).forEach((function(r){if(t[r]===Object(t[r]))t[r]=e.ajustIMaskOptions(t[r]);else if("mask"===r)if("regex:"===t[r].substr(0,6)){var n=t[r].match(/^regex:\/(.*)\/([gimsuy]*)$/);if(null!==n)try{t[r]=new RegExp(n[1],n[2])}catch(t){}}else t[r]=e.getGlobalPropertyFromString(t[r])})),t}},{key:"getGlobalPropertyFromString",value:function(t){if(t.includes(".")){var e=t.split("."),r=e[0],n=e[1];if(void 0!==window[r]&&void 0!==window[r][n])return window[r][n]}else if(void 0!==window[t])return window[t];return t}},{key:"shouldBeUnset",value:function(){return!this.jsoneditor.options.use_default_values&&!this.is_dirty}},{key:"getValue",value:function(){var t=!(!this.input||!this.input.getValue());if(!this.shouldBeUnset()||t)return this.imask_instance&&this.dependenciesFulfilled&&this.options.imask.returnUnmasked?this.imask_instance.unmaskedValue:k(x(e.prototype),"getValue",this).call(this)}},{key:"enable",value:function(){this.always_disabled||(this.input.setDisabled(!1),k(x(e.prototype),"enable",this).call(this))}},{key:"disable",value:function(t){t&&(this.always_disabled=!0),this.input.setDisabled(!0),k(x(e.prototype),"disable",this).call(this)}},{key:"afterInputReady",value:function(){this.theme.afterInputReady(this.input),window.Cleave&&!this.cleave_instance?this.setupCleave(this.input):window.IMask&&!this.imask_instance&&this.setupImask(this.input)}},{key:"refreshValue",value:function(){this.input&&(this.value=this.input.getValue(),"string"==typeof this.value||this.shouldBeUnset()||(this.value=""),this.serialized=this.value)}},{key:"destroy",value:function(){k(x(e.prototype),"destroy",this).call(this)}},{key:"sanitize",value:function(t){return t}},{key:"onWatchedFieldChange",value:function(){var t;this.template&&(t=this.getWatchedFieldValues(),this.setValue(this.template(t),!1,!0)),k(x(e.prototype),"onWatchedFieldChange",this).call(this)}},{key:"showValidationErrors",value:function(t){var e=this;if("always"===this.jsoneditor.options.show_errors);else if(!this.is_dirty&&this.previous_error_setting===this.jsoneditor.options.show_errors)return;this.previous_error_setting=this.jsoneditor.options.show_errors;var r=t.reduce((function(t,r){return r.path===e.path&&t.push(r.message),t}),[]);r.length?this.theme.addFieldError(this.control,"".concat(r.join(". "),".")):this.theme.addFieldError(this.control)}}])&&w(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(b);function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function C(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T(n.key),n)}}function T(t){var e=function(t,e){if("object"!=E(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==E(e)?e:e+""}function A(t,e,r){return e=L(e),function(t,e){if(e&&("object"===E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,I()?Reflect.construct(e,r||[],L(t).constructor):e.apply(t,r))}function I(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(I=function(){return!!t})()}function R(){return R="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=L(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},R.apply(this,arguments)}function L(t){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},L(t)}function N(t,e){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},N(t,e)}var B=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),A(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N(t,e)}(e,t),r=e,(n=[{key:"setValue",value:function(t,r,n){t=this.applyConstFilter(t);var i=R(L(e.prototype),"setValue",this).call(this,t,r,n);void 0!==i&&i.changed&&this.ace_editor_instance&&(this.ace_editor_instance.setValue(i.value),this.ace_editor_instance.session.getSelection().clearSelection(),this.ace_editor_instance.resize())}},{key:"build",value:function(){this.options.format="textarea",R(L(e.prototype),"build",this).call(this),this.input_type=this.schema.format,this.input.setAttribute("data-schemaformat",this.input_type)}},{key:"afterInputReady",value:function(){var t,r=this;if(window.ace){var n=this.input_type;"cpp"!==n&&"c++"!==n&&"c"!==n||(n="c_cpp"),t=this.expandCallbacks("ace",a({},{selectionStyle:"text",minLines:30,maxLines:30},this.defaults.options.ace||{},this.options.ace||{},{mode:"ace/mode/".concat(n)})),this.ace_container=document.createElement("div"),this.ace_container.style.width="100%",this.ace_container.style.position="relative",this.input.parentNode.insertBefore(this.ace_container,this.input),this.input.style.display="none",this.ace_editor_instance=window.ace.edit(this.ace_container,t),this.ace_editor_instance.setValue(this.getValue()),this.ace_editor_instance.session.getSelection().clearSelection(),this.ace_editor_instance.resize(),(this.schema.readOnly||this.schema.readonly||this.schema.template)&&this.ace_editor_instance.setReadOnly(!0),this.ace_editor_instance.on("change",(function(){r.input.value=r.ace_editor_instance.getValue(),r.refreshValue(),r.is_dirty=!0,r.onChange(!0)})),this.theme.afterInputReady(this.input)}else R(L(e.prototype),"afterInputReady",this).call(this)}},{key:"getNumColumns",value:function(){return 6}},{key:"enable",value:function(){!this.always_disabled&&this.ace_editor_instance&&this.ace_editor_instance.setReadOnly(!1),R(L(e.prototype),"enable",this).call(this)}},{key:"disable",value:function(t){this.ace_editor_instance&&this.ace_editor_instance.setReadOnly(!0),R(L(e.prototype),"disable",this).call(this,t)}},{key:"destroy",value:function(){this.ace_editor_instance&&(this.ace_editor_instance.destroy(),this.ace_editor_instance=null),R(L(e.prototype),"destroy",this).call(this)}}])&&C(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(P);function D(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function F(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?D(Object(r),!0).forEach((function(e){var n,i,o,a;n=t,i=e,o=r[e],a=function(t,e){if("object"!=z(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i),(i="symbol"==z(a)?a:a+"")in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function V(t){return function(t){if(Array.isArray(t))return W(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||H(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||H(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(t){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(t)}function H(t,e){if(t){if("string"==typeof t)return W(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?W(t,e):void 0}}function W(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function q(t,e){return t.reduce((function(t,e){return t&&t[e]?t[e]:null}),e)}function U(){var t=new OO.ui.WindowManager({classes:["jsonforms-ooui-window"]});return $(document.body).append(t.$element),t}function G(t,e,r,n){var i=U();i.addWindows([new OO.ui.MessageDialog({padded:!1})]);var o={message:t};return r||(o.actions=[OO.ui.MessageDialog.static.actions[0]]),i.openWindow("message",$.extend(o,e)).closed.then((function(t){return"accept"===t.action&&r?r.apply(this,n):void 0}))}r(2008),r(6449),r(6910),r(4554),r(3514),r(7945),r(3921),r(1278),r(1415),r(744),r(958),new Set(["date","date-time","time","email","hostname","ipv4","ipv6","uuid","uri","uri-reference","iri","iri-reference","json-pointer","relative-json-pointer","regex"]);var J=new Set(["$id","$schema","$ref","type","const","enum","minLength","maxLength","pattern","format","minimum","maximum","exclusiveMinimum","exclusiveMaximum","multipleOf","items","additionalItems","minItems","maxItems","uniqueItems","properties","patternProperties","additionalProperties","required","propertyNames","minProperties","maxProperties","dependencies","allOf","anyOf","oneOf","not","if","then","else","title","description","default","examples","readOnly","writeOnly"]);function Z(t,e){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}function Y(t,e){return!!p(t)&&Object.prototype.hasOwnProperty.call(t,e)}function K(t,e){if(!e||"object"!==z(e))return e;for(var r=t(e),n=0,i=["properties","patternProperties","additionalProperties","items","oneOf","anyOf","allOf","not"];n<i.length;n++){var o=i[n];r[o]&&(Array.isArray(r[o])?r[o]=r[o].map((function(e){return K(t,e)})):"object"===z(r[o])&&(r[o]=Object.fromEntries(Object.entries(r[o]).map((function(e){var r=M(e,2),n=r[0],i=r[1];return[n,K(t,i)]})))))}return r}function Q(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new WeakSet;if(!e||"object"!==z(e))return[];var n=t(e);if(r.has(n))return[];if(r.add(n),Array.isArray(n.anyOf)||Array.isArray(n.oneOf)){var i=n.anyOf?"anyOf":"oneOf";return n[i].map((function(e){return Q(t,t(e),r).map((function(t){var e,r,i;return F(F({},t),{},{type:null!==(e=t.type)&&void 0!==e?e:n.type,description:null!==(r=t.description)&&void 0!==r?r:n.description,title:null!==(i=n.title)&&void 0!==i?i:t.title})}))})).flat()}if("array"===n.type){var o=n.items?Q(t,n.items,r):void 0;return[F(F({},n),{},{items:o&&1===o.length?o[0]:o})]}return"object"===n.type||n.properties||n.patternProperties,[n]}function X(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(!r.length)return t;var i=r.shift();if(p(t)&&p(i))for(var o in i)if(Array.isArray(i[o]))if("required"===o||"type"===o){var a=Array.isArray(t[o])?t[o]:[];t[o]=Array.from(new Set([].concat(V(a),V(i[o]))))}else t[o]=i[o].slice();else p(i[o])?(t[o]||(t[o]={}),X(t[o],i[o])):t[o]=i[o];return X.apply(void 0,[t].concat(r))}function tt(t){function e(t,e,r){r.forEach((function(r){var n=jQuery.extend({},r);n.group=e;var i=r.config?r.config:{};delete n.config,t.register(function(t,e){var r=function t(){t.super.call(this,arguments[0],e),OO.ui.mixin.PendingElement.call(this,{}),q(["data","disabled"],e)&&this.setDisabled(!0),q(["data","pending"],e)&&this.pushPending(),this.toggled=!1,e.init&&e.init.call(this)};for(var n in OO.inheritClass(r,OO.ui.Tool),OO.mixinClass(r,OO.ui.mixin.PendingElement),r.prototype.onSelect=function(){t.onSelect?t.onSelect.call(this):(this.toggled=!this.toggled,this.setActive(this.toggled))},r.prototype.onUpdateState=function(){this.popPending(),this.setDisabled(!1)},t)r.static[n]=t[n];return r.static.displayBothIconAndLabel=!0,r}(n,i))}))}return{create:function(r){var n=new OO.ui.ToolFactory,i=new OO.ui.ToolGroupFactory,o=new OO.ui.Toolbar(n,i,t);return e(n,"group",r),e(n,"selectSwitch",r=[{name:"a",icon:null,title:"a",onSelect:function(){this.setActive(!1)}},{name:"b",icon:null,title:"b",function:function(){this.setActive(!1)}}]),o.setup([{name:"my-group",include:[{group:"group"}]}]),o}}}function et(t){this.windowManager=null,this.title=t.title,this.callbacks=t.callbacks,this.items=t.items,et.super.call(this,t),this.openDialog()}function rt(t,e,r){t=Object.assign({size:"large",classes:["jsonforms-form"]},t),this.config=t,this.callbacks=e,this.editor=r,this.title=t.title,rt.super.call(this,t),this.open()}function nt(t){function e(){for(var t,r=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];(t=e.super).call.apply(t,[this].concat(i));var a=this;this.data={disabled:!1},this.classList={add:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];(r.$input||r.$element).addClass(e.join(" "))},remove:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];(r.$input||r.$element).removeClass(e.join(" "))}},this.tagName="_",Object.defineProperty(this,"disabled",{get:function(){return r.data.disabled},set:function(t){r.data.disabled=t}});var s={get display(){return a._display},set display(t){a._display=t,a.toggle("none"!==t)}};Object.defineProperty(this,"style",{get:function(){return s},set:function(){}})}return OO.inheritClass(e,t),"OoUiHiddenInputWidget"===t.name&&(e.prototype.getValue=function(){return this.$element.val()},e.prototype.setValue=function(t){this.$element.attr("value",t)}),e.prototype.addEventListener=function(t,e){},e.prototype.setAttribute=function(t,e){this.data[t]=e,this.$input?this.$input.attr(t,e):this.$element&&this.$element.attr(t,e)},e.prototype.removeAttribute=function(t){delete this.data[t],this.$input?this.$input.removeAttr(t):this.$element&&this.$element.removeAttr(t)},e.prototype.getAttribute=function(t){return this.data[t]},e.prototype.appendChild=function(t){t.$element&&(t=t.$element[0]||t.$element),this.$element instanceof $?this.$element.append(t):this.$element.appendChild(t)},Object.defineProperty(e.prototype,"childElementCount",{get:function(){var t=this.$input||this.$element||this.$content;if(!t)return 0;var e=t[0]||t;return e.children?e.children.length:0}}),e}function it(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ot(t){t=t||{},this.config=t,ot.super.call(this,t),this.initializeData(t.rows);var e={dom:'<"jsonforms-datatable-left"f><"jsonforms-datatable-right"l>rtip',iDisplayLength:100,searching:!1,paging:!1,info:!1,scrollX:!0,data:this.data,columns:["","name","type","required",""].map((function(t){return{title:t}}))};t.orderable?(e.rowReorder={selector:"td:not(:last-child)"},e.columnDefs=[{targets:0,orderable:!0,visible:!1},{orderable:!1,targets:"_all"},{targets:-1,render:function(t,e,r,n){return'<span class="buttons-wrapper" style="white-space:nowrap" data-row=""></span>'}}]):e.columnDefs=[{targets:0,orderable:!1,visible:!1},{targets:-1,render:function(t,e,r,n){return'<span class="buttons-wrapper" style="white-space:nowrap" data-row=""></span>'}}],this.table=t.el,this.datatable=new DataTable(this.table,e),this.addButtonsToRows(),this.datatable.on("row-reorder",(function(t,e,r){}))}r(2762),OO.inheritClass(et,OO.ui.ProcessDialog),et.static.name="dialogSearch",et.prototype.initialize=function(){et.super.prototype.initialize.apply(this,arguments);var t=this;function e(){var e=[];for(var r in t.items)e.push(new OO.ui.MenuOptionWidget({data:r,label:r,selected:t.items[r]}));return e}var r=new OO.ui.SearchWidget({});r.results.addItems(e());var n=r.getResults();n.multiselect=!0,n.on("press",(function(e){null!==e&&(t.items[e.data]=!t.items[e.data])})),r.onQueryChange=function(t){r.results.clearItems(),r.results.addItems(e())},this.$body.append([r.$element])},et.prototype.getBodyHeight=function(){return 300},et.static.actions=[{action:"done",label:"done",flags:["primary","progressive"]},{label:"cancel",flags:["safe","close"]}],et.prototype.getActionProcess=function(t){var e=this;return this.callbacks.actionProcess(t,this),new OO.ui.Process((function(){e.close({action:t})}))},et.prototype.getTeardownProcess=function(t){return et.super.prototype.getTeardownProcess.call(this,t).first((function(){this.windowManager.destroy()}),this)},et.prototype.openDialog=function(){this.windowManager=U(),this.windowManager.addWindows([this]),this.windowManager.openWindow(this,{title:this.title})},OO.inheritClass(rt,OO.ui.ProcessDialog),rt.static.name="myDialog",rt.static.actions=[{action:"done",flags:["primary","progressive"],label:"done",modes:["done"]},{action:"save",flags:["primary","progressive"],label:"save",modes:["save"]},{action:"cancel",label:"Cancel",flags:["safe","close"],modes:["done","save"]}],rt.prototype.initialize=function(){rt.super.prototype.initialize.call(this),this.callbacks.initialize(this)},rt.prototype.getBodyHeight=function(){return window.innerHeight-200},rt.prototype.getSetupProcess=function(t){t=t||{};var e=this;return rt.super.prototype.getSetupProcess.call(this,t).next((function(){e.callbacks.setupProcess(this,t)}),this)},rt.prototype.getActionProcess=function(t){return this.callbacks.actionProcess(this,rt.super.prototype.getActionProcess,t)||rt.super.prototype.getActionProcess.call(this,t)},rt.prototype.getTeardownProcess=function(t){return rt.super.prototype.getTeardownProcess.call(this,t).first((function(){}),this)},rt.prototype.open=function(){var t=this,e=U(),r=this.title;e.addWindows([this]),e.openWindow(this,{title:r}).opening.then((function(e){t.callbacks.onOpen(t,e)}))},OO.inheritClass(ot,OO.ui.Widget),OO.mixinClass(ot,OO.EventEmitter),ot.prototype.getValue=function(){},ot.prototype.setValue=function(t){},ot.prototype.getOrder=function(){return this.datatable.rows({order:"applied"}).data().toArray().map((function(t){return t[1]}))},ot.prototype.addButtonsToRows=function(){var t=this;$(this.table).find(".buttons-wrapper").each((function(e,r){var n=t.editors[Object.keys(t.editors)[e]];if(t.config.buttonEdit){var i=new OO.ui.ButtonWidget({icon:"edit"});i.on("click",(function(){t.config.callbacks.edit(n)})),$(this).append([i.$element])}if(t.config.buttonDelete&&t.config.callbacks.deleteButtonCond(n)){var o=new OO.ui.ButtonWidget({icon:"close",flags:["destructive"]});o.on("click",(function(){t.config.callbacks.delete(n)})),$(this).append([o.$element])}}))},ot.prototype.initializeData=function(t){if(this.data=[],this.editors={},this.columns=[],t){var e=0;for(var r in t)this.data.push([e].concat(function(t){if(Array.isArray(t))return it(t)}(n=t[r].row)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||function(t,e){if(t){if("string"==typeof t)return it(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?it(t,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[""])),this.editors[t[r].key]=t[r].editor,e++}var n},ot.prototype.update=function(t){this.initializeData(t),this.datatable.clear(),this.datatable.rows.add(this.data),this.datatable.draw(),this.addButtonsToRows()},ot.prototype.redraw=function(){this.datatable&&this.datatable.columns.adjust().draw()};const at=nt(ot),st=JSON.parse('{"title":"New property","type":"object","required":["name","type","multiple"],"properties":{"name":{"title":"Property name","type":"string","pattern":"^[a-zA-Z_][a-zA-Z0-9_]*$","description":"Valid identifier"},"type":{"title":"type","type":"string","description":"Select the type of property","enum":["text","number","integer","date","datetime-local","time","boolean","textarea","email","color","range","tel","url","json","subitem"],"options":{"input":{"name":"RadioSelectInputWidget"},"enum_titles":["Text","Number","Integer","Date","Datetime-local","Time","Boolean","Textarea","Email","Color","Range","Tel","Url","Json","Subitem"]}},"multiple":{"title":"multiple","type":"boolean","description":"allows multiple values"}}}');function ut(t){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ut(t)}function ct(t){this.jsoneditor=t.jsoneditor,this.theme=this.jsoneditor.theme,this.schema=t.schema}function lt(t){t=t||{},lt.super.call(this,t),OO.ui.mixin.IconElement.call(this,t),OO.ui.mixin.LabelElement.call(this,t),this.$element.addClass("demo-simpleWidget").append(this.$icon,this.$label)}function ht(t){t=t||{},ht.super.call(this,t),OO.ui.mixin.DraggableGroupElement.call(this,Object.assign({$group:this.$element},t))}function pt(t){t=t||{},pt.super.call(this,t),OO.ui.mixin.DraggableElement.call(this,t)}function ft(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||dt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(t,e){if(t){if("string"==typeof t)return yt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yt(t,e):void 0}}function yt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mt(t){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mt(t)}function vt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bt(n.key),n)}}function bt(t){var e=function(t,e){if("object"!=mt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=mt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==mt(e)?e:e+""}function gt(t,e,r){return e=_t(e),function(t,e){if(e&&("object"===mt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,wt()?Reflect.construct(e,r||[],_t(t).constructor):e.apply(t,r))}function wt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(wt=function(){return!!t})()}function Ot(){return Ot="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_t(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Ot.apply(this,arguments)}function _t(t){return _t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_t(t)}function jt(t,e){return jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jt(t,e)}ct.prototype.schemaFromPatternProperties=function(t){var e,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||"object"!==ut(t)||Array.isArray(t))throw new TypeError("patternProperties must be an object");var i=Object.keys(t);return i.length?{title:null!==(e=n.wrapperTitle)&&void 0!==e?e:"Add property",type:"object",properties:{name:{title:null!==(r=n.title)&&void 0!==r?r:"Property name",type:"string",anyOf:i.map((function(t){return{pattern:t}})),description:n.description}}}:null},ct.prototype.buildMetaSchema=function(){var t=null,e=null,r=null,n=this.schema,i=n.patternProperties&&"object"===ut(n.patternProperties),o=n.additionalProperties&&"object"===ut(n.additionalProperties),a=!0===n.additionalProperties;if(i){t=this.schemaFromPatternProperties(n.patternProperties);var s=Object.keys(n.patternProperties);if(1===s.length){var u=this.jsoneditor.expandSchema(n.patternProperties[s[0]]);r=u,null!=u&&u.title&&(e=u.title)}}if(!t&&a){var c,l=null===(c=this.schema.options)||void 0===c||null===(c=c.additionalProperties)||void 0===c?void 0:c.UISchema;t=l?this.jsoneditor.expandSchema(l):st}if(!t&&o){t={title:"New property",type:"object",required:["name"],properties:{name:{title:"Property name",type:"string",pattern:"^[a-zA-Z_][a-zA-Z0-9_]*$",description:"Valid identifier"}}};var h=this.jsoneditor.expandSchema(n.additionalProperties);r=h,null!=h&&h.title&&(e=h.title)}return{metaSchema:t,targetSchema:r,subschemaTitle:e}},ct.prototype.schemaFromPseudoType=function(t,e,r){if(e){var n=null;"text"===t&&(n="tagmultiselect");var i={input:{name:n}};return{type:"array",items:this.schemaFromPseudoType(t,!1,i)}}switch(t){case"text":case"textarea":case"email":case"tel":case"url":case"color":case"date":case"datetime-local":case"time":case"json":return{type:"string",format:t,options:r};case"number":case"range":return{type:"number"};case"integer":return{type:"integer"};case"boolean":return{type:"boolean"};case"subitem":return{type:"object",additionalProperties:!0};default:throw new Error("Unsupported type: ".concat(t))}},ct.prototype.addProperty=function(t){var e=this,r={initialize:function(r){var n=e.theme.getContainer();r.editor=new Bu(n,{theme:"oojs",schema:t.schema,startval:t.startval,dialog:r,isMetaSchema:!0,ajax:!0,ajaxUrl:e.jsoneditor.options.ajaxUrl,originalEditor:t.editor}),r.$body.append(n)},setupProcess:function(t){return t.actions.setMode("done")},onOpen:function(){},actionProcess:function(e,r,n){if("done"===n){var i=e.editor;if(i.validation_results.length)return void G("there are errors",{size:"small"});var o=i.getValue();if(""===o.name.trim())return G("no name",{size:"small"}),!1;var a=t.onAddPropertySave(o);if("string"==typeof a)return void G(a,{size:"small"});e.close({action:n})}e.close({action:n})}};new rt({size:"large",title:t.title},r,this)},OO.inheritClass(lt,OO.ui.Widget),OO.mixinClass(lt,OO.ui.mixin.IconElement),OO.mixinClass(lt,OO.ui.mixin.LabelElement),OO.inheritClass(ht,OO.ui.Widget),OO.mixinClass(ht,OO.ui.mixin.DraggableGroupElement),OO.inheritClass(pt,lt),OO.mixinClass(pt,OO.ui.mixin.DraggableElement);var kt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),gt(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jt(t,e)}(e,t),r=e,n=[{key:"askConfirmation",value:function(){return!0!==this.jsoneditor.options.prompt_before_delete||!1!==window.confirm(this.translate("button_delete_node_warning"))}},{key:"register",value:function(){Ot(_t(e.prototype),"register",this).call(this),this.rows&&this.rows.forEach((function(t){return t.register()}))}},{key:"unregister",value:function(){Ot(_t(e.prototype),"unregister",this).call(this),this.rows&&this.rows.forEach((function(t){return t.unregister()}))}},{key:"getNumColumns",value:function(){var t=this.getItemInfo(0);return this.tabs_holder&&"tabs"!==this.layout.name?Math.max(Math.min(12,t.width+2),4):t.width}},{key:"enable",value:function(){var t=this;this.always_disabled||(this.setAvailability(this,!1),this.rows&&this.rows.forEach((function(e){e.enable(),t.setAvailability(e,!1)})),Ot(_t(e.prototype),"enable",this).call(this))}},{key:"disable",value:function(t){var r=this;t&&(this.always_disabled=!0),this.setAvailability(this,!0),this.rows&&this.rows.forEach((function(e){e.disable(t),r.setAvailability(e,!0)})),Ot(_t(e.prototype),"disable",this).call(this)}},{key:"setAvailability",value:function(t,e){t.add_row_button&&(t.add_row_button.disabled=e),t.delete_button&&(t.delete_button.disabled=e)}},{key:"preBuild",value:function(){Ot(_t(e.prototype),"preBuild",this).call(this),this.rows=[],this.row_cache=[]}},{key:"build",value:function(){this.options.compact?this.buildCompactLayout():this.buildFullLayout(),this.isTabsLayout()||(this.add_row_button=this.createAddRowButton())}},{key:"buildFullLayout",value:function(){var t=this;if(this.options.removable){var e=this.theme.getButton({label:null,icon:"close",flags:[],classes:[]});e.on("click",(function(){var e=t.jsoneditor.editors[t.path];e.parent.restoreLazyProperty(e.key)}));var r=this.theme.getContainer();r.classList.add("jsonforms-remove-object"),this.theme.append(r,e),this.theme.append(this.container,r)}if(this.title=this.theme.getHeader(this.getTitle(),3),this.theme.append(this.container,this.title),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText)),this.theme.append(this.container,this.infoButton)),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description),this.theme.append(this.container,this.description)),this.error_holder=document.createElement("div"),this.container.appendChild(this.error_holder),this.isTabsLayout()){var n=this,i=[{name:"new_item",icon:"add",title:"new item",onSelect:function(){n.addRowAction(),this.setActive(!1)}},{name:"remove_current",icon:"trash",title:"remove current",onSelect:function(){var t=n.theme.getTabsLayoutSelectedIndex(n.tabs_holder);n.deleteRowAction(t),n.theme.refreshTabsLayoutPages(n.tabs_holder,n.rows.map((function(t,e){return{title:t.schema.title,key:e,container:t.container}}))),this.setActive(!1)}}],o=tt().create(i);this.theme.append(this.container,o.$element)}"tabs"===this.layout.name?this.buildTabsTop():"booklet"===this.layout.name?this.buildTabs():this.buildPanel()}},{key:"buildTabs",value:function(){this.tabs_holder=this.theme.getBooklet(this.layout.config),this.theme.append(this.container,this.theme.getTabsContainer(this.tabs_holder))}},{key:"buildTabsTop",value:function(){this.tabs_holder=this.theme.getIndexLayout(this.layout.config),this.theme.append(this.container,this.theme.getTabsContainer(this.tabs_holder))}},{key:"buildPanel",value:function(){this.panel=this.theme.getIndentedPanel(),this.theme.append(this.container,this.panel),this.rows_holder=document.createElement("div"),this.theme.append(this.panel,this.rows_holder),this.controls=this.theme.getButtonHolder(),this.theme.append(this.panel,this.controls)}},{key:"buildCompactLayout",value:function(){this.title=this.theme.getHeader("",this.getPathDepth()),this.theme.append(this.container,this.title),this.panel=this.theme.getIndentedPanel(),this.theme.append(this.container,this.panel),this.controls=this.theme.getHeaderButtonHolder(),this.theme.append(this.title,this.controls),this.rows_holder=document.createElement("div"),this.theme.append(this.panel,this.rows_holder)}},{key:"addRow",value:function(t,e){var r=this.rows.length,n=e.initial&&!0===e.initial,i=this.getElementEditor(r,n);if(i)return this.rows[r]=i,i.array_controls&&(this.rows[r].delete_button=this.createDeleteButton(r,i.array_controls)),void 0!==t&&this.rows[r].setValue(t,n),this.rows[r]}},{key:"deleteRowAction",value:function(t){if(!this.askConfirmation())return!1;var e=this.getValue().filter((function(e,r){return r!==t})),r=this.rows[t].getValue();this.setValue(e),this.onChange(!0),this.jsoneditor.trigger("deleteRow",r)}},{key:"createDeleteButton",value:function(t,e){var r=this,n=this.getButton({icon:"close",title:"delete row"},[this.getItemTitle()]);return n.classList.add("delete","json-editor-btntype-delete"),n.setAttribute("data-i",t),this.theme.buttonAction(n,"delete",(function(t){var e=1*n.getAttribute("data-i");r.deleteRowAction(e)})),e&&this.theme.append(e,n),n}},{key:"defaultForValue",value:function(t){return null==t?"":Array.isArray(t)?[]:"object"===mt(t)?{}:"string"==typeof t?"":"number"==typeof t?0:"boolean"!=typeof t&&null}},{key:"addRowAction",value:function(){var t=this.rows.length,e=this.row_cache[t],r=e?this.reuseCachedRow(e,t):this.addRow(void 0,{initial:!1});this.refreshValue(),this.onChange(!0),this.jsoneditor.trigger("addRow",r)}},{key:"createAddRowButton",value:function(){var t,e,r=this;if(this.schema.items){var n=this.jsoneditor.expandRefs(this.schema.items);"object"===mt(n)&&n.title&&(e=n.title)}var i=this.getButton({label:null!==(t=e)&&void 0!==t?t:"item",icon:"add",title:"add row"},[this.getItemTitle()]);return this.theme.buttonAction(i,"add",(function(){r.addRowAction()})),this.theme.append(this.controls,i),i}},{key:"reuseCachedRow",value:function(t,e){return this.rows[e]=t,t.setValue(t.getDefault(),!0),"function"==typeof t.deactivateNonRequiredProperties&&t.deactivateNonRequiredProperties(!0),this.theme.toggle(t.container,!0),t.register(),t}},{key:"postBuild",value:function(){Ot(_t(e.prototype),"postBuild",this).call(this),(this.schema.readOnly||this.schema.readonly)&&this.disable()}},{key:"onChildEditorChange",value:function(t,r){this.refreshValue(),this.is_dirty=!0,Ot(_t(e.prototype),"onChildEditorChange",this).call(this,t,r)}},{key:"getItemTitle",value:function(){if(!this.item_title){var t=this.schema.items,e=t&&!Array.isArray(t)?this.translateProperty(this.jsoneditor.expandRefs(t).title):null;this.item_title=e||this.translate("default_array_item_title")}return this.cleanText(this.item_title)}},{key:"getItemSchema",value:function(t){var e=this.schema,r=e.items,n=e.additionalItems;return Array.isArray(r)?t<r.length?a({},r[t]):!0===n?{}:n?a({},n):{}:r?a({},r):{}}},{key:"getItemInfo",value:function(t){var e,r=this.getItemSchema(t),n=JSON.stringify(r);if(null!==(e=this.item_info)&&void 0!==e||(this.item_info={}),this.item_info[n])return this.item_info[n];var i=this.jsoneditor.expandRefs(r),o={title:this.translateProperty(i.title)||this.translate("default_array_item_title"),default:i.default,width:12,child_editors:i.properties||i.items};return this.item_info[n]=o,o}},{key:"getElementEditor",value:function(t,e){var r=this.getItemInfo(t),n=this.jsoneditor.expandRefs(this.getItemSchema(t));n.title="".concat(r.title," ").concat(t+1);var i,o=this.jsoneditor.getEditorClass(n),a=o.classname,s=o.editorClass,u=this.createElementHolder(n,r,t);this.isTabsLayout()||(this.isTreeWidget(n)?(i=this.theme.getButtonHolder()).classList.add("jsonforms-array-controls"):((i=this.theme.getButtonHolder()).classList.add("jsonforms-array-controls"),this.theme.append(this.rows_holder,i),this.theme.append(this.rows_holder,u)));var c=this.jsoneditor.createEditor(s,{jsoneditor:this.jsoneditor,schema:n,container:u,path:"".concat(this.path,".").concat(t),pathNoIndex:this.path,parent:this,required:!0,classname:a,initial:e});if(this.isTabsLayout()){var l=this.theme.createTabLayoutPage(this.tabs_holder,n.title,n.title);l.id="".concat(this.path,".").concat(t),this.theme.append(l,c.container)}return c.preBuild(),c.build(),c.schemaTitle=n.title,i&&(c.array_controls=i),c.postBuild(),c}},{key:"isTreeWidget",value:function(t){return!(!this.jsoneditor.treeWidget||t&&this.isPrimitive(t))}},{key:"isTabsLayout",value:function(){return"tabs"===this.layout.name||"booklet"===this.layout.name}},{key:"createElementHolder",value:function(t,e,r){if(this.tabs_holder)return document.createElement("div");if(e.child_editors){var n=this.theme.getChildEditorHolder();return n.classList.add("aa"),n}var i=this.theme.getIndentedPanel();return i.classList.add("bb"),i}},{key:"getMax",value:function(){return Array.isArray(this.schema.items)&&!1===this.schema.additionalItems?Math.min(this.schema.items.length,this.schema.maxItems||1/0):this.schema.maxItems||1/0}},{key:"ensureArraySize",value:function(t){var e=Array.isArray(t)?t.slice():[t],r=this.schema.minItems,n=this.getMax();if(r)for(;e.length<r;)e.push(this.getItemInfo(e.length).default);return n&&e.length>n&&(e.length=n),e}},{key:"setValue",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;if(e=this.ensureArraySize(this.applyConstFilter(e)),JSON.stringify(e)!==this.serialized){e.forEach((function(e,n){var i;t.rows[n]?(i=t.rows[n]).setValue(e,r):t.row_cache[n]?((i=t.rows[n]=t.row_cache[n]).setValue(e,r),t.theme.toggle(i.container,!0),i.register(),t.jsoneditor.trigger("addRow",i)):(i=t.addRow(e,{initial:r}),t.jsoneditor.trigger("addRow",i))}));for(var n=e.length;n<this.rows.length;n++)this.destroyRow(this.rows[n],!0),this.rows[n]=null;this.rows=this.rows.slice(0,e.length),this.refreshValue(r),this.onChange()}else r&&this.refreshValue(r)}},{key:"setButtonState",value:function(t,e){switch(this.options.button_state_mode||this.jsoneditor.options.button_state_mode){case 1:default:this.theme.toggle(t,"none"!==e);break;case 2:t.disabled=!e}}},{key:"setupButtons",value:function(t){var e=[],r=!(this.getMax()&&this.getMax()<=this.rows.length);return this.setButtonState(this.add_row_button,r),e.push(r),e.some((function(t){return t}))}},{key:"refreshValue",value:function(t){var e=this.value?this.value.length:0;if(this.value=this.rows.map((function(t){return t.getValue()})),e!==this.value.length||t){var r,n=this.schema.minItems&&this.schema.minItems>=this.rows.length,i=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=dt(t))){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(this.rows.entries());try{for(i.s();!(r=i.n()).done;){var o=ft(r.value,2),a=o[0],s=o[1];s.delete_button&&this.setButtonState(s.delete_button,!n),this.value[a]=s.getValue()}}catch(t){i.e(t)}finally{i.f()}this.theme.toggle(this.controls,this.setupButtons(n))}this.serialized=JSON.stringify(this.value)}},{key:"showValidationErrors",value:function(t){var e=this.path,r=this.error_holder,n=this.rows,i=this.theme,o=ft(t.reduce((function(t,r){return t[r.path===e?0:1].push(r),t}),[[],[]]),2),a=o[0],s=o[1];r&&(r.innerHTML="",a.length?(r.style.display="",a.forEach((function(t){var e=t.message;r.appendChild(i.getErrorMessage(e))}))):r.style.display="none"),n.forEach((function(t){return t.showValidationErrors(s)}))}},{key:"empty",value:function(t){var e=this;if(this.rows){var r=this.rows;if(r.forEach((function(n,i){t&&(e.destroyRow(n,!0),e.row_cache[i]=null),r[i]=null})),t){for(var n=r.length;n<this.row_cache.length;n++)this.destroyRow(this.row_cache[n],!0),this.row_cache[n]=null;this.row_cache=[]}this.rows=[]}}},{key:"destroyRow",value:function(t,e){var r=t.container;e?(t.destroy(),this.theme.remove(r)):(this.theme.toggle(r,!1),t.unregister()),this.theme.remove(t.array_controls)}},{key:"checkParent",value:function(t){return t&&t.parentNode}},{key:"destroy",value:function(){this.empty(!0),this.checkParent(this.title)&&this.title.parentNode.removeChild(this.title),this.checkParent(this.description)&&this.description.parentNode.removeChild(this.description),this.checkParent(this.rows_holder)&&this.rows_holder.parentNode.removeChild(this.rows_holder),this.checkParent(this.controls)&&this.controls.parentNode.removeChild(this.controls),this.checkParent(this.panel)&&this.panel.parentNode.removeChild(this.panel),this.rows=this.row_cache=this.title=this.description=this.rows_holder=this.panel=this.controls=null,Ot(_t(e.prototype),"destroy",this).call(this)}}],n&&vt(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(b);function xt(t){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xt(t)}function St(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Pt(n.key),n)}}function Pt(t){var e=function(t,e){if("object"!=xt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=xt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==xt(e)?e:e+""}function Et(t,e,r){return e=At(e),function(t,e){if(e&&("object"===xt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ct()?Reflect.construct(e,r||[],At(t).constructor):e.apply(t,r))}function Ct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ct=function(){return!!t})()}function Tt(){return Tt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=At(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Tt.apply(this,arguments)}function At(t){return At=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},At(t)}function It(t,e){return It=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},It(t,e)}kt.rules={".json-editor-btntype-toggle":"margin:0%2010px%200%200",".je-array-control-btn":"width:100%25;text-align:left;margin-bottom:3px"};var Rt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Et(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&It(t,e)}(e,t),r=e,(n=[{key:"register",value:function(){Tt(At(e.prototype),"register",this).call(this),this.input&&this.jsoneditor.options.use_name_attributes&&this.input.setAttribute("name",this.formname)}},{key:"unregister",value:function(){Tt(At(e.prototype),"unregister",this).call(this),this.input&&this.input.removeAttribute("name")}},{key:"getNumColumns",value:function(){var t=this,e=this.getTitle().length;return Object.keys(this.select_values).forEach((function(r){return e=Math.max(e,"".concat(t.select_values[r]).length+4)})),Math.min(12,Math.max(e/7,2))}},{key:"preBuild",value:function(){Tt(At(e.prototype),"preBuild",this).call(this);var t=this.jsoneditor.expandRefs(this.schema.items||{}),r=t.enum||[],n=t.options&&t.options.enum||[],i=t.options&&t.options.enum_titles||[];this.option_keys=[],this.option_enum=[];for(var o=0;o<r.length;o++)if(this.sanitize(r[o])===r[o]){var a=n[o]||{};"title"in a||(a.title=i[o]||r[o]),this.option_keys.push(r[o]),this.option_enum.push(a)}}},{key:"build",value:function(){var t=this;this.options.compact||(this.header=this.label=this.theme.getLabelLike(this.getTitle(),this.isRequired())),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description)),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.options.compact&&this.container.classList.add("compact"),this.inputs={};var e=this.option_keys.map((function(e,r){return{data:e,label:t.option_enum[r].title}})),r=this.inputOptions;r.config.options=e,this.input=this.theme.getMultiSelect(r),this.input.on("change",(function(e){t.value=e,t.onChange(!0)})),this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton,this),this.inputs.controlgroup=this.inputs.controls=this.control,(this.schema.readOnly||this.schema.readonly)&&this.disable(!0),this.theme.append(this.container,this.control)}},{key:"setValue",value:function(t,e){t=(t=this.applyConstFilter(t))||[],Array.isArray(t)||(t=[t]),t=t.map((function(t){return"".concat(t)})),this.input.setValue(t),this.onChange(!0)}},{key:"sanitize",value:function(t){return"boolean"===this.schema.items.type?!!t:"number"===this.schema.items.type?1*t||0:"integer"===this.schema.items.type?Math.floor(1*t||0):"".concat(t)}},{key:"enable",value:function(){var t=this;this.always_disabled||(this.input?this.input.disabled=!1:this.inputs&&Object.keys(this.inputs).forEach((function(e){return t.inputs[e].disabled=!1})),Tt(At(e.prototype),"enable",this).call(this))}},{key:"disable",value:function(t){var r=this;t&&(this.always_disabled=!0),this.input?this.input.disabled=!0:this.inputs&&Object.keys(this.inputs).forEach((function(t){return r.inputs[t].disabled=!0})),Tt(At(e.prototype),"disable",this).call(this)}},{key:"destroy",value:function(){Tt(At(e.prototype),"destroy",this).call(this)}},{key:"escapeRegExp",value:function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},{key:"showValidationErrors",value:function(t){var e=new RegExp("^".concat(this.escapeRegExp(this.path),"(\\.\\d+)?$")),r=t.reduce((function(t,r){return r.path.match(e)&&t.push(r.message),t}),[]);r.length?this.theme.addInputError(this.input||this.inputs,"".concat(r.join(". "),".")):this.theme.removeInputError(this.input||this.inputs)}}])&&St(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(b);function Lt(t){return Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lt(t)}function Nt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bt(n.key),n)}}function Bt(t){var e=function(t,e){if("object"!=Lt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Lt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Lt(e)?e:e+""}function Dt(t,e,r){return e=Mt(e),function(t,e){if(e&&("object"===Lt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ft()?Reflect.construct(e,r||[],Mt(t).constructor):e.apply(t,r))}function Ft(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ft=function(){return!!t})()}function Vt(){return Vt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Mt(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Vt.apply(this,arguments)}function Mt(t){return Mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mt(t)}function $t(t,e){return $t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$t(t,e)}var zt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Dt(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$t(t,e)}(e,t),r=e,(n=[{key:"setValue",value:function(t,r){this.choices_instance?(t=this.applyConstFilter(t),t=[].concat(t).map((function(t){return"".concat(t)})),this.updateValue(t),this.choices_instance.removeActiveItems(),this.choices_instance.setChoiceByValue(this.value),this.onChange(!0)):Vt(Mt(e.prototype),"setValue",this).call(this,t,r)}},{key:"afterInputReady",value:function(){var t=this;if(window.Choices&&!this.choices_instance){var r=this.expandCallbacks("choices",a({},{removeItems:!0,removeItemButton:!0},this.defaults.options.choices||{},this.options.choices||{},{addItems:!0,editItems:!1,duplicateItemsAllowed:!1}));this.newEnumAllowed=!1,this.choices_instance=new window.Choices(this.input,r),this.control.removeEventListener("change",this.multiselectChangeHandler),this.multiselectChangeHandler=function(e){var r=t.choices_instance.getValue(!0);t.updateValue(r),t.onChange(!0)},this.control.addEventListener("change",this.multiselectChangeHandler,!1)}Vt(Mt(e.prototype),"afterInputReady",this).call(this)}},{key:"updateValue",value:function(t){t=[].concat(t);for(var e=!1,r=[],n=0;n<t.length;n++){if(!this.select_values["".concat(t[n])]){if(e=!0,!this.newEnumAllowed)continue;if(!this.addNewOption(t[n]))continue}var i=this.sanitize(this.select_values[t[n]]);r.push(i),i!==t[n]&&(e=!0)}return this.value=r,e}},{key:"addNewOption",value:function(t){return this.option_keys.push("".concat(t)),this.option_titles.push("".concat(t)),this.select_values["".concat(t)]=t,this.schema.items.enum.push(t),this.choices_instance.setChoices([{value:"".concat(t),label:"".concat(t)}],"value","label",!1),!0}},{key:"enable",value:function(){!this.always_disabled&&this.choices_instance&&this.choices_instance.enable(),Vt(Mt(e.prototype),"enable",this).call(this)}},{key:"disable",value:function(t){this.choices_instance&&this.choices_instance.disable(),Vt(Mt(e.prototype),"disable",this).call(this,t)}},{key:"destroy",value:function(){this.choices_instance&&(this.choices_instance.destroy(),this.choices_instance=null),Vt(Mt(e.prototype),"destroy",this).call(this)}}])&&Nt(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(Rt);function Ht(t){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ht(t)}function Wt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qt(n.key),n)}}function qt(t){var e=function(t,e){if("object"!=Ht(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Ht(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ht(e)?e:e+""}function Ut(t,e,r){return e=Zt(e),function(t,e){if(e&&("object"===Ht(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Gt()?Reflect.construct(e,r||[],Zt(t).constructor):e.apply(t,r))}function Gt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Gt=function(){return!!t})()}function Jt(){return Jt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Zt(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Jt.apply(this,arguments)}function Zt(t){return Zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zt(t)}function Yt(t,e){return Yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yt(t,e)}var Kt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ut(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yt(t,e)}(e,t),r=e,(n=[{key:"setValue",value:function(t,r){t=this.applyConstFilter(t),this.select2_instance?(t=[].concat(t).map((function(t){return"".concat(t)})),this.updateValue(t),this.select2v4?this.select2_instance.val(this.value).change():this.select2_instance.select2("val",this.value),this.onChange(!0)):Jt(Zt(e.prototype),"setValue",this).call(this,t,r)}},{key:"afterInputReady",value:function(){var t,r=this;window.jQuery&&window.jQuery.fn&&window.jQuery.fn.select2&&!this.select2_instance&&(t=this.expandCallbacks("select2",a({},{tags:!0,width:"100%"},this.defaults.options.select2||{},this.options.select2||{})),this.newEnumAllowed=t.tags=!!t.tags&&this.schema.items&&"string"===this.schema.items.type,this.select2_instance=window.jQuery(this.input).select2(t),this.select2v4=c(this.select2_instance.select2,"amd"),this.selectChangeHandler=function(){var t=r.select2v4?r.select2_instance.val():r.select2_instance.select2("val");r.updateValue(t),r.onChange(!0)},this.select2_instance.on("select2-blur",this.selectChangeHandler),this.select2_instance.on("change",this.selectChangeHandler)),Jt(Zt(e.prototype),"afterInputReady",this).call(this)}},{key:"updateValue",value:function(t){t=[].concat(t);for(var e=!1,r=[],n=0;n<t.length;n++){if(!this.select_values["".concat(t[n])]){if(e=!0,!this.newEnumAllowed)continue;if(!this.addNewOption(t[n]))continue}var i=this.sanitize(this.select_values[t[n]]);r.push(i),i!==t[n]&&(e=!0)}return this.value=r,e}},{key:"addNewOption",value:function(t){this.option_keys.push("".concat(t)),this.option_titles.push("".concat(t)),this.select_values["".concat(t)]=t,this.schema.items.enum.push(t);var e=this.input.querySelector('option[value="'.concat(t,'"]'));return e?e.removeAttribute("data-select2-tag"):this.input.appendChild(new Option(t,t,!1,!1)).trigger("change"),!0}},{key:"enable",value:function(){!this.always_disabled&&this.select2_instance&&(this.select2v4?this.select2_instance.prop("disabled",!1):this.select2_instance.select2("enable",!0)),Jt(Zt(e.prototype),"enable",this).call(this)}},{key:"disable",value:function(t){this.select2_instance&&(this.select2v4?this.select2_instance.prop("disabled",!0):this.select2_instance.select2("enable",!1)),Jt(Zt(e.prototype),"disable",this).call(this)}},{key:"destroy",value:function(){this.select2_instance&&(this.select2_instance.select2("destroy"),this.select2_instance=null),Jt(Zt(e.prototype),"destroy",this).call(this)}}])&&Wt(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(Rt);function Qt(t){return Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qt(t)}function Xt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,te(n.key),n)}}function te(t){var e=function(t,e){if("object"!=Qt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Qt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Qt(e)?e:e+""}function ee(t,e,r){return e=ie(e),function(t,e){if(e&&("object"===Qt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,re()?Reflect.construct(e,r||[],ie(t).constructor):e.apply(t,r))}function re(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(re=function(){return!!t})()}function ne(){return ne="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ie(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},ne.apply(this,arguments)}function ie(t){return ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ie(t)}function oe(t,e){return oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},oe(t,e)}var ae=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ee(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oe(t,e)}(e,t),r=e,(n=[{key:"setValue",value:function(t,r){t=this.applyConstFilter(t),this.selectize_instance?(t=[].concat(t).map((function(t){return"".concat(t)})),this.updateValue(t),this.selectize_instance.setValue(this.value),this.onChange(!0)):ne(ie(e.prototype),"setValue",this).call(this,t,r)}},{key:"afterInputReady",value:function(){var t,r=this;if(window.jQuery&&window.jQuery.fn&&window.jQuery.fn.selectize&&!this.selectize_instance){t=this.expandCallbacks("selectize",a({},{plugins:["remove_button"],delimiter:!1,createOnBlur:!0,create:!0},this.defaults.options.selectize||{},this.options.selectize||{})),this.newEnumAllowed=t.create=!!t.create&&this.schema.items&&"string"===this.schema.items.type,this.selectize_instance=window.jQuery(this.input).selectize(t)[0].selectize,this.control.removeEventListener("change",this.multiselectChangeHandler),this.multiselectChangeHandler=function(t){var e=r.selectize_instance.getValue();r.updateValue(e),r.onChange(!0)},this.selectize_instance.on("change",this.multiselectChangeHandler);var n=this.theme.getHiddenLabel(this.formname);this.input.setAttribute("id",this.formname+"-hidden-input"),n.setAttribute("for",this.formname+"-hidden-input"),this.input.parentNode.insertBefore(n,this.input);var i=this.selectize_instance.$control[0];if(i){var o=this.theme.getHiddenLabel(this.formname);o.setAttribute("for",this.formname+"-selectized"),i.appendChild(o)}}ne(ie(e.prototype),"afterInputReady",this).call(this)}},{key:"updateValue",value:function(t){t=[].concat(t);for(var e=!1,r=[],n=0;n<t.length;n++){if(!this.select_values["".concat(t[n])]){if(e=!0,!this.newEnumAllowed)continue;if(!this.addNewOption(t[n]))continue}var i=this.sanitize(this.select_values[t[n]]);r.push(i),i!==t[n]&&(e=!0)}return this.value=r,e}},{key:"addNewOption",value:function(t){return this.option_keys.push("".concat(t)),this.option_titles.push("".concat(t)),this.select_values["".concat(t)]=t,this.selectize_instance.addOption({text:t,value:t}),!0}},{key:"enable",value:function(){!this.always_disabled&&this.selectize_instance&&this.selectize_instance.unlock(),ne(ie(e.prototype),"enable",this).call(this)}},{key:"disable",value:function(t){this.selectize_instance&&this.selectize_instance.lock(),ne(ie(e.prototype),"disable",this).call(this,t)}},{key:"destroy",value:function(){this.selectize_instance&&(this.selectize_instance.destroy(),this.selectize_instance=null),ne(ie(e.prototype),"destroy",this).call(this)}}])&&Xt(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(Rt);function se(t){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},se(t)}function ue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ce(n.key),n)}}function ce(t){var e=function(t,e){if("object"!=se(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=se(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==se(e)?e:e+""}function le(t,e,r){return e=fe(e),function(t,e){if(e&&("object"===se(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,he()?Reflect.construct(e,r||[],fe(t).constructor):e.apply(t,r))}function he(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(he=function(){return!!t})()}function pe(){return pe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=fe(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},pe.apply(this,arguments)}function fe(t){return fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fe(t)}function de(t,e){return de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},de(t,e)}var ye=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),le(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&de(t,e)}(e,t),r=e,(n=[{key:"postBuild",value:function(){window.Autocomplete&&(this.autocomplete_wrapper=document.createElement("div"),this.input.parentNode.insertBefore(this.autocomplete_wrapper,this.input.nextSibling),this.autocomplete_wrapper.appendChild(this.input),this.autocomplete_dropdown=document.createElement("ul"),this.input.parentNode.insertBefore(this.autocomplete_dropdown,this.input.nextSibling)),pe(fe(e.prototype),"postBuild",this).call(this)}},{key:"afterInputReady",value:function(){var t,r=this;window.Autocomplete&&!this.autocomplete_instance&&(t=this.expandCallbacks("autocomplete",a({},{search:function(t){return console.log('No "search" callback defined for autocomplete in property "'.concat(t.key,'"')),[]},onSubmit:function(){r.input.blur()},baseClass:"autocomplete"},this.defaults.options.autocomplete||{},this.options.autocomplete||{})),this.autocomplete_wrapper.classList.add(t.baseClass),this.autocomplete_dropdown.classList.add("".concat(t.baseClass,"-result-list")),this.autocomplete_instance=new window.Autocomplete(this.autocomplete_wrapper,t)),pe(fe(e.prototype),"afterInputReady",this).call(this)}},{key:"destroy",value:function(){this.autocomplete_instance&&(this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.autocomplete_dropdown&&this.autocomplete_dropdown.parentNode&&this.autocomplete_dropdown.parentNode.removeChild(this.autocomplete_dropdown),this.autocomplete_wrapper&&this.autocomplete_wrapper.parentNode&&this.autocomplete_wrapper.parentNode.removeChild(this.autocomplete_wrapper),this.autocomplete_instance=null),pe(fe(e.prototype),"destroy",this).call(this)}}])&&ue(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(P);function me(t){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},me(t)}function ve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,be(n.key),n)}}function be(t){var e=function(t,e){if("object"!=me(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=me(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==me(e)?e:e+""}function ge(t,e,r){return e=_e(e),function(t,e){if(e&&("object"===me(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,we()?Reflect.construct(e,r||[],_e(t).constructor):e.apply(t,r))}function we(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(we=function(){return!!t})()}function Oe(){return Oe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_e(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Oe.apply(this,arguments)}function _e(t){return _e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_e(t)}function je(t,e){return je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},je(t,e)}var ke=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ge(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&je(t,e)}(e,t),r=e,(n=[{key:"getNumColumns",value:function(){return 4}},{key:"setFileReaderListener",value:function(t){var e=this;t.addEventListener("load",(function(t){if(e.count===e.current_item_index)e.value[e.count][e.key]=t.target.result;else{var r={};for(var n in e.parent.schema.properties)r[n]="";r[e.key]=t.target.result,e.value.splice(e.count,0,r)}e.count+=1,e.count===e.total+e.current_item_index&&e.arrayEditor.setValue(e.value)}))}},{key:"build",value:function(){var t=this;if(this.options.compact||(this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired())),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.input=this.theme.getFormInputField("hidden",this),this.container.appendChild(this.input),!this.schema.readOnly&&!this.schema.readonly){if(!window.FileReader)throw new Error("FileReader required for base64 editor");this.uploader=this.theme.getFormInputField("file",this),this.uploader.style.display="none",this.schema.options&&this.schema.options.multiple&&!0===this.schema.options.multiple&&this.parent&&"object"===this.parent.schema.type&&this.parent.parent&&"array"===this.parent.parent.schema.type&&this.uploader.setAttribute("multiple",""),this.uploader.addEventListener("change",(function(e){if(e.preventDefault(),e.stopPropagation(),e.currentTarget.files&&e.currentTarget.files.length)if(e.currentTarget.files.length>1&&t.schema.options&&t.schema.options.multiple&&!0===t.schema.options.multiple&&t.parent&&"object"===t.parent.schema.type&&t.parent.parent&&"array"===t.parent.parent.schema.type){t.arrayEditor=t.jsoneditor.getEditor(t.parent.parent.path),t.value=t.arrayEditor.getValue(),t.total=e.currentTarget.files.length,t.current_item_index=parseInt(t.parent.key),t.count=t.current_item_index;for(var r=0;r<t.total;r++){var n=new FileReader;t.setFileReaderListener(n),n.readAsDataURL(e.currentTarget.files[r])}}else{var i=new FileReader;i.onload=function(e){t.value=e.target.result,t.refreshPreview(),t.onChange(!0),i=null},i.readAsDataURL(e.currentTarget.files[0])}}))}this.preview=this.theme.getFormInputDescription(this.translateProperty(this.schema.description)),this.container.appendChild(this.preview),this.control=this.theme.getFormControl(this.label,this.uploader||this.input,this.preview,this.infoButton,this),this.container.appendChild(this.control);var e=this.getButton({label:"button_upload",icon:"upload",title:"button_upload"});e.addEventListener("click",(function(){t.uploader.click()})),this.control.appendChild(e),this.setInputAttributes(["multiple"],e)}},{key:"refreshPreview",value:function(){if(this.last_preview!==this.value&&(this.last_preview=this.value,this.preview.innerHTML="",this.value)){var t=this.value.match(/^data:([^;,]+)[;,]/);if(t&&(t=t[1]),t){if(this.preview.innerHTML="<strong>Type:</strong> ".concat(t,", <strong>Size:</strong> ").concat(Math.floor((this.value.length-this.value.split(",")[0].length-1)/1.33333)," bytes"),"image"===t.substr(0,5)){this.preview.innerHTML+="<br>";var e=document.createElement("img");e.style.maxWidth="100%",e.style.maxHeight="100px",e.src=this.value,this.preview.appendChild(e)}}else this.preview.innerHTML="<em>Invalid data URI</em>"}}},{key:"enable",value:function(){this.always_disabled||(this.uploader&&(this.uploader.disabled=!1),Oe(_e(e.prototype),"enable",this).call(this))}},{key:"disable",value:function(t){t&&(this.always_disabled=!0),this.uploader&&(this.uploader.disabled=!0),Oe(_e(e.prototype),"disable",this).call(this)}},{key:"setValue",value:function(t){t=this.applyConstFilter(t),this.value!==t&&(this.schema.readOnly&&this.schema.enum&&!this.schema.enum.includes(t)?this.value=this.schema.enum[0]:this.value=t,this.input.value=this.value,this.refreshPreview(),this.onChange())}},{key:"destroy",value:function(){this.preview&&this.preview.parentNode&&this.preview.parentNode.removeChild(this.preview),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.uploader&&this.uploader.parentNode&&this.uploader.parentNode.removeChild(this.uploader),Oe(_e(e.prototype),"destroy",this).call(this)}}])&&ve(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(b);function xe(t){return xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xe(t)}function Se(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Pe(n.key),n)}}function Pe(t){var e=function(t,e){if("object"!=xe(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=xe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==xe(e)?e:e+""}function Ee(t,e,r){return e=Ae(e),function(t,e){if(e&&("object"===xe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ce()?Reflect.construct(e,r||[],Ae(t).constructor):e.apply(t,r))}function Ce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ce=function(){return!!t})()}function Te(){return Te="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ae(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Te.apply(this,arguments)}function Ae(t){return Ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ae(t)}function Ie(t,e){return Ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ie(t,e)}var Re=function(t){function e(t,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Ee(this,e,[t,r])).active=!1,n.parent&&n.parent.schema&&(Array.isArray(n.parent.schema.required)?n.parent.schema.required.includes(n.key)||n.parent.schema.required.push(n.key):n.parent.schema.required=[n.key]),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ie(t,e)}(e,t),r=e,(n=[{key:"build",value:function(){var t=this;this.options.compact=!0;var e=this.expandCallbacks("button",a({},{icon:"",validated:!1,align:"left",action:function(t,e){window.alert('No button action defined for "'.concat(t.path,'"'))}},this.defaults.options.button||{},this.options.button||{})),r=this.translateProperty(e.text||this.schema.title)||this.key;this.input=this.getButton({label:r,icon:e.icon,title:r}),"function"!=typeof e.action?window.alert('No button action defined for "'.concat(this.path,'"')):this.input.addEventListener("click",e.action,!1),(this.schema.readOnly||this.schema.readonly||this.schema.template)&&(this.disable(!0),this.input.setAttribute("readonly","true")),this.setInputAttributes(["readonly"]),this.control=this.theme.getFormButtonHolder(e.align),this.theme.append(this.control,this.input),this.theme.append(this.container,this.control),this.changeHandler=function(){t.jsoneditor.validate(t.jsoneditor.getValue()).length>0?t.disable():t.enable()},e.validated&&this.jsoneditor.on("change",this.changeHandler)}},{key:"enable",value:function(){this.always_disabled||(this.input.disabled=!1,Te(Ae(e.prototype),"enable",this).call(this))}},{key:"disable",value:function(t){t&&(this.always_disabled=!0),this.input.disabled=!0,Te(Ae(e.prototype),"disable",this).call(this)}},{key:"getNumColumns",value:function(){return 2}},{key:"activate",value:function(){this.active=!1,this.enable()}},{key:"deactivate",value:function(){this.isRequired()||(this.active=!1,this.disable())}},{key:"destroy",value:function(){this.jsoneditor.off("change",this.changeHandler),this.changeHandler=null,Te(Ae(e.prototype),"destroy",this).call(this)}}])&&Se(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(b);function Le(t){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Le(t)}function Ne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Be(n.key),n)}}function Be(t){var e=function(t,e){if("object"!=Le(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Le(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Le(e)?e:e+""}function De(t,e,r){return e=Me(e),function(t,e){if(e&&("object"===Le(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Fe()?Reflect.construct(e,r||[],Me(t).constructor):e.apply(t,r))}function Fe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Fe=function(){return!!t})()}function Ve(){return Ve="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Me(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Ve.apply(this,arguments)}function Me(t){return Me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Me(t)}function $e(t,e){return $e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$e(t,e)}var ze=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),De(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$e(t,e)}(e,t),r=e,(n=[{key:"setValue",value:function(t,e){t=!!(t=this.applyConstFilter(t));var r=this.getValue()!==t;this.value=t,this.input.checked=this.value,e||(this.is_dirty=!0),this.onChange(r)}},{key:"register",value:function(){Ve(Me(e.prototype),"register",this).call(this),this.input&&this.jsoneditor.options.use_name_attributes&&this.input.setAttribute("name",this.formname)}},{key:"unregister",value:function(){Ve(Me(e.prototype),"unregister",this).call(this),this.input&&this.input.removeAttribute("name")}},{key:"getNumColumns",value:function(){return Math.min(12,Math.max(this.getTitle().length/7,2))}},{key:"setOptInCheckbox",value:function(){Ve(Me(e.prototype),"setOptInCheckbox",this).call(this),this.optInAppended&&(this.container.insertBefore(this.optInContainer,this.container.firstChild),this.optInContainer.style.verticalAlign="top",this.control.style.marginTop="0")}},{key:"build",value:function(){var t=this;this.parent&&this.parent.options.table_row||(this.label=this.header=this.theme.getCheckboxLabel(this.getTitle(),this.isRequired()),this.label.htmlFor=this.formname),this.description=this.theme.getFormInputDescription(this.schema.description),this.options.infoText&&!this.options.compact&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.options.compact&&this.container.classList.add("compact"),this.input=this.theme.getCheckbox(),this.input.id=this.formname,this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton,this),this.theme.toggle(this.control,!0),(this.schema.readOnly||this.schema.readonly)&&(this.disable(!0),this.input.disabled=!0),this.input.addEventListener("change",(function(e){e.preventDefault(),e.stopPropagation(),t.value=e.currentTarget.checked,t.is_dirty=!0,t.onChange(!0)})),this.theme.append(this.container,this.control)}},{key:"enable",value:function(){this.always_disabled||(this.input.disabled=!1,Ve(Me(e.prototype),"enable",this).call(this))}},{key:"disable",value:function(t){t&&(this.always_disabled=!0),this.input.disabled=!0,Ve(Me(e.prototype),"disable",this).call(this)}},{key:"destroy",value:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),Ve(Me(e.prototype),"destroy",this).call(this)}},{key:"showValidationErrors",value:function(t){var e=this,r=this.jsoneditor.options.show_errors,n="change"===r||"interaction"===r;if(("never"!==r||this.is_dirty)&&(!n||this.is_dirty)){var i=t.reduce((function(t,r){return r.path===e.path&&t.push(r.message),t}),[]);this.input.controlgroup=this.control,i.length?this.theme.addInputError(this.input,"".concat(i.join(". "),".")):this.theme.removeInputError(this.input)}}}])&&Ne(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(b);function He(t){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},He(t)}function We(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qe(n.key),n)}}function qe(t){var e=function(t,e){if("object"!=He(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=He(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==He(e)?e:e+""}function Ue(t,e,r){return e=Ze(e),function(t,e){if(e&&("object"===He(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ge()?Reflect.construct(e,r||[],Ze(t).constructor):e.apply(t,r))}function Ge(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ge=function(){return!!t})()}function Je(){return Je="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ze(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Je.apply(this,arguments)}function Ze(t){return Ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ze(t)}function Ye(t,e){return Ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ye(t,e)}var Ke=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ue(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ye(t,e)}(e,t),r=e,(n=[{key:"register",value:function(){Je(Ze(e.prototype),"register",this).call(this),this.input&&this.jsoneditor.options.use_name_attributes&&this.input.setAttribute("name",this.formname)}},{key:"unregister",value:function(){Je(Ze(e.prototype),"unregister",this).call(this),this.input&&this.input.removeAttribute("name")}},{key:"getNumColumns",value:function(){if(!this.enum_options)return 3;for(var t=this.getTitle().length,e=0;e<this.enum_options.length;e++)t=Math.max(t,this.enum_options[e].length+4);return Math.min(12,Math.max(t/7,2))}},{key:"typecast",value:function(t){return"boolean"===this.schema.type?"undefined"===t||void 0===t?void 0:!!t:"number"===this.schema.type?1*t||0:"integer"===this.schema.type?Math.floor(1*t||0):this.schema.enum&&void 0===t?void 0:"".concat(t)}},{key:"getValue",value:function(){if(this.dependenciesFulfilled)return this.typecast(this.value)}},{key:"setValue",value:function(t,e){t=this.applyConstFilter(t);var r=this.typecast(t),n=this.enum_options.length>0&&this.enum_values.includes(r),i=!!this.jsoneditor.options.use_default_values||void 0!==this.schema.default;if(this.hasPlaceholderOption||n&&(!e||this.isRequired()||i)||(r=this.enum_values[0]),this.value!==r){var o=this.enum_values.indexOf(r);n&&-1!==o?this.input.setValue(this.enum_options[o]):this.hasPlaceholderOption?this.input.setValue("_placeholder_"):this.input.setValue(r),this.value=r,e||(this.is_dirty=!0),this.onChange(),this.change()}}},{key:"preBuild",value:function(){var t,e,r,n,i=this;if(this.input_type="select",this.enum_options=[],this.enum_values=[],this.enum_display=[],this.hasPlaceholderOption=(null===(t=this.schema)||void 0===t||null===(t=t.options)||void 0===t?void 0:t.has_placeholder_option)||!1,this.placeholderOptionText=(null===(e=this.schema)||void 0===e||null===(e=e.options)||void 0===e?void 0:e.placeholder_option_text)||" ",this.enforceConst&&this.schema.const){var o=this.schema.const;this.enum_options=["".concat(o)],this.enum_display=["".concat(this.translateProperty(o)||o)],this.enum_values=[this.typecast(o)]}else if(this.schema.enum){var s=this.schema.options&&this.schema.options.enum_titles||[];this.schema.enum.forEach((function(t,e){i.enum_options[e]="".concat(t),i.enum_display[e]="".concat(i.translateProperty(s[e])||t),i.enum_values[e]=i.typecast(t)}))}else if("boolean"===this.schema.type)this.enum_display=this.schema.options&&this.schema.options.enum_titles||["true","false"],this.enum_options=["1",""],this.enum_values=[!0,!1],this.isRequired()||(this.enum_display.unshift(" "),this.enum_options.unshift("undefined"),this.enum_values.unshift(void 0));else{if(!this.schema.enumSource)throw new Error("'select' editor requires the enum property to be set.");if(this.enumSource=[],this.enum_display=[],this.enum_options=[],this.enum_values=[],Array.isArray(this.schema.enumSource))for(r=0;r<this.schema.enumSource.length;r++)"string"==typeof this.schema.enumSource[r]?this.enumSource[r]={source:this.schema.enumSource[r]}:Array.isArray(this.schema.enumSource[r])?this.enumSource[r]=this.schema.enumSource[r]:this.enumSource[r]=a({},this.schema.enumSource[r]);else this.schema.enumValue?this.enumSource=[{source:this.schema.enumSource,value:this.schema.enumValue}]:this.enumSource=[{source:this.schema.enumSource}];for(r=0;r<this.enumSource.length;r++)this.enumSource[r].value&&("function"==typeof(n=this.expandCallbacks("template",{template:this.enumSource[r].value})).template?this.enumSource[r].value=n.template:this.enumSource[r].value=this.jsoneditor.compileTemplate(this.enumSource[r].value,this.template_engine)),this.enumSource[r].title&&("function"==typeof(n=this.expandCallbacks("template",{template:this.enumSource[r].title})).template?this.enumSource[r].title=n.template:this.enumSource[r].title=this.jsoneditor.compileTemplate(this.enumSource[r].title,this.template_engine)),this.enumSource[r].filter&&this.enumSource[r].value&&("function"==typeof(n=this.expandCallbacks("template",{template:this.enumSource[r].filter})).template?this.enumSource[r].filter=n.template:this.enumSource[r].filter=this.jsoneditor.compileTemplate(this.enumSource[r].filter,this.template_engine))}}},{key:"build",value:function(){var t=this;this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.options.compact&&this.container.classList.add("compact"),!this.enum_values.length||void 0===this.enum_values[0]||""!==this.schema.default&&null!==this.schema.default||(this.enum_display.unshift(" "),this.enum_options.unshift(""),this.enum_values.unshift(void 0));var e=this.enum_options.map((function(e,r){return{data:e,label:t.enum_display[r]}}));this.input=this.theme.getSelectInput(e,this.inputOptions),(this.schema.readOnly||this.schema.readonly)&&(this.disable(!0),this.input.setDisabled(!0)),this.setInputAttributes([]),this.input.on("change",(function(e,r){t.onInputChange()})),this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton,this),this.theme.append(this.container,this.control),this.value=this.enum_values[0]}},{key:"afterInputReady",value:function(){this.theme.afterInputReady(this.input)}},{key:"onInputChange",value:function(){var t,e=this.typecast(this.input.getValue());(t=this.enum_values.includes(e)?this.enum_values[this.enum_values.indexOf(e)]:this.enum_values[0])!==this.value&&(this.is_dirty=!0,this.value=t,this.onChange(!0))}},{key:"onWatchedFieldChange",value:function(){var t,r,n=[],i=[];if(this.enumSource){t=this.getWatchedFieldValues();for(var o=0;o<this.enumSource.length;o++)if(Array.isArray(this.enumSource[o]))n=n.concat(this.enumSource[o]),i=i.concat(this.enumSource[o]);else{var a=[];if(a=Array.isArray(this.enumSource[o].source)?this.enumSource[o].source:t[this.enumSource[o].source]){if(this.enumSource[o].slice&&(a=Array.prototype.slice.apply(a,this.enumSource[o].slice)),this.enumSource[o].filter){var s=[];for(r=0;r<a.length;r++)this.enumSource[o].filter({i:r,item:a[r],watched:t})&&s.push(a[r]);a=s}var u=[],c=[];for(r=0;r<a.length;r++){var l=a[r];this.enumSource[o].value?c[r]=this.typecast(this.enumSource[o].value({i:r,item:l})):c[r]=a[r],this.enumSource[o].title?u[r]=this.enumSource[o].title({i:r,item:l}):u[r]=c[r]}this.enumSource[o].sort&&function(t,e,r){t.map((function(t,r){return{v:t,t:e[r]}})).sort((function(t,e){return t.v<e.v?-r:t.v===e.v?0:r})).forEach((function(r,n){t[n]=r.v,e[n]=r.t}))}.bind(null,c,u,"desc"===this.enumSource[o].sort?1:-1)(),n=n.concat(c),i=i.concat(u)}}var h=this.value;this.theme.setSelectOptions(this.input,n,i),this.enum_options=n,this.enum_display=i,this.enum_values=n,n.includes(h)||!1!==this.jsoneditor.options.enum_source_value_auto_select?(this.input.value=h,this.value=h):(this.input.setValue(n[0]),this.value=this.typecast(n[0]||""),this.parent&&!this.watchLoop?this.parent.onChildEditorChange(this):this.jsoneditor.onChange(),this.jsoneditor.notifyWatchers(this.path))}Je(Ze(e.prototype),"onWatchedFieldChange",this).call(this)}},{key:"enable",value:function(){this.always_disabled||(this.input.setDisabled(!1),Je(Ze(e.prototype),"enable",this).call(this))}},{key:"disable",value:function(t){t&&(this.always_disabled=!0),this.input.setDisabled(!0),Je(Ze(e.prototype),"disable",this).call(this,t)}},{key:"destroy",value:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),Je(Ze(e.prototype),"destroy",this).call(this)}},{key:"showValidationErrors",value:function(t){var e=this,r=this.jsoneditor.options.show_errors,n="change"===r||"interaction"===r;if(("never"!==r||this.is_dirty)&&(!n||this.is_dirty)){var i=t.reduce((function(t,r){return r.path===e.path&&t.push(r.message),t}),[]);i.length?this.theme.addFieldError(this.control,"".concat(i.join(". "),".")):this.theme.addFieldError(this.control)}}}])&&We(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(b);function Qe(t){return Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qe(t)}function Xe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tr(n.key),n)}}function tr(t){var e=function(t,e){if("object"!=Qe(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Qe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Qe(e)?e:e+""}function er(t,e,r){return e=ir(e),function(t,e){if(e&&("object"===Qe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,rr()?Reflect.construct(e,r||[],ir(t).constructor):e.apply(t,r))}function rr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(rr=function(){return!!t})()}function nr(){return nr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ir(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},nr.apply(this,arguments)}function ir(t){return ir=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ir(t)}function or(t,e){return or=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},or(t,e)}var ar=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),er(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&or(t,e)}(e,t),r=e,(n=[{key:"setValue",value:function(t,r){if(t=this.applyConstFilter(t),this.choices_instance){var n=this.typecast(t||"");if(this.enum_values.includes(n)||(n=this.enum_values[0]),this.value===n)return;r?this.is_dirty=!1:"change"===this.jsoneditor.options.show_errors&&(this.is_dirty=!0),this.input.value=this.enum_options[this.enum_values.indexOf(n)],this.choices_instance.setChoiceByValue(this.input.value),this.value=n,this.onChange()}else nr(ir(e.prototype),"setValue",this).call(this,t,r)}},{key:"afterInputReady",value:function(){if(window.Choices&&!this.choices_instance){var t=this.expandCallbacks("choices",a({},this.defaults.options.choices||{},this.options.choices||{}));this.choices_instance=new window.Choices(this.input,t)}nr(ir(e.prototype),"afterInputReady",this).call(this)}},{key:"onWatchedFieldChange",value:function(){var t=this;if(nr(ir(e.prototype),"onWatchedFieldChange",this).call(this),this.choices_instance){var r=this.enum_options.map((function(e,r){return{value:e,label:t.enum_display[r]}}));this.choices_instance.setChoices(r,"value","label",!0),this.choices_instance.setChoiceByValue("".concat(this.value))}}},{key:"enable",value:function(){!this.always_disabled&&this.choices_instance&&this.choices_instance.enable(),nr(ir(e.prototype),"enable",this).call(this)}},{key:"disable",value:function(t){this.choices_instance&&this.choices_instance.disable(),nr(ir(e.prototype),"disable",this).call(this,t)}},{key:"destroy",value:function(){this.choices_instance&&(this.choices_instance.destroy(),this.choices_instance=null),nr(ir(e.prototype),"destroy",this).call(this)}}])&&Xe(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(Ke);function sr(t){return sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sr(t)}function ur(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cr(n.key),n)}}function cr(t){var e=function(t,e){if("object"!=sr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=sr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==sr(e)?e:e+""}function lr(t,e,r){return e=fr(e),function(t,e){if(e&&("object"===sr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,hr()?Reflect.construct(e,r||[],fr(t).constructor):e.apply(t,r))}function hr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(hr=function(){return!!t})()}function pr(){return pr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=fr(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},pr.apply(this,arguments)}function fr(t){return fr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fr(t)}function dr(t,e){return dr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},dr(t,e)}ar.rules={".choices > *":"box-sizing:border-box"};var yr=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),lr(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dr(t,e)}(e,t),r=e,(n=[{key:"build",value:function(){if(pr(fr(e.prototype),"build",this).call(this),this.input&&(this.schema.max&&"string"==typeof this.schema.max&&this.input.setAttribute("max",this.schema.max),this.schema.min&&"string"==typeof this.schema.max&&this.input.setAttribute("min",this.schema.min),window.flatpickr&&"object"===sr(this.options.flatpickr))){this.options.flatpickr.enableTime="date"!==this.schema.format,this.options.flatpickr.noCalendar="time"===this.schema.format,"integer"===this.schema.type&&(this.options.flatpickr.mode="single"),this.input.setAttribute("data-input","");var t=this.input;if(!0===this.options.flatpickr.wrap){var r=[];if(!1!==this.options.flatpickr.showToggleButton){var n=this.getButton({icon:"time"===this.schema.format?"time":"calendar",title:"flatpickr_toggle_button"});n.setAttribute("data-toggle",""),r.push(n)}if(!1!==this.options.flatpickr.showClearButton){var i=this.getButton({icon:"clear",title:"flatpickr_clear_button"});i.setAttribute("data-clear",""),r.push(i)}var o=this.input.parentNode,a=this.input.nextSibling,s=this.theme.getInputGroup(this.input,r);void 0!==s?(this.options.flatpickr.inline=!1,o.insertBefore(s,a),t=s):this.options.flatpickr.wrap=!1}this.flatpickr=window.flatpickr(t,this.options.flatpickr),!0===this.options.flatpickr.inline&&!0===this.options.flatpickr.inlineHideInput&&this.input.setAttribute("type","hidden")}}},{key:"getValue",value:function(){if(this.dependenciesFulfilled){if("string"===this.schema.type)return this.value;if(""!==this.value&&void 0!==this.value){var t="time"===this.schema.format?"1970-01-01 ".concat(this.value):this.value;return parseInt(new Date(t).getTime()/1e3)}}}},{key:"setValue",value:function(t,r,n){if(t=this.applyConstFilter(t),"string"===this.schema.type)pr(fr(e.prototype),"setValue",this).call(this,t,r,n),this.flatpickr&&this.flatpickr.setDate(t);else if(t>0){var i=new Date(1e3*t),o=i.getFullYear(),a=this.zeroPad(i.getMonth()+1),s=this.zeroPad(i.getDate()),u=this.zeroPad(i.getHours()),c=this.zeroPad(i.getMinutes()),l=this.zeroPad(i.getSeconds()),h=[o,a,s].join("-"),p=[u,c,l].join(":"),f="".concat(h,"T").concat(p);"date"===this.schema.format?f=h:"time"===this.schema.format&&(f=p),this.input.value=f,this.refreshValue(),this.flatpickr&&this.flatpickr.setDate(f)}}},{key:"destroy",value:function(){this.flatpickr&&this.flatpickr.destroy(),this.flatpickr=null,pr(fr(e.prototype),"destroy",this).call(this)}},{key:"zeroPad",value:function(t){return"0".concat(t).slice(-2)}}])&&ur(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(P);function mr(t){return mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mr(t)}function vr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,br(n.key),n)}}function br(t){var e=function(t,e){if("object"!=mr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=mr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==mr(e)?e:e+""}function gr(t,e,r){return e=_r(e),function(t,e){if(e&&("object"===mr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,wr()?Reflect.construct(e,r||[],_r(t).constructor):e.apply(t,r))}function wr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(wr=function(){return!!t})()}function Or(){return Or="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_r(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Or.apply(this,arguments)}function _r(t){return _r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_r(t)}function jr(t,e){return jr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jr(t,e)}var kr=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),gr(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jr(t,e)}(e,t),r=e,(n=[{key:"register",value:function(){if(this.editors){for(var t=0;t<this.editors.length;t++)this.editors[t]&&this.editors[t].unregister();this.editors[this.currentEditor]&&this.editors[this.currentEditor].register()}Or(_r(e.prototype),"register",this).call(this)}},{key:"unregister",value:function(){if(Or(_r(e.prototype),"unregister",this).call(this),this.editors)for(var t=0;t<this.editors.length;t++)this.editors[t]&&this.editors[t].unregister()}},{key:"getNumColumns",value:function(){return this.editors[this.currentEditor]?Math.max(this.editors[this.currentEditor].getNumColumns(),4):4}},{key:"enable",value:function(){if(this.editors)for(var t=0;t<this.editors.length;t++)this.editors[t]&&this.editors[t].enable();Or(_r(e.prototype),"enable",this).call(this)}},{key:"disable",value:function(){if(this.editors)for(var t=0;t<this.editors.length;t++)this.editors[t]&&this.editors[t].disable();Or(_r(e.prototype),"disable",this).call(this)}},{key:"switchEditor",value:function(){var t=this,e=this.getWatchedFieldValues();if(e){var r=document.location.origin+document.location.pathname+this.template(e);this.editors[this.refs[r]]||this.buildChildEditor(r),this.currentEditor=this.refs[r],this.register(),this.editors.forEach((function(e,r){e&&(t.currentEditor===r?e.container.style.display="":e.container.style.display="none")})),this.refreshValue(),this.onChange(!0)}}},{key:"buildChildEditor",value:function(t){this.refs[t]=this.editors.length;var e=this.theme.getChildEditorHolder();this.theme.append(this.editor_holder,e);var r=a({},this.schema,this.jsoneditor.refs[t]),n=this.jsoneditor.getEditorClass(r,this.jsoneditor),i=n.classname,o=n.editorClass,s=this.jsoneditor.createEditor(o,{jsoneditor:this.jsoneditor,schema:r,container:e,path:this.path,pathNoIndex:this.path,parent:this,required:!0,classname:i});this.editors.push(s),s.preBuild(),s.build(),s.postBuild()}},{key:"preBuild",value:function(){var t;for(this.refs={},this.editors=[],this.currentEditor="",t=0;t<this.schema.links.length;t++)if("describedby"===this.schema.links[t].rel.toLowerCase()){this.template=this.jsoneditor.compileTemplate(this.schema.links[t].href,this.template_engine);break}this.schema.links=this.schema.links.slice(0,t).concat(this.schema.links.slice(t+1)),0===this.schema.links.length&&delete this.schema.links,this.baseSchema=a({},this.schema)}},{key:"build",value:function(){this.editor_holder=document.createElement("div"),this.theme.append(this.container,this.editor_holder),this.switchEditor()}},{key:"onWatchedFieldChange",value:function(){this.switchEditor()}},{key:"onChildEditorChange",value:function(t,r){this.editors[this.currentEditor]&&this.refreshValue(),Or(_r(e.prototype),"onChildEditorChange",this).call(this,t,r)}},{key:"refreshValue",value:function(){this.editors[this.currentEditor]&&(this.value=this.editors[this.currentEditor].getValue())}},{key:"setValue",value:function(t,e){t=this.applyConstFilter(t),this.editors[this.currentEditor]&&(this.editors[this.currentEditor].setValue(t,e),this.refreshValue(),this.onChange())}},{key:"destroy",value:function(){this.editors.forEach((function(t){t&&t.destroy()})),this.editor_holder&&this.editor_holder.parentNode&&this.editor_holder.parentNode.removeChild(this.editor_holder),Or(_r(e.prototype),"destroy",this).call(this)}},{key:"showValidationErrors",value:function(t){this.editors.forEach((function(e){e&&e.showValidationErrors(t)}))}}])&&vr(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(b);function xr(t){return xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xr(t)}function Sr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Er(n.key),n)}}function Er(t){var e=function(t,e){if("object"!=xr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=xr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==xr(e)?e:e+""}function Cr(t,e,r){return e=Ir(e),function(t,e){if(e&&("object"===xr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Tr()?Reflect.construct(e,r||[],Ir(t).constructor):e.apply(t,r))}function Tr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Tr=function(){return!!t})()}function Ar(){return Ar="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ir(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Ar.apply(this,arguments)}function Ir(t){return Ir=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ir(t)}function Rr(t,e){return Rr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Rr(t,e)}var Lr=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Cr(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rr(t,e)}(e,t),r=e,(n=[{key:"getNumColumns",value:function(){return 4}},{key:"build",value:function(){var t=this;this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired()),this.theme.append(this.container,this.title),this.options.enum_titles=this.options.enum_titles||[],this.enforceConstEnabled&&this.schema.const?this.enum=[this.schema.const]:this.enum=this.schema.enum,this.selected=0,this.select_options=[],this.html_values=[];for(var e=0;e<this.enum.length;e++)this.select_options[e]=this.enum[e],this.html_values[e]=this.getHTML(this.enum[e]);this.switcher=this.theme.getSwitcher(this.select_options,this),this.theme.append(this.container,this.switcher),this.display_area=this.theme.getIndentedPanel(),this.theme.append(this.container,this.display_area),this.options.hide_display&&this.theme.toggle(this.display_area,!1),this.switcher.addEventListener("change",(function(e){t.selected=t.select_options.indexOf(e.currentTarget.value),t.value=t.enum[t.selected],t.refreshValue(),t.onChange(!0)})),this.value=this.enum[0],this.refreshValue(),1===this.enum.length&&this.theme.toggle(this.switcher,!1)}},{key:"refreshValue",value:function(){var t=this;if(this.enum){this.selected=-1;var e=JSON.stringify(this.value);this.enum.forEach((function(r,n){if(e===JSON.stringify(r))return t.selected=n,!1})),this.selected<0?this.setValue(this.enum[0]):(this.switcher.value=this.select_options[this.selected],this.display_area.innerHTML=this.html_values[this.selected])}}},{key:"enable",value:function(){this.always_disabled||(this.switcher.disabled=!1,Ar(Ir(e.prototype),"enable",this).call(this))}},{key:"disable",value:function(t){t&&(this.always_disabled=!0),this.switcher.disabled=!0,Ar(Ir(e.prototype),"disable",this).call(this)}},{key:"getHTML",value:function(t){var e,r,n=this;if(null===t)return"<em>null</em>";if("object"===xr(t)){var i="";return e=t,r=function(e,r){var o=n.getHTML(r);Array.isArray(t)||(o="<div><em>".concat(e,"</em>: ").concat(o,"</div>")),i+="<li>".concat(o,"</li>")},Array.isArray(e)||"number"==typeof e.length&&e.length>0&&e.length-1 in e?Array.from(e).forEach((function(t,e){return r(e,t)})):Object.entries(e).forEach((function(t){var e,n,i=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,n)||function(t,e){if(t){if("string"==typeof t)return Sr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Sr(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[0],a=i[1];return r(o,a)})),i=Array.isArray(t)?"<ol>".concat(i,"</ol>"):"<ul style='margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;'>".concat(i,"</ul>")}return"boolean"==typeof t?t?"true":"false":"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}},{key:"setValue",value:function(t){t=this.applyConstFilter(t),this.value!==t&&(this.value=t,this.refreshValue(),this.onChange())}},{key:"destroy",value:function(){this.display_area&&this.display_area.parentNode&&this.display_area.parentNode.removeChild(this.display_area),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.switcher&&this.switcher.parentNode&&this.switcher.parentNode.removeChild(this.switcher),Ar(Ir(e.prototype),"destroy",this).call(this)}}])&&Pr(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(b);function Nr(t){return Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nr(t)}function Br(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Dr(n.key),n)}}function Dr(t){var e=function(t,e){if("object"!=Nr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Nr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Nr(e)?e:e+""}function Fr(t,e,r){return e=$r(e),function(t,e){if(e&&("object"===Nr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Vr()?Reflect.construct(e,r||[],$r(t).constructor):e.apply(t,r))}function Vr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Vr=function(){return!!t})()}function Mr(){return Mr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=$r(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Mr.apply(this,arguments)}function $r(t){return $r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$r(t)}function zr(t,e){return zr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},zr(t,e)}var Hr=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Fr(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zr(t,e)}(e,t),r=e,(n=[{key:"register",value:function(){Mr($r(e.prototype),"register",this).call(this),this.input&&this.jsoneditor.options.use_name_attributes&&this.input.setAttribute("name",this.formname)}},{key:"unregister",value:function(){Mr($r(e.prototype),"unregister",this).call(this),this.input&&this.input.removeAttribute("name")}},{key:"setValue",value:function(t,e,r){if(t=this.applyConstFilter(t),(!this.template||r)&&(null==t?t="":"object"===Nr(t)?t=JSON.stringify(t):"string"!=typeof t&&(t="".concat(t)),t!==this.serialized)){var n=this.sanitize(t);if(this.input.value!==n){this.input.value=n;var i=r||this.getValue()!==t;this.refreshValue(),e?this.is_dirty=!1:"change"===this.jsoneditor.options.show_errors&&(this.is_dirty=!0),this.adjust_height&&this.adjust_height(this.input),this.onChange(i)}}}},{key:"getNumColumns",value:function(){return 2}},{key:"enable",value:function(){Mr($r(e.prototype),"enable",this).call(this)}},{key:"disable",value:function(){Mr($r(e.prototype),"disable",this).call(this)}},{key:"refreshValue",value:function(){this.value=this.input.value,"string"!=typeof this.value&&(this.value=""),this.serialized=this.value}},{key:"destroy",value:function(){this.template=null,this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),Mr($r(e.prototype),"destroy",this).call(this)}},{key:"sanitize",value:function(t){return t}},{key:"onWatchedFieldChange",value:function(){var t;this.template&&(t=this.getWatchedFieldValues(),this.setValue(this.template(t),!1,!0)),Mr($r(e.prototype),"onWatchedFieldChange",this).call(this)}},{key:"build",value:function(){if(this.format=this.schema.format,!this.format&&this.options.default_format&&(this.format=this.options.default_format),this.options.format&&(this.format=this.options.format),this.input_type="hidden",this.input=this.theme.getFormInputField(this.input_type,this),this.format&&this.input.setAttribute("data-schemaformat",this.format),this.container.appendChild(this.input),this.schema.template){var t=this.expandCallbacks("template",{template:this.schema.template});"function"==typeof t.template?this.template=t.template:this.template=this.jsoneditor.compileTemplate(this.schema.template,this.template_engine),this.refreshValue()}else this.refreshValue()}}])&&Br(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(b);function Wr(t){return Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wr(t)}function qr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ur(n.key),n)}}function Ur(t){var e=function(t,e){if("object"!=Wr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Wr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Wr(e)?e:e+""}function Gr(t,e,r){return e=Zr(e),function(t,e){if(e&&("object"===Wr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Jr()?Reflect.construct(e,r||[],Zr(t).constructor):e.apply(t,r))}function Jr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Jr=function(){return!!t})()}function Zr(t){return Zr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zr(t)}function Yr(t,e){return Yr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yr(t,e)}var Kr=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Gr(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yr(t,e)}(e,t),r=e,(n=[{key:"build",value:function(){this.options.compact=!1,this.header=this.label=this.theme.getLabelLike(this.getTitle()),this.description=this.theme.getDescription(this.schema.description),this.control=this.theme.getFormControl(this.label,this.description,null,null,this),this.container.appendChild(this.control)}},{key:"getTitle",value:function(){return this.translateProperty(this.schema.title)}},{key:"getNumColumns",value:function(){return 12}},{key:"disable",value:function(){return!1}},{key:"enable",value:function(){return!1}}])&&qr(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(Re);function Qr(t){return Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qr(t)}function Xr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tn(n.key),n)}}function tn(t){var e=function(t,e){if("object"!=Qr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Qr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Qr(e)?e:e+""}function en(t,e,r){return e=on(e),function(t,e){if(e&&("object"===Qr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,rn()?Reflect.construct(e,r||[],on(t).constructor):e.apply(t,r))}function rn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(rn=function(){return!!t})()}function nn(){return nn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=on(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},nn.apply(this,arguments)}function on(t){return on=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},on(t)}function an(t,e){return an=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},an(t,e)}var sn=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),en(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&an(t,e)}(e,t),r=e,(n=[{key:"build",value:function(){if(nn(on(e.prototype),"build",this).call(this),void 0!==this.schema.minimum){var t=this.schema.minimum;void 0!==this.schema.exclusiveMinimum&&(t+=1),this.input.setAttribute("min",t)}if(void 0!==this.schema.maximum){var r=this.schema.maximum;void 0!==this.schema.exclusiveMaximum&&(r-=1),this.input.setAttribute("max",r)}if(void 0!==this.schema.step){var n=this.schema.step||1;this.input.setAttribute("step",n)}this.setInputAttributes(["maxlength","pattern","readonly","min","max","step"])}},{key:"getNumColumns",value:function(){return 2}},{key:"getValue",value:function(){if(this.dependenciesFulfilled)return this.schema.default||this.jsoneditor.options.use_default_values||""!==this.value?function(t){if(null==t)return!1;var e=t.match(l),r=parseFloat(t);return null!==e&&!isNaN(r)&&isFinite(r)}(this.value)?parseFloat(this.value):this.value:void(this.shouldBeUnset()&&this.input.setValue(""))}}])&&Xr(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(P);function un(t){return un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},un(t)}function cn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ln(n.key),n)}}function ln(t){var e=function(t,e){if("object"!=un(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=un(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==un(e)?e:e+""}function hn(t,e,r){return e=fn(e),function(t,e){if(e&&("object"===un(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,pn()?Reflect.construct(e,r||[],fn(t).constructor):e.apply(t,r))}function pn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(pn=function(){return!!t})()}function fn(t){return fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fn(t)}function dn(t,e){return dn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},dn(t,e)}var yn=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),hn(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dn(t,e)}(e,t),r=e,(n=[{key:"getNumColumns",value:function(){return 2}},{key:"getValue",value:function(){if(this.dependenciesFulfilled)return this.schema.default||this.jsoneditor.options.use_default_values||""!==this.value?function(t){if(null==t)return!1;var e=t.match(h),r=parseInt(t);return null!==e&&!isNaN(r)&&isFinite(r)}(this.value)?parseInt(this.value):this.value:void this.shouldBeUnset()}}])&&cn(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(sn);function mn(t){return mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mn(t)}function vn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bn(n.key),n)}}function bn(t){var e=function(t,e){if("object"!=mn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=mn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==mn(e)?e:e+""}function gn(t,e,r){return e=_n(e),function(t,e){if(e&&("object"===mn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,wn()?Reflect.construct(e,r||[],_n(t).constructor):e.apply(t,r))}function wn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(wn=function(){return!!t})()}function On(){return On="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_n(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},On.apply(this,arguments)}function _n(t){return _n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_n(t)}function jn(t,e){return jn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jn(t,e)}var kn=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),gn(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jn(t,e)}(e,t),r=e,(n=[{key:"preBuild",value:function(){if(On(_n(e.prototype),"preBuild",this).call(this),this.schema.options||(this.schema.options={}),!this.schema.options.cleave)switch(this.format){case"ipv6":this.schema.options.cleave={delimiters:[":"],blocks:[4,4,4,4,4,4,4,4],uppercase:!0};break;case"ipv4":this.schema.options.cleave={delimiters:["."],blocks:[3,3,3,3],numericOnly:!0}}this.options=a(this.options,this.schema.options||{})}}])&&vn(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(P);function xn(t){return xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xn(t)}function Sn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Pn(n.key),n)}}function Pn(t){var e=function(t,e){if("object"!=xn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=xn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==xn(e)?e:e+""}function En(t,e,r){return e=An(e),function(t,e){if(e&&("object"===xn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Cn()?Reflect.construct(e,r||[],An(t).constructor):e.apply(t,r))}function Cn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Cn=function(){return!!t})()}function Tn(){return Tn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=An(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Tn.apply(this,arguments)}function An(t){return An=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},An(t)}function In(t,e){return In=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},In(t,e)}var Rn=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),En(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&In(t,e)}(e,t),r=e,(n=[{key:"setValue",value:function(t,r,n){t=this.applyConstFilter(t);var i=Tn(An(e.prototype),"setValue",this).call(this,t,r,n);void 0!==i&&i.changed&&this.jodit_instance&&this.jodit_instance.setEditorValue(i.value)}},{key:"build",value:function(){this.options.format="textarea",Tn(An(e.prototype),"build",this).call(this),this.input_type=this.schema.format,this.input.setAttribute("data-schemaformat",this.input_type)}},{key:"afterInputReady",value:function(){var t,r=this;window.Jodit?(t=this.expandCallbacks("jodit",a({},{height:300},this.defaults.options.jodit||{},this.options.jodit||{})),this.jodit_instance=new window.Jodit(this.input,t),(this.schema.readOnly||this.schema.readonly||this.schema.template)&&this.jodit_instance.setReadOnly(!0),this.jodit_instance.events.on("change",(function(){r.value=r.jodit_instance.getEditorValue(),r.is_dirty=!0,r.onChange(!0)})),this.theme.afterInputReady(this.input)):Tn(An(e.prototype),"afterInputReady",this).call(this)}},{key:"getNumColumns",value:function(){return 6}},{key:"enable",value:function(){!this.always_disabled&&this.jodit_instance&&this.jodit_instance.setReadOnly(!1),Tn(An(e.prototype),"enable",this).call(this)}},{key:"disable",value:function(t){this.jodit_instance&&this.jodit_instance.setReadOnly(!0),Tn(An(e.prototype),"disable",this).call(this,t)}},{key:"destroy",value:function(){this.jodit_instance&&(this.jodit_instance.destruct(),this.jodit_instance=null),Tn(An(e.prototype),"destroy",this).call(this)}}])&&Sn(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(P);function Ln(t,e,r,n){try{switch(t.format){case"ipv4":!function(t){var e=t.split(".");if(4!==e.length)throw new Error("error_ipv4");e.forEach((function(t){if(isNaN(+t)||+t<0||+t>255)throw new Error("error_ipv4")}))}(e);break;case"ipv6":!function(t){if(!t.match("^(?:(?:(?:[a-fA-F0-9]{1,4}:){6}|(?=(?:[a-fA-F0-9]{0,4}:){2,6}(?:[0-9]{1,3}.){3}[0-9]{1,3}$)(([0-9a-fA-F]{1,4}:){1,5}|:)((:[0-9a-fA-F]{1,4}){1,5}:|:)|::(?:[a-fA-F0-9]{1,4}:){5})(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9]).){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])|(?:[a-fA-F0-9]{1,4}:){7}[a-fA-F0-9]{1,4}|(?=(?:[a-fA-F0-9]{0,4}:){0,7}[a-fA-F0-9]{0,4}$)(([0-9a-fA-F]{1,4}:){1,7}|:)((:[0-9a-fA-F]{1,4}){1,7}|:)|(?:[a-fA-F0-9]{1,4}:){7}:|:(:[a-fA-F0-9]{1,4}){7})$"))throw new Error("error_ipv6")}(e);break;case"hostname":!function(t){if(!t.match("(?=^.{4,253}$)(^((?!-)[a-zA-Z0-9-]{0,62}[a-zA-Z0-9].)+[a-zA-Z]{2,63}$)"))throw new Error("error_hostname")}(e)}return[]}catch(t){return[{path:r,property:"format",message:n(t.message)}]}}function Nn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Bn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Nn(Object(r),!0).forEach((function(e){var n,i,o;n=t,i=e,o=r[e],(i=Hn(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Dn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||Mn(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fn(t){return Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fn(t)}function Vn(t){return function(t){if(Array.isArray(t))return $n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Mn(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mn(t,e){if(t){if("string"==typeof t)return $n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$n(t,e):void 0}}function $n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Hn(n.key),n)}}function Hn(t){var e=function(t,e){if("object"!=Fn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Fn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Fn(e)?e:e+""}var Wn=function(){return t=function t(e,r,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.jsoneditor=e,this.schema=r||this.jsoneditor.schema,this.options=n||{},this.translate=this.jsoneditor.translate||i.translate,this.translateProperty=this.jsoneditor.translateProperty||i.translateProperty,this.defaults=i,this._validateSubSchema={dependentRequired:function(t,e,r){var n=[];if(void 0!==t.dependentRequired){var i=[];Object.keys(t.dependentRequired).forEach((function(r){if(void 0!==e[r]){var n=t.dependentRequired[r];i=n.filter((function(t){return!c(e,t)}))}})),i.length>0&&n.push({message:"Must have the required properties: "+i.join(", "),path:r})}return n},dependentSchemas:function(t,e,r){var n=this,i=[];return Object.keys(t.dependentSchemas).forEach((function(o){if(void 0!==e[o]){var a=t.dependentSchemas[o],s=n._validateSchema(a,e,r);i=[].concat(Vn(i),Vn(s))}})),i},contains:function(t,e,r){var n=this,i=[];if(!Array.isArray(e))return i.push({path:r,message:'Expected array for "contains", got '.concat(Fn(e))}),i;var o=0;e.forEach((function(e){0===n._validateSchema(t.contains,e,r).length&&o++}));var a=0===o;return void 0!==t.minContains?o<t.minContains&&i.push({message:this.translate("error_minContains",[o,t.minContains],t),path:r}):a&&i.push({message:this.translate("error_contains",null,t),path:r}),void 0!==t.maxContains&&o>t.maxContains&&i.push({message:this.translate("error_maxContains",[o,t.maxContains],t),path:r}),i},if:function(t,e,r){if(void 0===t.then&&void 0===t.else)return[];var n=this._validateSchema(t.if,e,r),i=[],o=[];return void 0!==t.then&&(i=this._validateSchema(t.then,e,r)),void 0!==t.else&&(o=this._validateSchema(t.else,e,r)),!0===t.if?i:!1===t.if?o:0===n.length?i:n.length>0?o:[]},const:function(t,e,r){return JSON.stringify(t.const)===JSON.stringify(e)?[]:[{path:r,property:"const",message:this.translate("error_const",null,t)}]},enum:function(t,e,r){var n=JSON.stringify(e);return t.enum.some((function(t){return n===JSON.stringify(t)}))?[]:[{path:r,property:"enum",message:this.translate("error_enum",null,t)}]},extends:function(t,e,r){var n=this;return t.extends.reduce((function(t,i){return t.push.apply(t,Vn(n._validateSchema(i,e,r))),t}),[])},allOf:function(t,e,r){var n=this;return t.allOf.reduce((function(t,i){return t.push.apply(t,Vn(n._validateSchema(i,e,r))),t}),[])},anyOf_:function(t,e,r){var n=this;return t.anyOf.some((function(t){return!n._validateSchema(t,e,r).length}))?[]:[{path:r,property:"anyOf",message:this.translate("error_anyOf",null,t)}]},anyOf:function(t,e,r){var n=this,i=t.anyOf.map((function(t){return n._validateSchema(t,e,r)}));if(!i.some((function(t){return 0===t.length}))){var o,a=(null===(o=t.errorMessage)||void 0===o?void 0:o.anyOf)||this.translate("error_anyOf",null,t);return[{path:r,property:"anyOf",message:a}].concat(Vn(i.flat()))}return[]},oneOf:function(t,e,r){var n=this,i=0,o=[];t.oneOf.forEach((function(t,a){var s=n._validateSchema(t,e,r);s.length||i++,s.forEach((function(t){t.path="".concat(r,".oneOf[").concat(a,"]").concat(t.path.substr(r.length))})),o.push.apply(o,Vn(s))}));var a=[];return 1!==i&&(a.push({path:r,property:"oneOf",message:this.translate("error_oneOf",[i],t)}),a.push.apply(a,o)),a},not:function(t,e,r){return this._validateSchema(t.not,e,r).length?[]:[{path:r,property:"not",message:this.translate("error_not",null,t)}]},type:function(t,e,r){var n=this;if(Array.isArray(t.type)){if(!t.type.some((function(t){return n._checkType(t,e)})))return[{path:r,property:"type",message:this.translate("error_type_union",null,t)}]}else if(["date","time","datetime-local"].includes(t.format)&&"integer"===t.type){if(!this._checkType("string","".concat(e)))return[{path:r,property:"type",message:this.translate("error_type",[t.format],t)}]}else if(!this._checkType(t.type,e))return[{path:r,property:"type",message:this.translate("error_type",[t.type],t)}];return[]},type_:function(t,e,r){var n=this,i=[];return Array.isArray(t.type)?t.type.some((function(t){return n._checkType(t,e)}))||(i.push({path:r,property:"type",message:this.translate("error_type_union",null,t)}),t.type.forEach((function(o){return function(o){n._checkType(o,e)||i.push({path:r,property:"type",message:n.translate("error_type",[o],t)})}(o)}))):["date","time","datetime-local"].includes(t.format)&&"integer"===t.type?this._checkType("string","".concat(e))||i.push({path:r,property:"type",message:this.translate("error_type",[t.format],t)}):this._checkType(t.type,e)||i.push({path:r,property:"type",message:this.translate("error_type",[t.type],t)}),i},disallow:function(t,e,r){var n=this;if(Array.isArray(t.disallow)){if(t.disallow.some((function(t){return n._checkType(t,e)})))return[{path:r,property:"disallow",message:this.translate("error_disallow_union",null,t)}]}else if(this._checkType(t.disallow,e))return[{path:r,property:"disallow",message:this.translate("error_disallow",[t.disallow],t)}];return[]}},this._validateNumberSubSchema={multipleOf:function(t,e,r){return this._validateNumberSubSchemaMultipleDivisible(t,e,r)},divisibleBy:function(t,e,r){return this._validateNumberSubSchemaMultipleDivisible(t,e,r)},maximum:function(t,e,r){var n=t.exclusiveMaximum?e<t.maximum:e<=t.maximum;return window.math?n=window.math[t.exclusiveMaximum?"smaller":"smallerEq"](window.math.bignumber(e),window.math.bignumber(t.maximum)):window.Decimal&&(n=new window.Decimal(e)[t.exclusiveMaximum?"lt":"lte"](new window.Decimal(t.maximum))),n?[]:[{path:r,property:"maximum",message:this.translate(t.exclusiveMaximum?"error_maximum_excl":"error_maximum_incl",[t.maximum],t)}]},minimum:function(t,e,r){var n=t.exclusiveMinimum?e>t.minimum:e>=t.minimum;return window.math?n=window.math[t.exclusiveMinimum?"larger":"largerEq"](window.math.bignumber(e),window.math.bignumber(t.minimum)):window.Decimal&&(n=new window.Decimal(e)[t.exclusiveMinimum?"gt":"gte"](new window.Decimal(t.minimum))),n?[]:[{path:r,property:"minimum",message:this.translate(t.exclusiveMinimum?"error_minimum_excl":"error_minimum_incl",[t.minimum],t)}]}},this._validateStringSubSchema={maxLength:function(t,e,r){var n=[];return"".concat(e).length>t.maxLength&&n.push({path:r,property:"maxLength",message:this.translate("error_maxLength",[t.maxLength],t)}),n},minLength_:function(t,e,r){return"".concat(e).length<t.minLength?[{path:r,property:"minLength",message:this.translate(1===t.minLength?"error_notempty":"error_minLength",[t.minLength],t)}]:[]},minLength:function(t,e,r){if("".concat(e).length<t.minLength){var n,i=1===t.minLength?"error_notempty":"error_minLength";return[{path:r,property:"minLength",message:(null===(n=t.errorMessage)||void 0===n?void 0:n.minLength)||this.translate(i,[t.minLength],t)}]}return[]},pattern:function(t,e,r){return new RegExp(t.pattern).test(e)?[]:[{path:r,property:"pattern",message:t.options&&t.options.patternmessage?t.options.patternmessage:this.translate("error_pattern",[t.pattern],t)}]}},this._validateArraySubSchema={items:function(t,e,r){var n=this,i=[];if(Array.isArray(t.items))for(var o=0;o<e.length;o++)if(t.items[o])i.push.apply(i,Vn(this._validateSchema(t.items[o],e[o],"".concat(r,".").concat(o))));else{if(!0===t.additionalItems)break;if(!t.additionalItems){if(!1===t.additionalItems){i.push({path:r,property:"additionalItems",message:this.translate("error_additionalItems",null,t)});break}break}i.push.apply(i,Vn(this._validateSchema(t.additionalItems,e[o],"".concat(r,".").concat(o))))}else e.forEach((function(e,o){i.push.apply(i,Vn(n._validateSchema(t.items,e,"".concat(r,".").concat(o))))}));return i},maxItems:function(t,e,r){return e.length>t.maxItems?[{path:r,property:"maxItems",message:this.translate("error_maxItems",[t.maxItems],t)}]:[]},minItems:function(t,e,r){return e.length<t.minItems?[{path:r,property:"minItems",message:this.translate("error_minItems",[t.minItems],t)}]:[]},uniqueItems:function(t,e,r){for(var n={},i=0;i<e.length;i++){var o=JSON.stringify(e[i]);if(n[o])return[{path:r,property:"uniqueItems",message:this.translate("error_uniqueItems",null,t)}];n[o]=!0}return[]}},this._validateObjectSubSchema={maxProperties:function(t,e,r){return Object.keys(e).length>t.maxProperties?[{path:r,property:"maxProperties",message:this.translate("error_maxProperties",[t.maxProperties],t)}]:[]},minProperties:function(t,e,r){return Object.keys(e).length<t.minProperties?[{path:r,property:"minProperties",message:this.translate("error_minProperties",[t.minProperties],t)}]:[]},required:function(t,e,r){var n=this,i=[];return Array.isArray(t.required)&&t.required.forEach((function(o){if(void 0===e[o]){var a=n.jsoneditor.getEditor("".concat(r,".").concat(o));a&&!1===a.dependenciesFulfilled||a&&["button","info"].includes(a.schema.format||a.schema.type)||i.push({path:r,property:"required",message:n.translate("error_required",[t&&t.properties&&t.properties[o]&&t.properties[o].title?t.properties[o].title:o],t)})}})),i},properties:function(t,e,r,n){var i=this,o=[];return Object.entries(t.properties).forEach((function(t){var a=Dn(t,2),s=a[0],u=a[1];n[s]=!0,o.push.apply(o,Vn(i._validateSchema(u,e[s],"".concat(r,".").concat(s))))})),o},patternProperties:function(t,e,r,n){var i=this,o=[];return Object.entries(t.patternProperties).forEach((function(t){var a=Dn(t,2),s=a[0],u=a[1],c=new RegExp(s);Object.entries(e).forEach((function(t){var e=Dn(t,2),a=e[0],s=e[1];c.test(a)&&(n[a]=!0,o.push.apply(o,Vn(i._validateSchema(u,s,"".concat(r,".").concat(a)))))}))})),o}},this._validateObjectSubSchema2={propertyNames:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=[];if(!e||"object"!==Fn(e))return i;for(var o=0,a=Object.keys(e);o<a.length;o++){var s=a[o];if(!n[s])if("boolean"!=typeof t.propertyNames){if("object"===Fn(t.propertyNames)){var u=t.propertyNames;"number"==typeof u.maxLength&&s.length>u.maxLength&&i.push({path:r,property:"propertyNames.maxLength",message:this.translate("error_property_names_exceeds_maxlength",[s],u)}),"number"==typeof u.minLength&&s.length<u.minLength&&i.push({path:r,property:"propertyNames.minLength",message:this.translate("error_property_names_below_minlength",[s],u)}),void 0!==u.const&&s!==u.const&&i.push({path:r,property:"propertyNames.const",message:this.translate("error_property_names_const_mismatch",[s],u)}),Array.isArray(u.enum)&&!u.enum.includes(s)&&i.push({path:r,property:"propertyNames.enum",message:this.translate("error_property_names_enum_mismatch",[s],u)}),"string"==typeof u.pattern&&(new RegExp(u.pattern).test(s)||i.push({path:r,property:"propertyNames.pattern",message:this.translate("error_property_names_pattern_mismatch",[s],u)}))}n[s]=!0}else{if(!0===t.propertyNames){n[s]=!0;continue}i.push({path:r,property:"propertyNames",message:this.translate("error_property_names_false",[s],t)})}}return i},additionalProperties:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=[];if(!e||"object"!==Fn(e)||"object"!==t.type)return i;for(var o=0,a=Object.keys(e);o<a.length;o++){var s=a[o];n[s]||(["default"].includes(s)?n[s]=!0:!1===t.additionalProperties?i.push({path:r,property:"additionalProperties",message:'Property "'.concat(s,'" is not allowed')}):!0===t.additionalProperties?n[s]=!0:"object"===Fn(t.additionalProperties)&&(i.push.apply(i,Vn(this._validateSchema(t.additionalProperties,e[s],"".concat(r,".").concat(s)))),n[s]=!0))}return i}}},e=[{key:"fitTest",value:function(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e7,i={match:0,extra:0};if("object"===Fn(t)&&null!==t){var o=!Array.isArray(t),a=this._getSchema(e);if(a.oneOf){var s=Bn({},i);return a.oneOf.forEach((function(e){if(!o||"array"!==e.type){var i=r.fitTest(t,e,n);(i.match>s.match||i.match===s.match&&i.extra<s.extra)&&(s=i)}})),s}if(a.anyOf){var u=Bn({},i);return a.anyOf.forEach((function(e){var i=r.fitTest(t,e,n);(i.match>u.match||i.match===u.match&&i.extra<u.extra)&&(u=i)})),u}var l=a.properties||{};for(var h in l)if(c(l,h)){if("object"===Fn(t[h])&&"object"===Fn(l[h])&&l[h].properties){var p=this.fitTest(t[h],l[h],n/100);i.match+=p.match,i.extra+=p.extra}void 0!==t[h]&&(i.match+=n)}else i.extra+=n}return i}},{key:"fitTest_",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e7,n={match:0,extra:0};if("object"===Fn(t)&&null!==t){var i=this._getSchema(e);if(i.anyOf){var o,a=Bn({},n),s=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Mn(t))){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(i.anyOf);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=this.fitTest(t,u,r);(l.match>a.match||l.match===a.match&&l.extra<a.extra)&&(a=l)}}catch(t){s.e(t)}finally{s.f()}return a}var h=this._getSchema(e).properties;for(var p in h)if(c(h,p)){if("object"===Fn(t[p])&&"object"===Fn(h[p])&&"object"===Fn(h[p].properties)){var f=this.fitTest(t[p],h[p],r/100);n.match+=f.match,n.extra+=f.extra}void 0!==t[p]&&(n.match+=r)}else n.extra+=r}return n}},{key:"_getSchema",value:function(t){return void 0===t?a({},this.jsoneditor.expandRefs(this.schema)):t}},{key:"validate",value:function(t){return this._validateSchema(this.schema,t)}},{key:"_validateSchema",value:function(t,e,r){var n=this,i=[];return r=r||this.jsoneditor.root.formname,t=a({},this.jsoneditor.expandRefs(t)),void 0===e?this._validateV3Required(t,e,r):(Object.keys(t).forEach((function(o){n._validateSubSchema[o]&&i.push.apply(i,Vn(n._validateSubSchema[o].call(n,t,e,r)))})),i.push.apply(i,Vn(this._validateByValueType(t,e,r))),t.links&&t.links.forEach((function(o,a){o.rel&&"describedby"===o.rel.toLowerCase()&&(t=n._expandSchemaLink(t,a),i.push.apply(i,Vn(n._validateSchema(t,e,r,n.translate))))})),["date","time","datetime-local"].includes(t.format)&&i.push.apply(i,Vn(this._validateDateTimeSubSchema(t,e,r))),["uuid"].includes(t.format)&&i.push.apply(i,Vn(this._validateUUIDSchema(t,e,r))),i.push.apply(i,Vn(this._validateCustomValidator(t,e,r))),this._removeDuplicateErrors(i))}},{key:"_expandSchemaLink",value:function(t,e){var r=t.links[e].href,n=this.jsoneditor.root.getValue(),i=this.jsoneditor.compileTemplate(r,this.jsoneditor.template),o=document.location.origin+document.location.pathname+i(n);return t.links=t.links.slice(0,e).concat(t.links.slice(e+1)),a({},t,this.jsoneditor.refs[o])}},{key:"_validateV3Required",value:function(t,e,r){return(void 0!==t.required&&!0===t.required||void 0===t.required&&!0===this.jsoneditor.options.required_by_default)&&"info"!==t.type?[{path:r,property:"required",message:this.translate("error_notset",null,t)}]:[]}},{key:"_validateByValueType",value:function(t,e,r){var n=this,i=[];if(null===e)return i;if("number"==typeof e)Object.keys(t).forEach((function(o){n._validateNumberSubSchema[o]&&i.push.apply(i,Vn(n._validateNumberSubSchema[o].call(n,t,e,r)))}));else if("string"==typeof e)Object.keys(t).forEach((function(o){n._validateStringSubSchema[o]&&i.push.apply(i,Vn(n._validateStringSubSchema[o].call(n,t,e,r)))}));else if(Array.isArray(e))Object.keys(t).forEach((function(o){n._validateArraySubSchema[o]&&i.push.apply(i,Vn(n._validateArraySubSchema[o].call(n,t,e,r)))}));else if("object"===Fn(e)){var o={};Object.keys(t).forEach((function(a){n._validateObjectSubSchema[a]&&i.push.apply(i,Vn(n._validateObjectSubSchema[a].call(n,t,e,r,o)))})),void 0!==t.additionalProperties||!this.jsoneditor.options.no_additional_properties||t.oneOf||t.anyOf||t.allOf||(t.additionalProperties=!1),Object.keys(t).forEach((function(a){void 0!==n._validateObjectSubSchema2[a]&&i.push.apply(i,Vn(n._validateObjectSubSchema2[a].call(n,t,e,r,o)))}))}return i}},{key:"_validateUUIDSchema",value:function(t,e,r){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)?[]:[{path:r,property:"format",message:this.translate("error_pattern",["^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-5][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$"],t)}]}},{key:"_validateNumberSubSchemaMultipleDivisible",value:function(t,e,r){var n=t.multipleOf||t.divisibleBy,i=e/n===Math.floor(e/n);return window.math?i=window.math.mod(window.math.bignumber(e),window.math.bignumber(n)).equals(0):window.Decimal&&(i=new window.Decimal(e).mod(new window.Decimal(n)).equals(0)),i?[]:[{path:r,property:t.multipleOf?"multipleOf":"divisibleBy",message:this.translate("error_multipleOf",[n],t)}]}},{key:"_validateDateTimeSubSchema",value:function(t,e,r){var n,i,o,a=this,s=this.jsoneditor.getEditor(r),u=s&&s.flatpickr?s.flatpickr.config.dateFormat:{date:'"YYYY-MM-DD"',time:'"HH:MM"',"datetime-local":'"YYYY-MM-DD HH:MM"'}[t.format];if("integer"===t.type)return n=t,o=r,1*(i=e)<1?[{path:o,property:"format",message:a.translate("error_invalid_epoch",null,n)}]:i!==Math.abs(parseInt(i))?[{path:o,property:"format",message:a.translate("error_".concat(n.format.replace(/-/g,"_")),[u],n)}]:[];if(s&&s.flatpickr){if(s)return function(t,e,r,n){if(""!==e){var i;if("single"!==n.flatpickr.config.mode){var o="range"===n.flatpickr.config.mode?n.flatpickr.l10n.rangeSeparator:", ";i=n.flatpickr.selectedDates.map((function(t){return n.flatpickr.formatDate(t,n.flatpickr.config.dateFormat)})).join(o)}try{if(i){if(i!==e)throw new Error("".concat(n.flatpickr.config.mode," mismatch"))}else if(n.flatpickr.formatDate(n.flatpickr.parseDate(e,n.flatpickr.config.dateFormat),n.flatpickr.config.dateFormat)!==e)throw new Error("mismatch")}catch(e){var s=void 0!==n.flatpickr.config.errorDateFormat?n.flatpickr.config.errorDateFormat:n.flatpickr.config.dateFormat;return[{path:r,property:"format",message:a.translate("error_".concat(n.format.replace(/-/g,"_")),[s],t)}]}}return[]}(t,e,r,s)}else if(!{date:/^(\d{4}\D\d{2}\D\d{2})$/,time:/^(\d{2}:\d{2}(?::\d{2})?)$/,"datetime-local":/^(\d{4}\D\d{2}\D\d{2}[ T]\d{2}:\d{2}(?::\d{2})?)$/}[t.format].test(e))return[{path:r,property:"format",message:this.translate("error_".concat(t.format.replace(/-/g,"_")),[u],t)}];return[]}},{key:"_validateCustomValidator",value:function(t,e,r){var n=this,i=[];i.push.apply(i,Vn(Ln.call(this,t,e,r,this.translate)));var o=function(o){i.push.apply(i,Vn(o.call(n,t,e,r)))};return this.defaults.custom_validators.forEach(o),this.options.custom_validators&&this.options.custom_validators.forEach(o),i}},{key:"_removeDuplicateErrors",value:function(t){return t.reduce((function(t,e){var r=!0;return t||(t=[]),t.forEach((function(t){t.message===e.message&&t.path===e.path&&t.property===e.property&&(t.errorcount++,r=!1)})),r&&(e.errorcount=1,t.push(e)),t}),[])}},{key:"_checkType",value:function(t,e){var r={string:function(t){return"string"==typeof t},number:function(t){return"number"==typeof t},integer:function(t){return"number"==typeof t&&t===Math.floor(t)},boolean:function(t){return"boolean"==typeof t},array:function(t){return Array.isArray(t)},object:function(t){return null!==t&&!Array.isArray(t)&&"object"===Fn(t)},null:function(t){return null===t}};return"string"==typeof t?!r[t]||r[t](e):!this._validateSchema(t,e).length}}],e&&zn(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function qn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Un(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?qn(Object(r),!0).forEach((function(e){var n,i,o;n=t,i=e,o=r[e],(i=Kn(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Gn(t){return Gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gn(t)}function Jn(t){return function(t){if(Array.isArray(t))return Zn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Zn(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zn(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zn(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Yn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Kn(n.key),n)}}function Kn(t){var e=function(t,e){if("object"!=Gn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Gn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Gn(e)?e:e+""}function Qn(t,e,r){return e=ei(e),function(t,e){if(e&&("object"===Gn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Xn()?Reflect.construct(e,r||[],ei(t).constructor):e.apply(t,r))}function Xn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Xn=function(){return!!t})()}function ti(){return ti="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ei(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},ti.apply(this,arguments)}function ei(t){return ei=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ei(t)}function ri(t,e){return ri=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ri(t,e)}var ni=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Qn(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ri(t,e)}(e,t),r=e,(n=[{key:"register",value:function(){if(this.editors){for(var t=0;t<this.editors.length;t++)this.editors[t]&&this.editors[t].unregister();this.editors[this.activeIndex]&&this.editors[this.activeIndex].register()}ti(ei(e.prototype),"register",this).call(this)}},{key:"unregister",value:function(){if(ti(ei(e.prototype),"unregister",this).call(this),this.editors)for(var t=0;t<this.editors.length;t++)this.editors[t]&&this.editors[t].unregister()}},{key:"getNumColumns",value:function(){return this.editors[this.activeIndex]?Math.max(this.editors[this.activeIndex].getNumColumns(),4):4}},{key:"enable",value:function(){if(!this.always_disabled){if(this.editors)for(var t=0;t<this.editors.length;t++)this.editors[t]&&this.editors[t].enable();this.switcher.disabled=!1,ti(ei(e.prototype),"enable",this).call(this)}}},{key:"disable",value:function(t){if(t&&(this.always_disabled=!0),this.editors)for(var r=0;r<this.editors.length;r++)this.editors[r]&&this.editors[r].disable(t);this.switcher.disabled=!0,ti(ei(e.prototype),"disable",this).call(this)}},{key:"preBuild",value:function(){var t,e;this._switching=!1,this._applyingIf=!1,this.activeIndex=0,this.types=[],this.editors=[],this.validators=[],this.keep_values=!0,this.keep_only_existing_values=null!==(t=null!==(e=this.options.keep_only_existing_values)&&void 0!==e?e:this.jsoneditor.options.keep_only_existing_values)&&void 0!==t&&t,this.schema.oneOf?(this.oneOf=!0,this.types=this.schema.oneOf,delete this.schema.oneOf):this.schema.anyOf?(this.anyOf=!0,this.types=this.schema.anyOf,delete this.schema.anyOf):this.schema.if?this.types=this.handleIfSchema():this.types=this.handleTypeSchema(),this.display_text=this.getDisplayText(this.types)}},{key:"handleIfSchema_tmp",value:function(){if(this.if=!0,this.ifSchema=JSON.parse(JSON.stringify(this.schema.if)),this.thenSchema=this.schema.then?JSON.parse(JSON.stringify(this.schema.then)):{},this.elseSchema=this.schema.else?JSON.parse(JSON.stringify(this.schema.else)):{},(Array.isArray(this.schema.type)&&this.schema.type.includes("array")||Array.isArray(this.schema.oneOf)&&this.schema.oneOf.some((function(t){return"array"===t.type})))&&this.schema.if&&this.schema.items)throw new Error('Ambiguous schema at "'.concat(this.path,'": "if"/"then" coexists with "items" and multiple types. ')+'Use "oneOf" to separate array vs string cases.');var t=JSON.parse(JSON.stringify(this.schema));return delete t.if,delete t.then,delete t.else,X(this.thenSchema,t),X(this.elseSchema,t),[this.thenSchema,this.elseSchema].forEach((function(t){delete t.if,delete t.then,delete t.else})),delete this.schema.if,[this.thenSchema,this.elseSchema]}},{key:"handleIfSchema",value:function(){if(this.if=!0,this.ifSchema=JSON.parse(JSON.stringify(this.schema.if)),this.thenSchema={title:""},this.elseSchema={title:""},(Array.isArray(this.schema.type)&&this.schema.type.includes("array")||Array.isArray(this.schema.oneOf)&&this.schema.oneOf.some((function(t){return"array"===t.type})))&&this.schema.if&&this.schema.items)throw new Error('Ambiguous schema at "'.concat(this.path,'": "if"/"then" coexists with "items" and multiple types.\nUse "oneOf" to separate array vs string cases.'));this.schema.then&&X(this.thenSchema,this.schema,this.schema.then),this.schema.else&&X(this.elseSchema,this.schema,this.schema.else);var t=[this.thenSchema,this.elseSchema];return t.forEach((function(t){delete t.if,delete t.then,delete t.else})),delete this.schema.if,t}},{key:"handleTypeSchema",value:function(){var t;if(this.schema.type&&"any"!==this.schema.type)t=Array.isArray(this.schema.type)?this.schema.type:[this.schema.type];else if(t=["string","number","integer","boolean","object","array","null"],this.schema.disallow){var e=Array.isArray(this.schema.disallow)?this.schema.disallow:[this.schema.disallow];t=t.filter((function(t){return!e.includes(t)}))}return delete this.schema.type,t}},{key:"convertValueForEditor",value:function(t,e){if(null==t)switch(e){case"array":return[];case"string":return"";case"object":return{};case"number":case"integer":return null;default:return t}switch(e){case"array":if(Array.isArray(t))return t;if("string"==typeof t){if(""===t.trim())return[];try{var r=JSON.parse(t);if(Array.isArray(r))return r}catch(t){}return[t]}return p(t)?Object.values(t):[t];case"string":if(Array.isArray(t))return t.join(",");if(p(t)){var n=Object.values(t);return 0===n.length?"":n.join(",")}return"number"==typeof t||"boolean"==typeof t?String(t):t;case"object":return p(t)?t:Array.isArray(t)?Object.assign({},t):{};case"number":if("number"==typeof t)return t;if("string"==typeof t){var i=Number(t);return isNaN(i)?null:i}return Array.isArray(t)&&1===t.length?Number(t[0]):null;case"integer":if("number"==typeof t)return Math.floor(t);if("string"==typeof t){var o=Number(t);return isNaN(o)?null:Math.floor(o)}return Array.isArray(t)&&1===t.length?Math.floor(Number(t[0])):null;case"null":return null;default:return t}}},{key:"switchEditor",value:function(t){var e=this;this._switching=!0,this.previousIndex=this.activeIndex;var r=this.getValue();this.editors.forEach((function(t,n){t&&(e.activeIndex!==n||(r=t.getValue()))})),this.activeIndex=t,this.theme.switcherSelecItemIndex(this.switcher,t),this.editors[t]||this.buildChildEditor(t),this.editors[this.activeIndex]&&this.if&&(r=this.convertValueForEditor(r,this.editors[this.activeIndex].schema.type)),this.register(),this.editors.forEach((function(t,n){t&&(e.activeIndex===n?(e.jsoneditor.treeManager&&e.jsoneditor.treeManager.handleEvent("switchEditor",t),e.if&&t.setValue(r,!0),e.theme.toggle(t.container,!0)):e.theme.toggle(t.container,!1))})),this.onChange(!0,!1,{event:"switch",data:{index:this.previousIndex,path:this.editors[t].path}}),this.refreshValue(),this._switching=!1}},{key:"buildChildEditor",value:function(t){var e,r,n,i=this.types[t];if(this.options.table_row?r=this.container:(r=this.theme.getChildEditorHolder(),this.theme.append(this.editor_holder,r)),"string"==typeof i)(n=a({},this.schema)).type=i;else{n=a({},this.schema,i),n=this.jsoneditor.expandRefs(n);var o=Array.isArray(this.schema.required)?this.schema.required:[],s=Array.isArray(i.required)?i.required:[];(o.length||s.length)&&(n.required=Array.from(new Set([].concat(Jn(o),Jn(s)))))}null!==(e=n)&&void 0!==e&&null!==(e=e.options)&&void 0!==e&&e.dependencies&&delete n.options.dependencies;var u=this.jsoneditor.getEditorClass(n),c=u.classname,l=u.editorClass;this.editors[t]=this.jsoneditor.createEditor(l,$.extend(this.options,{jsoneditor:this.jsoneditor,schema:n,container:r,path:this.path,pathNoIndex:this.path,parent:this,required:!0,classname:c})),this.editors[t].preBuild(),this.editors[t].build(),this.editors[t].postBuild(),this.editors[t].header&&this.theme.visuallyHidden(this.editors[t].header),t!==this.activeIndex&&this.theme.toggle(r,!1)}},{key:"build",value:function(){var t,e=this;this.header=this.theme.getHeader(this.getTitle(),3),this.switcher=this.theme.getSwitcher(this.display_text,this.inputOptions,"type"),this.switcher.setAttribute("id",this.formname+"switcher"),this.if||(this.theme.append(this.container,this.header),this.theme.append(this.container,this.switcher)),this.theme.switcherSelectAction(this.switcher,(function(t){e.switchEditor(parseInt(t.data)),e.onChange(!0)})),(1===this.display_text.length||this.hasConstFilter())&&this.theme.toggle(this.switcher,!1),this.options.table_row||(this.editor_holder=document.createElement("div"),this.theme.append(this.container,this.editor_holder));var r={};this.jsoneditor.options.custom_validators&&(r.custom_validators=this.jsoneditor.options.custom_validators),this.types.forEach((function(t,n){var i;e.editors[n]=!1,"string"==typeof t?(i=a({},e.schema)).type=t:(i=a({},e.schema,t),t.required&&Array.isArray(t.required)&&e.schema.required&&Array.isArray(e.schema.required)&&(i.required=e.schema.required.concat(t.required))),e.validators[n]=new Wn(e.jsoneditor,i,r,e.defaults)})),this.jsoneditor.on("change",(function(){e.switchIf()}));var n=0;if(this.parent&&null!==(t=this.parent)&&void 0!==t&&t.rows&&this.parent.rows.length>0){var i=this.parent.rows;n=i[i.length-1].activeIndex}this.switchEditor(n),"null"!==this.editors[n].schema.type&&this.theme.toggle(this.header,!1)}},{key:"onChildEditorChange",value:function(t,r){this.editors[this.activeIndex]&&this.refreshValue(),ti(ei(e.prototype),"onChildEditorChange",this).call(this,t,r)}},{key:"getDisplayText",value:function(t){var e=[],r={};t.forEach((function(t){"object"===Gn(t)&&t&&["title","description","format","type"].forEach((function(e){t[e]&&(r[t[e]]=(r[t[e]]||0)+1)}))})),t.forEach((function(t){var n;n="string"==typeof t?t:"object"===Gn(t)&&t?function(t){for(var e=0,n=["title","format","type","description"];e<n.length;e++){var i=n[e];if(t[i]&&r[t[i]]<=1)return t[i]}return null}(t)||function(t){for(var e=0,r=["title","format","type","description"];e<r.length;e++){var n=r[e];if(t[n])return t[n]}return null}(t)||(JSON.stringify(t).length<500?JSON.stringify(t):"type"):"type",e.push(n)}));var n={};return e.forEach((function(t,i){n[t]=(n[t]||0)+1,r[t]>1&&(e[i]="".concat(t," ").concat(n[t]))})),e}},{key:"refreshValue",value:function(){this.editors[this.activeIndex]&&(this.value=this.editors[this.activeIndex].getValue())}},{key:"switchIf",value:function(){if(this.ifSchema&&this.value){var t=this.getIfIndex(this.value);t!==this.previousIndex&&(this.switchEditor(t),this.editors[this.activeIndex]&&this.editors[this.activeIndex].setValue(this.value,!0),this.theme.switcherSelecItemIndex(this.switcher,this.activeIndex))}}},{key:"getIfIndex",value:function(t){return 0===this.jsoneditor.validator._validateSchema(this.ifSchema,t).length?0:1}},{key:"setValue",value:function(t,e){t=this.applyConstFilter(t);var r=this.activeIndex,n={match:0,extra:0,i:r},i={match:0,i:null};this.validators.forEach((function(e,r){var o,a,s=p(t)?(a=t,Object.fromEntries(Object.entries(a).filter((function(t){var e=M(t,1)[0];return J.has(e)})))):t;o=e.fitTest(s),(n.match<o.match||n.match===o.match&&n.extra>o.extra)&&(n=Un(Un({},o),{},{i:r})),0===e.validate(t).length&&null===i.i?(i.i=r,o&&(i.match=o.match)):null!==i.i&&(n=i)}));var o=i.i;i.match<n.match&&(o=n.i),this.if&&(o=this.getIfIndex(t)),null===o?o=this.activeIndex:this.activeIndex=o,this.theme.switcherSelecItemIndex(this.switcher,o);var a=this.activeIndex!==r;a?(this.switchEditor(this.activeIndex),this.editors[this.activeIndex].setValue(t,e)):void 0!==t&&this.editors[this.activeIndex].setValue(t,e),this.refreshValue(),this.onChange(a)}},{key:"destroy",value:function(){this.editors.forEach((function(t){t&&t.destroy()})),this.editor_holder&&this.editor_holder.parentNode&&this.editor_holder.parentNode.removeChild(this.editor_holder),this.switcher&&this.switcher.parentNode&&this.switcher.parentNode.removeChild(this.switcher),ti(ei(e.prototype),"destroy",this).call(this)}},{key:"showValidationErrors",value:function(t){var e=this;if(this.oneOf||this.anyOf){var r=this.oneOf?"oneOf":"anyOf";this.editors.forEach((function(n,i){if(n){var o="".concat(e.path,".").concat(r,"[").concat(i,"]");n.showValidationErrors(t.reduce((function(t,r){if(r.path.startsWith(o)||r.path===o.substr(0,r.path.length)){var n=a({},r);r.path.startsWith(o)&&(n.path=e.path+n.path.substr(o.length)),t.push(n)}return t}),[]))}}))}else this.editors.forEach((function(e){e&&e.showValidationErrors(t)}))}},{key:"addLinks",value:function(){}}])&&Yn(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(b);function ii(t){return ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ii(t)}function oi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ai(n.key),n)}}function ai(t){var e=function(t,e){if("object"!=ii(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=ii(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ii(e)?e:e+""}function si(t,e,r){return e=li(e),function(t,e){if(e&&("object"===ii(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ui()?Reflect.construct(e,r||[],li(t).constructor):e.apply(t,r))}function ui(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ui=function(){return!!t})()}function ci(){return ci="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=li(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},ci.apply(this,arguments)}function li(t){return li=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},li(t)}function hi(t,e){return hi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hi(t,e)}var pi=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),si(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hi(t,e)}(e,t),r=e,(n=[{key:"register",value:function(){ci(li(e.prototype),"register",this).call(this),this.input&&this.jsoneditor.options.use_name_attributes&&this.input.setAttribute("name",this.formname)}},{key:"unregister",value:function(){ci(li(e.prototype),"unregister",this).call(this),this.input&&this.input.removeAttribute("name")}},{key:"preBuild",value:function(){ci(li(e.prototype),"preBuild",this).call(this)}},{key:"build",value:function(){var t=this;this.options.compact||(this.header=this.label=this.theme.getLabelLike(this.getTitle(),this.isRequired())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.options.compact&&this.container.classList.add("compact");var e=this.getInputOptions(this.schema.items);this.input=this.theme.getMultiSelect(e),this.input.on("change",(function(e){t.value=t.input.getValue(),t.onChange(!0)})),(this.schema.readOnly||this.schema.readonly)&&this.disable(!0),this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton,this),this.theme.append(this.container,this.control),window.requestAnimationFrame((function(){t.afterInputReady()}))}},{key:"afterInputReady",value:function(){this.theme.afterInputReady(this.input)}},{key:"setValue",value:function(t,e){t=(t=this.applyConstFilter(t))||[],Array.isArray(t)||(t=[t]),t=t.map((function(t){return"".concat(t)})),this.input.value=t,this.value=t,this.onChange(!0)}},{key:"enable",value:function(){this.always_disabled||(this.input.disabled=!1,ci(li(e.prototype),"enable",this).call(this))}},{key:"disable",value:function(t){t&&(this.always_disabled=!0),this.input.disabled=!0,ci(li(e.prototype),"disable",this).call(this)}},{key:"destroy",value:function(){ci(li(e.prototype),"destroy",this).call(this)}},{key:"escapeRegExp",value:function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},{key:"showValidationErrors",value:function(t){var e=new RegExp("^".concat(this.escapeRegExp(this.path),"(\\.\\d+)?$")),r=t.reduce((function(t,r){return r.path.match(e)&&t.push(r.message),t}),[]);r.length?this.theme.addInputError(this.input||this.inputs,"".concat(r.join(". "),".")):this.theme.removeInputError(this.input||this.inputs)}}])&&oi(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(b);function fi(t){var e;t=t||{},fi.super.call(this,t),this.$element.append(null!==(e=t.el.$element)&&void 0!==e?e:t.el)}function di(t){switch(t=t||{},di.super.call(this,t),this.id=t.id,this.editor=t.editor,OO.ui.mixin.GroupWidget.call(this,$.extend({$group:this.$element},t)),this.currentDepth=this.editor.currentDepth-1,this.layoutName=t.layout.name||"default",this.layoutName){case"tabs":this.layout=this.editor.theme.getIndexLayout(t.layout.config),this.$element.append(this.layout.$element);break;case"booklet":this.layout=this.editor.theme.getBooklet(t.layout.config),this.$element.append(this.layout.$element);break;case"horizontal":this.layout=new OO.ui.HorizontalLayout(t.layout.config),this.$element.append(this.layout.$element);break;default:this.layout=new OO.ui.FieldsetLayout({label:t.title}),t.description&&this.layout.addItems([new OO.ui.Element({content:[new OO.ui.HtmlSnippet(t.description)]})]),this.$element.append(this.layout.$element)}}function yi(t){return yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yi(t)}function mi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vi(n.key),n)}}function vi(t){var e=function(t,e){if("object"!=yi(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=yi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==yi(e)?e:e+""}r(6031),OO.inheritClass(fi,OO.ui.Widget),OO.inheritClass(di,OO.ui.Widget),OO.mixinClass(di,OO.ui.mixin.GroupWidget),di.prototype.groupTabs=function(t){var e={},r={};for(var n in t){var i=t[n];i.isPrimitive()?e[n]=i:r[n]=i}return{main:e,others:r}},di.prototype.replaceItems=function(t){var e=this;switch(this.layoutName){case"horizontal":this.layout.addItems(Object.values(t).map((function(t){return new fi({el:t.container})})));break;case"booklet":case"tabs":var r="tabs"===this.layoutName?"clearTabPanels":"clearPages";this.layout[r]();var n=this.groupTabs(t),i=n.main,o=n.others,a=null;if(Object.keys(i).length){var s=this.editor.theme.createTabLayoutPage(this.layout,"main","main");for(var u in i)this.editor.theme.append(s,i[u].container);a="main"}for(var c in o){var l=this.editor.theme.createTabLayoutPage(this.layout,c,c);this.editor.theme.append(l,o[c].container),a||(a=c)}if("booklet"===this.layoutName&&this.layout.toggleOutline(Object.keys(o).length>0),Object.keys(o).length>0){var h="tabs"===this.layoutName?"setTabPanel":"setPage";this.layout[h](a)}break;case"popup":this.layout.clearItems();var p=[],f=function(){var r=t[d];if(r.isPrimitive()){var n=new OO.ui.ButtonWidget({label:"edit",icon:"edit",flags:[]});n.on("click",(function(){var t={initialize:function(t){var e=new(nt(OO.ui.PanelLayout))({scrollable:!1,framed:!1,padded:!0});e.$element.append(r.container),t.$body.append(e.$element)},setupProcess:function(t){return t.actions.setMode("save")},onOpen:function(t){},actionProcess:function(t,e,r){t.close({action:r})}};new rt({size:"large",title:r.getTitle()},t,e)}));var i=new OO.ui.FieldLayout(n,{label:r.getTitle(),helpInline:!0,help:r.description,align:"top"});p.push(i.$element)}else p.push(r.container);e.layout.addItems(p.map((function(t){return new fi({el:t})})))};for(var d in t)f();break;default:this.layout.clearItems();var y=Object.values(t);y.sort((function(t,e){var r=t.isPrimitive();return r===e.isPrimitive()?0:r?-1:1})),this.layout.addItems(y.map((function(t){return new fi({el:t.container})})))}};var bi=function(){return t=function t(e,r,n,i,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.editor=e,this.key=r,this.EditorClass=n,this.editorOptions=i,this.theme=e.theme,this.realEditor=null,this.container=null,this.built=!1,this.schema=i.schema,this.options={}},(e=[{key:"showValidationErrors",value:function(){}},{key:"isPrimitive",value:function(){}},{key:"isActive",value:function(){}},{key:"setValue",value:function(){}},{key:"getDefault",value:function(){}},{key:"register",value:function(){}},{key:"preBuild",value:function(){}},{key:"unregister",value:function(){}},{key:"getEditor",value:function(){return this}},{key:"setContainer",value:function(t){this.container=t}},{key:"build",value:function(){this.renderButton(),this.built=!0}},{key:"postBuild",value:function(){}},{key:"activate",value:function(){}},{key:"destroy",value:function(){this.realEditor&&this.realEditor.destroy(),this.button&&this.button.$element.remove()}},{key:"buildRealEditor",value:function(){var t;if(!this.realEditor){null===(t=this.button)||void 0===t||t.$element.remove();var e=this.editor.jsoneditor.createEditor(this.EditorClass,this.editorOptions,this.editor.currentDepth+1);this.realEditor=e,this.editor.editors[this.key]=e,this.editor.cached_editors[this.key]=e,this.theme.getChildEditorHolder(),e.setContainer(this.container),e.preBuild(),e.build(),e.postBuild(),e.activate()}}},{key:"renderButton",value:function(){var t=this;this.button=this.theme.getButton({label:'Load "'.concat(this.key,'"')}),this.button.on("click",(function(){t.buildRealEditor()})),this.theme.append(this.container,this.button)}}])&&mi(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function gi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function wi(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?gi(Object(r),!0).forEach((function(e){Oi(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gi(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Oi(t,e,r){return(e=Ei(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _i(t){return _i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_i(t)}function ji(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=xi(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function ki(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||xi(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xi(t,e){if(t){if("string"==typeof t)return Si(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Si(t,e):void 0}}function Si(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ei(n.key),n)}}function Ei(t){var e=function(t,e){if("object"!=_i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=_i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==_i(e)?e:e+""}function Ci(t,e,r){return e=Ii(e),function(t,e){if(e&&("object"===_i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ti()?Reflect.construct(e,r||[],Ii(t).constructor):e.apply(t,r))}function Ti(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ti=function(){return!!t})()}function Ai(){return Ai="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ii(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Ai.apply(this,arguments)}function Ii(t){return Ii=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ii(t)}function Ri(t,e){return Ri=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ri(t,e)}var Li=function(t){function e(t,r,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=Ci(this,e,[t,r])).currentDepth=n,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ri(t,e)}(e,t),r=e,n=[{key:"getChildEditors",value:function(){return this.editors}},{key:"register",value:function(){Ai(Ii(e.prototype),"register",this).call(this),this.editors&&Object.values(this.editors).forEach((function(t){return t.register()}))}},{key:"unregister",value:function(){Ai(Ii(e.prototype),"unregister",this).call(this),this.editors&&Object.values(this.editors).forEach((function(t){return t.unregister()}))}},{key:"getNumColumns",value:function(){return Math.max(Math.min(12,this.maxwidth),3)}},{key:"enable",value:function(){if(!this.always_disabled&&(Ai(Ii(e.prototype),"enable",this).call(this),this.editors))for(var t=0,r=Object.values(this.editors);t<r.length;t++){var n=r[t];n.isActive()&&n.enable()}}},{key:"disable",value:function(t){if(t&&(this.always_disabled=!0),Ai(Ii(e.prototype),"disable",this).call(this),this.editors)for(var r=0,n=Object.values(this.editors);r<n.length;r++){var i=n[r];i.isActive()&&i.disable(t)}}},{key:"createEditor",value:function(t,e,r,n,i){return t?new bi(this,e,r,n,i):this.jsoneditor.createEditor(r,n,i)}},{key:"preBuild",value:function(){var t=this;if(Ai(Ii(e.prototype),"preBuild",this).call(this),this.editors={},this.cached_editors={},this.schema.properties=this.schema.properties||{},this.originalProperties=Object.keys(this.schema.properties),this.lazyProperties=[],this.minwidth=0,this.maxwidth=0,this.options.table_row){for(var r=0,n=Object.entries(this.schema.properties);r<n.length;r++){var i=ki(n[r],2),o=i[0],a=i[1],s=this.jsoneditor.getEditorClass(a),u=s.classname,c=s.editorClass;this.editors[o]=this.createEditor(!1,o,c,{jsoneditor:this.jsoneditor,schema:a,path:"".concat(this.path,".").concat(o),pathNoIndex:"".concat(this.path,".").concat(o),parent:this,compact:!0,required:!0,ignore:!0,classname:u},this.currentDepth+1),this.editors[o].preBuild();var l=this.editors[o].options.hidden?0:this.editors[o].options.grid_columns||this.editors[o].getNumColumns();this.minwidth+=l,this.maxwidth+=l}this.no_link_holder=!0}else{if(this.options.table)throw new Error("Not supported yet");var h=Object.keys(this.schema.properties).filter((function(e){return t.isRequiredProperty(e)}));if(this.schema.defaultProperties){var p,f=ji(h);try{for(f.s();!(p=f.n()).done;){var d=p.value;this.schema.defaultProperties.includes(d)||this.schema.defaultProperties.push(d)}}catch(t){f.e(t)}finally{f.f()}}else h.length?this.schema.defaultProperties=h:this.schema.defaultProperties=Object.keys(this.schema.properties);for(var y in this.lazyProperties=Object.keys(this.schema.properties).filter((function(e){return!t.schema.defaultProperties.includes(e)})),this.schema.properties)this.propertyHasStartValue(y)&&(this.lazyProperties.includes(y)&&Z(this.lazyProperties,y),this.schema.defaultProperties.includes(y)||this.schema.defaultProperties.push(y));var m,v=ji(this.schema.defaultProperties);try{for(v.s();!(m=v.n()).done;){var b=m.value;this.addObjectProperty(b,{prebuildOnly:!0})}}catch(t){v.e(t)}finally{v.f()}this.schema.defaultProperties=Array.from(new Set(this.schema.defaultProperties))}}},{key:"propertyHasStartValue",value:function(t){return this.options&&p(this.options.startval)&&c(this.options.startval,t)}},{key:"editorHasBorder",value:function(){for(var t,e,r=this.parent;r&&Y(r,"activeIndex");)r=r.parent;return!(["booklet","tabs"].includes(null===(t=r)||void 0===t||null===(t=t.layout)||void 0===t?void 0:t.name)||"array"!==(null===(e=this.parent)||void 0===e?void 0:e.schema.type)&&this.jsoneditor.treeWidget)}},{key:"build",value:function(){var t=this;if(this.options.table_row)this.buildTableRow(),this.editor_holder=this.container;else{if(this.options.table)throw new Error("Not supported yet");if(this.container.classList.add("je-object__container","jsonforms-panel"+(this.editorHasBorder()?"-border":"")),this.options.removable){var e=this.theme.getButton({label:null,icon:"close",flags:[],classes:[]});e.on("click",(function(){var e=t.jsoneditor.editors[t.path];e.parent.restoreLazyProperty(e.key)}));var r=this.theme.getContainer();r.classList.add("jsonforms-remove-object"),this.theme.append(r,e),this.theme.append(this.container,r)}this.getTitle()&&(this.title=this.theme.getHeader(this.getTitle(),2),this.theme.append(this.container,this.title)),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description),this.theme.append(this.container,this.description)),this.error_holder=document.createElement("div"),this.theme.append(this.container,this.error_holder),this.editor_holder=new di({editor:this,layout:this.layout,id:this.getValidId(this.translateProperty(this.schema.title)),description:""}),this.theme.append(this.container,this.editor_holder),this.buildEditorsLoop()}if((this.schema.readOnly||this.schema.readonly)&&this.disable(),this.additionalproperties_holder=document.createElement("div"),this.theme.append(this.container,this.additionalproperties_holder),this.canAddProperties()){var n=new ct(this),i=n.buildMetaSchema(),o=i.metaSchema,a=i.targetSchema,s=i.subschemaTitle,u=this.theme.getButton({label:s?"new ".concat(s):"new property",icon:"add",flags:[],classes:["jsonforms-addproperty-button"]});u.on("click",(function(){var e;n.addProperty({editor:null!==(e=t.options.originalEditor)&&void 0!==e?e:t,schema:o,startval:{},onAddPropertySave:function(e){var r,i=e.name;return Y(t.schema.properties,i)?"property exists":(!a&&e.type&&((r=n.schemaFromPseudoType(e.type,e.multiple)).title=i),a&&(a.title=i),t.schema.properties[i]=a||r,t.addObjectProperty(i,{removable:!0}),t.refreshValue(),t.layoutEditors(),t.onChange(!0),!0)}})})),this.theme.append(this.container,u.$element)}}},{key:"buildAdditionalProperties",value:function(){var t=this,e=this.value||{},r=Object.keys(e).sort().join("|");if(this._lastAdditionalKeys!==r){this._lastAdditionalKeys=r,$(this.additionalproperties_holder).empty(),this.lazyProperties=this.lazyProperties.filter((function(e){return!(e in t.editors)})),this.lazyProperties.length;var n,i=this.lazyProperties,o={},a=ji(i);try{for(a.s();!(n=a.n()).done;){var s=n.value,u=this.getPropertySchema(s,null);o[s]=Q(this.jsoneditor.expandSchema,u)}}catch(t){a.e(t)}finally{a.f()}i.sort((function(e,r){var n=o[e].every(t.isPrimitive.bind(t));return n===o[r].every(t.isPrimitive.bind(t))?0:n?1:-1}));var c,l=ji(i);try{var h=function(){var e=c.value,r=t.theme.getButton({label:o[e][0].title||e,icon:"add",flags:[],classes:["jsonforms-addproperty-button"]});r.on("click",(function(){Z(t.lazyProperties,e),t.addObjectProperty(e,{removable:!0,userDefined:!0}),r.$element.remove();var n=t.cached_editors[e];t.jsoneditor.treeManager&&t.jsoneditor.treeManager.handleEvent("objectAdded",n),t.refreshValue(),t.layoutEditors(),t.onChange(!0)})),t.theme.append(t.additionalproperties_holder,r.$element)};for(l.s();!(c=l.n()).done;)h()}catch(t){l.e(t)}finally{l.f()}}}},{key:"buildTableRow",value:function(){this.editor_holder=this.container;for(var t=0,e=Object.entries(this.editors);t<e.length;t++){var r=ki(e[t],2),n=r[0],i=r[1],o=this.theme.getTableCell();this.theme.append(this.editor_holder,o),i.setContainer(o),i.build(),i.postBuild(),this.editors[n].options.hidden&&this.theme.toggle(o,!1),this.editors[n].options.input_width&&(o.style.width=this.editors[n].options.input_width)}}},{key:"buildEditorsLoop",value:function(){for(var t=0,e=Object.entries(this.editors);t<e.length;t++){var r=ki(e[t],2),n=(r[0],r[1]),i=this.theme.getChildEditorHolder();n.setContainer(i),n.build()}var o=this;setTimeout((function(){Object.values(o.editors).forEach((function(t){t.postBuild()}))}),100)}},{key:"layoutEditors",value:function(){this.options.table_row||this.options.table||(this.layout.name,this.layoutNormal()),this.buildAdditionalProperties()}},{key:"buildStrictGridRows",value:function(){for(var t=[],e=0,r=[],n=0,i=Object.entries(this.editors);n<i.length;n++){var o=ki(i[n],2),a=o[0],s=o[1];if(this.isActiveProperty(a)){var u=s.options.hidden?0:s.options.grid_columns||s.getNumColumns(),c=s.options.hidden?0:s.options.grid_offset||0,l=!s.options.hidden&&(s.options.grid_break||!1),h=s.options.hidden?0:s.container.offsetHeight;r.push({key:a,width:u,offset:c,height:h}),t[e]=r,l&&(e++,r=[])}}return t}},{key:"buildFlexibleGridRows",value:function(){for(var t=[],e=0,r=Object.entries(this.editors);e<r.length;e++){var n=ki(r[e],2),i=n[0],o=n[1];if(this.isActiveProperty(i)){for(var a=o.options.hidden?0:o.options.grid_columns||o.getNumColumns(),s=o.options.hidden?0:o.container.offsetHeight,u=!1,c=0;c<t.length;c++){var l=t[c],h=l.width+a<=12,p=!s||.5*l.minh<s&&2*l.maxh>s;h&&p&&(u=c)}!1===u&&(t.push({width:0,minh:999999,maxh:0,editors:[]}),u=t.length-1);var f=t[u];f.editors.push({key:i,width:a,height:s}),f.width+=a,f.minh=Math.min(f.minh,s),f.maxh=Math.max(f.maxh,s)}}return this.normalizeGridRows(t)}},{key:"normalizeGridRows",value:function(t){return t.forEach((function(t){if(t.width<12){var e=!1,r=0;t.editors.forEach((function(n,i){(!1===e||n.width>t.editors[e].width)&&(e=i),n.width=Math.floor(n.width*(12/t.width)),r+=n.width})),r<12&&(t.editors[e].width+=12-r),t.width=12}})),t}},{key:"renderGridRows",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";if(this.layout===JSON.stringify(t))return!1;this.layout=JSON.stringify(t);var n=document.createElement("div");return t.forEach((function(t){var i=e.theme.getGridRow();e.theme.append(n,i),("strict"===r?t:t.editors).forEach((function(t){var r=e.editors[t.key];if(r.options.hidden)e.theme.toggle(r.container,!1);else{var n=t.width,o=t.offset||0;e.theme.setGridColumnSize(r.container,n,o)}e.theme.append(i,r.container)}))})),n}},{key:"layoutNormal",value:function(){for(var t={},e=0,r=Object.entries(this.editors);e<r.length;e++){var n=ki(r[e],2),i=n[0],o=n[1];this.isActiveProperty(i)&&(o.options.hidden&&this.theme.toggle(o.container,!1),this.jsoneditor.treeManager&&this.jsoneditor.treeManager.editorHasPage(o.path)||(t[i]=o))}this.editor_holder.replaceItems(t)}},{key:"isActiveProperty",value:function(t){return t in this.editors}},{key:"isRequiredProperty",value:function(t){var e;if(t in this.cached_editors)e=this.cached_editors[t].schema;else{if(!(t in this.schema.properties))return!1;e=this.schema.properties[t]}return this.isRequiredObject({key:t,schema:e})}},{key:"hasNonRequiredProperties",value:function(){for(var t in this.schema.properties)if(!this.isRequiredProperty(t))return!0;return!1}},{key:"hasRequiredProperties",value:function(){for(var t in this.schema.properties)if(this.isRequiredProperty(t))return!0;return!1}},{key:"getPropertySchema",value:function(t,e){var r=this.schema||{},n=r.properties||{},i=r.patternProperties,o=r.additionalProperties,s=n[t]?a({},n[t]):{};!s.type&&e&&(Array.isArray(e)?s.type=1===e.length?e[0]:e:s.type=e);var u=!!n[t];if(i)for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&new RegExp(c).test(t)&&(s.allOf||(s.allOf=[]),s.allOf.push(i[c]),u=!0);return!u&&o&&"object"===_i(o)&&(s=a({},o)),s}},{key:"restoreLazyProperty",value:function(t){Y(this.editors,t)&&(this.removeObjectProperty(t),delete this.cached_editors[t],this.originalProperties.includes(t)?this.lazyProperties.push(t):delete this.schema.properties[t],this._lastAdditionalKeys=null,this.refreshValue(),this.layoutEditors(),this.onChange(!0))}},{key:"removeObjectProperty",value:function(t){var e;this.editors[t]&&(null!==(e=this.editors[t].schema)&&void 0!==e&&null!==(e=e.options)&&void 0!==e&&e.dependencies||(this.editors[t].unregister(),delete this.editors[t],this.refreshValue()))}},{key:"getSchemaOnMaxDepth",value:function(t){return Object.keys(t).reduce((function(e,r){switch(r){case"$ref":return e;case"properties":case"items":return wi(wi({},e),{},Oi({},r,{}));case"additionalProperties":case"propertyNames":return wi(wi({},e),{},Oi({},r,!0));default:return wi(wi({},e),{},Oi({},r,t[r]))}}),{})}},{key:"addObjectProperty",value:function(t,e){if(e=e||{},this.editors[t])this.cached_editors[t]=this.editors[t];else{var r=!0===e.prebuildOnly,n=!0===e.removable;if(this.cached_editors[t])return this.editors[t]=this.cached_editors[t],void(r||this.editors[t].register());if(!this.canAddProperty(t))return console.log("warning, cannot add property ".concat(t," in ").concat(this.path)),void console.log("this.schema",this.schema);var i=this.getPropertySchema(t,null),o="".concat(this.path,".").concat(t),a=this.options.startval&&c(this.options.startval,t)?this.options.startval[t]:void 0;this.isMetaSchema&&p(a)&&(this.path,y=this.schema,(m=y)&&"object"===z(m)&&(!m.type||"object"===m.type)&&(!0===m.additionalProperties||"object"===z(m.additionalProperties)||m.patternProperties&&Object.keys(m.patternProperties).length>0))&&(a.name=t);var s=this.jsoneditor.getEditorClass(i),u=s.classname,l=s.editorClass,h={jsoneditor:this.jsoneditor,schema:this.adjustSchemaForDepth(i),path:o,pathNoIndex:o,parent:this,startval:a,removable:n,classname:u},f=this.createEditor(e.lazyEditor,t,l,h,this.currentDepth+1);if(f.preBuild(),!r){var d=this.theme.getChildEditorHolder();f.setContainer(d),f.build(),f.postBuild(),f.activate()}this.editors[t]=f,this.cached_editors[t]=f}var y,m}},{key:"canAddProperty",value:function(t){return!!this.canHaveAdditionalProperties()||!!Y(this.schema.properties,t)||!!this.schema.patternProperties&&Object.keys(this.schema.patternProperties).some((function(e){return new RegExp(e).test(t)}))}},{key:"adjustSchemaForDepth",value:function(t){var e=this.jsoneditor.options.max_depth;return e&&this.currentDepth>=e?this.getSchemaOnMaxDepth(t):t}},{key:"onChildEditorChange",value:function(t,r){this.refreshValue(),Ai(Ii(e.prototype),"onChildEditorChange",this).call(this,t,r)}},{key:"canHaveAdditionalProperties",value:function(){return"object"===_i(this.schema.patternProperties)&&null!==this.schema.patternProperties||("boolean"==typeof this.schema.additionalProperties?this.schema.additionalProperties:"object"===_i(this.schema.additionalProperties)&&null!==this.schema.additionalProperties||!("properties"in this.schema)||0===Object.keys(this.schema.properties).length)}},{key:"getValue",value:function(){if(this.dependenciesFulfilled){var t=Ai(Ii(e.prototype),"getValue",this).call(this);return t?((this.jsoneditor.options.remove_empty_properties||this.options.remove_empty_properties)&&Object.keys(t).forEach((function(e){var r;(void 0===(r=t[e])||""===r||r===Object(r)&&0===Object.keys(r).length&&r.constructor===Object)&&delete t[e]})),(this.jsoneditor.options.remove_false_properties||this.options.remove_false_properties)&&Object.keys(t).forEach((function(e){!1===t[e]&&delete t[e]})),t):t}}},{key:"refreshValue",value:function(){if(this.value={},this.editors){for(var t=0,e=Object.keys(this.editors);t<e.length;t++){var r=e[t];this.editors[r].isActive()&&(this.editors[r].refreshValue(),this.value[r]=this.editors[r].getValue())}for(var n=0,i=Object.keys(this.editors);n<i.length;n++){var o=i[n];this.editors[o].isActive()&&this.activateDependentRequired(this.editors[o].key)}}}},{key:"activateDependentRequired",value:function(t){var e,r=this,n=ji(this.getDependentRequired(t));try{var i=function(){var t=e.value,n=Object.values(r.cached_editors).find((function(e){return e.key===t}));n&&!n.isActive()&&n.activate()};for(n.s();!(e=n.n()).done;)i()}catch(t){n.e(t)}finally{n.f()}}},{key:"getDependentRequired",value:function(t){return this.schema.dependentRequired&&c(this.schema.dependentRequired,t)?this.schema.dependentRequired[t]:[]}},{key:"canAddProperties",value:function(){return!!this.canHaveAdditionalProperties()&&(void 0===this.schema.maxProperties||Object.keys(this.editors).length<this.schema.maxProperties)}},{key:"isRequiredObject",value:function(t){return!!t&&("boolean"==typeof t.schema.required?t.schema.required:Array.isArray(this.schema.required)?this.schema.required.includes(t.key):!!this.jsoneditor.options.required_by_default)}},{key:"setValue",value:function(t,e){("object"!==_i(t=this.applyConstFilter(t)||{})||Array.isArray(t))&&(t={});for(var r=0,n=Object.entries(this.editors);r<n.length;r++){var i=ki(n[r],2),o=i[0],a=i[1],s=this.isRequiredObject(a);void 0!==t[o]?(this.addObjectProperty(o),a.setValue(t[o],e),a.activate(),this.disabled&&a.disable()):e||s?a.setValue(a.getDefault(),e):this.removeObjectProperty(o)}for(var u in t)if(!this.editors[u]&&(this.addObjectProperty(u),this.editors[u])){var c=!!this.editors[u].template;this.editors[u].setValue(t[u],e,c)}this.refreshValue(),this.layoutEditors(),this.onChange()}},{key:"showValidationErrors",value:function(t){var e,r=this,n=[],i=[],o=ji(t);try{for(o.s();!(e=o.n()).done;){var a=e.value;a.path===this.path?n.push(a):i.push(a)}}catch(t){o.e(t)}finally{o.f()}this.error_holder&&(n.length?(this.error_holder.innerHTML="",this.error_holder.style.display="",n.forEach((function(t){var e=t.errorcount&&t.errorcount>1?"".concat(t.message," (").concat(t.errorcount," errors)"):t.message;r.error_holder.appendChild(r.theme.getErrorMessage(e))}))):this.error_holder.style.display="none"),this.options.table_row&&(n.length?this.theme.addTableRowError:this.theme.removeTableRowError).call(this.theme,this.container);for(var s=0,u=Object.values(this.editors);s<u.length;s++)u[s].showValidationErrors(i)}},{key:"destroy",value:function(){Object.values(this.cached_editors).forEach((function(t){return t.destroy()})),this.editor_holder&&(this.editor_holder.innerHTML=""),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.error_holder&&this.error_holder.parentNode&&this.error_holder.parentNode.removeChild(this.error_holder),this.editors=null,this.cached_editors=null,this.editor_holder&&this.editor_holder.parentNode&&this.editor_holder.parentNode.removeChild(this.editor_holder),this.editor_holder=null,Ai(Ii(e.prototype),"destroy",this).call(this)}}],n&&Pi(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(b);function Ni(t){return Ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ni(t)}function Bi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Di(n.key),n)}}function Di(t){var e=function(t,e){if("object"!=Ni(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Ni(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ni(e)?e:e+""}function Fi(t,e,r){return e=$i(e),function(t,e){if(e&&("object"===Ni(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Vi()?Reflect.construct(e,r||[],$i(t).constructor):e.apply(t,r))}function Vi(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Vi=function(){return!!t})()}function Mi(){return Mi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=$i(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Mi.apply(this,arguments)}function $i(t){return $i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$i(t)}function zi(t,e){return zi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},zi(t,e)}Li.rules={".je-object__title":"display:inline-block",".je-object__controls":"margin:0%200%200%2010px",".je-object__container":"position:relative",".je-object__property-checkbox":"margin:0;height:auto",".property-selector":"width:295px;max-height:160px;padding:5px%200;overflow-y:auto;overflow-x:hidden;padding-left:5px",".property-selector-input":"width:220px;margin-bottom:0;display:inline-block",".json-editor-btntype-toggle":"margin:0%2010px%200%200",".je-edit-json--textarea":"height:170px;width:300px;display:block",".workflows-trigger-entity":"position:relative;word-wrap:break-word;background-color:%23e9e9ee;margin:1.16%25;width:31%25;border-radius:5px;padding:16px",".workflows-trigger-entity.trigger-edit:hover":"background-color:%23dbdbe3",".workflows-trigger-entity.trigger-inactive .trigger-name":"color:grey",".workflows-trigger-entity .trigger-actions":"position:absolute;top:0;padding:14px;right:0",".workflows-trigger-entity .trigger-name":"font-weight:bold;line-height:1.5;padding:5px%205px%200%205px;font-size:1.2rem;display:block",".workflows-trigger-entity.trigger-edit .trigger-name":"max-width:72%25",".workflows-trigger-entity .trigger-type-label":"padding-left:5px",".workflows-trigger-entity .trigger-type-desc":"padding-left:5px;color:%23474747;font-size:0.8rem"};var Hi=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Fi(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zi(t,e)}(e,t),r=e,(n=[{key:"addObjectProperty",value:function(t,e,r){if(!this.editors[t]){if(this.cached_editors[t])return this.editors[t]=this.cached_editors[t],void(r||this.editors[t].register());if(this.canAddProperty(t)){var n=this.getPropertySchema(t,e),i=this.jsoneditor.getEditorClass(n),o=i.classname,a=i.editorClass,s={jsoneditor:this.jsoneditor,schema:this.adjustSchemaForDepth(n),path:"".concat(this.path,".").concat(t),pathNoIndex:"".concat(this.path,".").concat(t),parent:this,classname:o};if(this.editors[t]=this.jsoneditor.createEditor(a,s,this.currentDepth+1),this.editors[t].preBuild(),!r){var u=this.theme.getChildEditorHolder(),c=this.editors[t];c.setContainer(u),c.build(),c.postBuild(),c.activate()}this.cached_editors[t]=this.editors[t]}}}},{key:"getEditor",value:function(t){var e=this.schema;e.format="normal";var r=this.getValue(),n=this.jsoneditor.getEditorClass(this.schema),i=n.classname,o=n.editorClass;this.editor=this.jsoneditor.createEditor(o,{jsoneditor:this.jsoneditor,schema:e,path:this.path,pathNoIndex:this.path,parent:this.parent,container:t,classname:i},this.currentDepth),this.editor.preBuild(),this.editor.build(),this.editor.postBuild(),this.editor.setValue(r,!0)}},{key:"build",value:function(){Mi($i(e.prototype),"build",this).call(this)}},{key:"enable",value:function(){}},{key:"disable",value:function(t){}},{key:"destroy",value:function(){Mi($i(e.prototype),"destroy",this).call(this)}},{key:"getNumColumns",value:function(){return 2}}])&&Bi(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(Li);function Wi(t){return Wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wi(t)}function qi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ui(n.key),n)}}function Ui(t){var e=function(t,e){if("object"!=Wi(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Wi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Wi(e)?e:e+""}function Gi(t,e,r){return e=Yi(e),function(t,e){if(e&&("object"===Wi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ji()?Reflect.construct(e,r||[],Yi(t).constructor):e.apply(t,r))}function Ji(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ji=function(){return!!t})()}function Zi(){return Zi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Yi(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Zi.apply(this,arguments)}function Yi(t){return Yi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yi(t)}function Ki(t,e){return Ki=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ki(t,e)}var Qi=function(t){function e(t,r,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=Gi(this,e,[t,r])).currentDepth=n,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ki(t,e)}(e,t),r=e,(n=[{key:"build",value:function(){this.table=this.theme.getTable(),this.theme.append(this.container,this.table),new at({el:this.table,rows:[{a:1,b:2},{a:1,b:2}],callbacks:{edit:function(){},delete:function(){}}}),this.refreshValue()}},{key:"enable",value:function(){}},{key:"disable",value:function(t){}},{key:"destroy",value:function(){Zi(Yi(e.prototype),"destroy",this).call(this)}},{key:"getNumColumns",value:function(){return 2}},{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(){}}])&&qi(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(b);function Xi(t){return Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xi(t)}function to(t){return function(t){if(Array.isArray(t))return ro(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||eo(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eo(t,e){if(t){if("string"==typeof t)return ro(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ro(t,e):void 0}}function ro(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function no(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,io(n.key),n)}}function io(t){var e=function(t,e){if("object"!=Xi(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Xi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Xi(e)?e:e+""}function oo(t,e,r){return e=uo(e),function(t,e){if(e&&("object"===Xi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ao()?Reflect.construct(e,r||[],uo(t).constructor):e.apply(t,r))}function ao(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ao=function(){return!!t})()}function so(){return so="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=uo(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},so.apply(this,arguments)}function uo(t){return uo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},uo(t)}function co(t,e){return co=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},co(t,e)}r(6033);var lo=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),oo(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&co(t,e)}(e,t),r=e,n=[{key:"isLeaf",value:function(t){return!t.properties||0===Object.keys(t.properties).length}},{key:"extractNode",value:function(t,e){var r=this;if(!t||!t.properties)return[];var n=new Map;return Object.entries(t.properties).forEach((function(t){var i,o,a=(o=2,function(t){if(Array.isArray(t))return t}(i=t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(i,o)||eo(i,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=a[0],u=a[1],c=!u.properties,l=[];c||(l=r.extractNode(u,e)),u.layout===e||c&&"column"===e?n.has(s)||n.set(s,{id:s,label:s,children:l,schema:u}):l.length&&l.forEach((function(t){n.has(t.id)||n.set(t.id,t)}))})),Array.from(n.values())}},{key:"countLeafs",value:function(t){var e=this;return t&&0!==t.length?t.reduce((function(t,r){return r.children&&r.children.length?t+e.countLeafs(r.children):t+1}),0):0}},{key:"getColumnDepth",value:function(t){var e=this;return t&&0!==t.length?1+Math.max.apply(Math,to(t.map((function(t){return e.getColumnDepth(t.children||[])})))):0}},{key:"getColumnLeafPaths",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=[];return t&&t.length?(t.forEach((function(t){var o,a=[].concat(to(r),[t.id]),s=t.schema;!s&&null!=n&&null!==(o=n.properties)&&void 0!==o&&o[t.id]&&(s=n.properties[t.id]);var u=Array.isArray(null==n?void 0:n.required)&&n.required.includes(t.id);t.children&&t.children.length?i.push.apply(i,to(e.getColumnLeafPaths(t.children,a,s||n))):i.push({path:a,schema:s||{},isRequired:u})})),i):i}},{key:"buildColumnHeaderRows",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t&&0!==t.length&&(n[r]||(n[r]=this.table.insertRow()),t.forEach((function(t){var i=e.theme.getTableHeader();i.textContent=t.label,i.classList.add("jsonforms-survey-header-cell");var o=e.countLeafs(t.children||[]);i.colSpan=o||1;var a=t.children&&0!==t.children.length?1:e.getColumnDepth(e.columnsTree)-r;i.rowSpan=a,e.theme.append(n[r],i),t.children&&t.children.length&&e.buildColumnHeaderRows(t.children,r+1,n,!1)})),i&&n[0].cells.length)){var o=this.theme.getTableHeader();o.classList.add("jsonforms-survey-header-cell-span"),o.rowSpan=this.getColumnDepth(this.columnsTree),o.colSpan=this.getColumnDepth(this.rowsTree),this.theme.prepend(n[0],o)}}},{key:"getSchemaInputOptions",value:function(t){return t.options&&t.options.input?a({name:null,config:{}},t.options.input):{name:null,config:{}}}},{key:"renderInputs",value:function(t,e){var r=this;this.columnLeafPaths.forEach((function(n){var i=n.path,o=n.schema,a=n.isRequired,s=r.theme.insertTableCell(t);s.classList.add("jsonforms-survey-leaf-cell");var u={isRequired:function(){return a},inputOptions:r.getSchemaInputOptions(o)},c=o.type||"text";["button","checkbox","color","date","datetime","date-time","datetime-local","email","file","hidden","image","month","number","password","radio","reset","search","submit","tel","text","time","url","uri","week"].includes(o.format)&&(c=o.format);var l=r.theme.getFormInputField(c,u);l.setAttribute("data-rowPath",e.join(".")),l.setAttribute("data-colPath",i.join(".")),r.inputs.push(l),l.on("change",(function(t){r.setValue(),r.onChange(!0)})),r.theme.append(s,l)}))}},{key:"renderRows",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.rowsTree.forEach((function(r){var n=t.countLeafs([r]);if(r.children&&r.children.length){var i=[],o=function t(e,r){e.children&&0!==e.children.length?e.children.forEach((function(n){return t(n,[].concat(to(r),[e.id]))})):i.push({node:e,path:r})};r.children.forEach((function(t){return o(t,[r.id])})),i.forEach((function(i,o){var a=i.node,s=i.path,u=t.table.insertRow();if(0===o){var c=t.theme.insertTableCell(u);c.classList.add("jsonforms-survey-row-header"),c.textContent=r.label,c.rowSpan=n}var l=t.theme.insertTableCell(u);l.classList.add("jsonforms-survey-row-header"),l.textContent=a.label,t.renderInputs(u,[].concat(to(e),to(s),[a.id]))}))}else{var a=t.theme.insertTableRow(t.table),s=t.theme.insertTableCell(a);s.classList.add("jsonforms-survey-leaf-cell"),s.textContent=r.label,s.rowSpan=n,t.renderInputs(a,[].concat(to(e),[r.id]))}}))}},{key:"renderTable",value:function(t){this.table=this.theme.getTable(),this.table.classList.add("jsonforms-survey-table"),this.rowsTree=this.extractNode(t,"row"),this.columnsTree=this.extractNode(t,"column"),this.buildColumnHeaderRows(this.columnsTree),this.columnLeafPaths=this.getColumnLeafPaths(this.columnsTree,[],this.schema),this.renderRows()}},{key:"reconstructTreeFromInputs",value:function(){var t=this.inputs,e={};return t.forEach((function(t){var r=t.getAttribute("data-rowPath").split("."),n=t.getAttribute("data-colPath").split("."),i=e;r.forEach((function(t,e){i[t]||(i[t]={}),i=i[t]})),n.forEach((function(e,r){r===n.length-1?i[e]=t.getValue():(i[e]||(i[e]={}),i=i[e])}))})),e}},{key:"setValue",value:function(){var t=this.reconstructTreeFromInputs();this.value=t}},{key:"preBuild",value:function(){this.inputs=[]}},{key:"build",value:function(){var t=K(this.jsoneditor.expandSchema,this.schema);this.renderTable(t),this.theme.append(this.container,this.table)}},{key:"destroy",value:function(){so(uo(e.prototype),"destroy",this).call(this)}},{key:"getNumColumns",value:function(){return 2}}],n&&no(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(b);function ho(t){return ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ho(t)}function po(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fo(n.key),n)}}function fo(t){var e=function(t,e){if("object"!=ho(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=ho(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ho(e)?e:e+""}function yo(t,e,r){return e=bo(e),function(t,e){if(e&&("object"===ho(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,mo()?Reflect.construct(e,r||[],bo(t).constructor):e.apply(t,r))}function mo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(mo=function(){return!!t})()}function vo(){return vo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=bo(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},vo.apply(this,arguments)}function bo(t){return bo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bo(t)}function go(t,e){return go=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},go(t,e)}var wo=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),yo(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&go(t,e)}(e,t),r=e,(n=[{key:"register",value:function(){vo(bo(e.prototype),"register",this).call(this),this.input&&this.jsoneditor.options.use_name_attributes&&this.input.setAttribute("name",this.formname)}},{key:"unregister",value:function(){vo(bo(e.prototype),"unregister",this).call(this),this.input&&this.input.removeAttribute("name")}},{key:"build",value:function(){var t=this;vo(bo(e.prototype),"build",this).call(this),this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.input=this.theme.getFormInputField(this.schema.type,this),this.input.isToggle?this.input.on("toggled",(function(e){t.value=e,t.onChange(!0)})):this.input.on("change",(function(e){console.log("toggled",e),t.value=e,t.onChange(!0)})),this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton,this),this.theme.append(this.container,this.control)}},{key:"getNumColumns",value:function(){return 2}},{key:"typecast",value:function(t){return"undefined"===t||void 0===t?void 0:!!t}},{key:"getValue",value:function(){if(this.dependenciesFulfilled)return this.typecast(this.value)}},{key:"setValue",value:function(t,e){void 0!==t&&(this.value=this.typecast(t),e||(this.is_dirty=!0),this.input.setValue(this.value),this.onChange(!e))}}])&&po(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(b);function Oo(t){return Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oo(t)}function _o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jo(n.key),n)}}function jo(t){var e=function(t,e){if("object"!=Oo(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Oo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Oo(e)?e:e+""}function ko(t,e,r){return e=Po(e),function(t,e){if(e&&("object"===Oo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,xo()?Reflect.construct(e,r||[],Po(t).constructor):e.apply(t,r))}function xo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(xo=function(){return!!t})()}function So(){return So="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Po(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},So.apply(this,arguments)}function Po(t){return Po=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Po(t)}function Eo(t,e){return Eo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Eo(t,e)}var Co=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ko(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Eo(t,e)}(e,t),r=e,(n=[{key:"getEditor",value:function(t){var e=this.schema;e.format="normal";var r=this.getValue(),n=this.jsoneditor.getEditorClass(this.schema);this.editor=this.jsoneditor.createEditor(n,{jsoneditor:this.jsoneditor,schema:e,path:this.path,pathNoIndex:this.path,parent:this.parent,container:t},this.currentDepth),this.editor.preBuild(),this.editor.build(),this.editor.postBuild(),this.editor.setValue(r,!0)}},{key:"deleteEditor",value:function(){G(new OO.ui.HtmlSnippet("delete this item?"),{size:"medium"},(function(){}))}},{key:"openDialog",value:function(){var t=U(),e=rt().create({},{size:"large"},this);t.addWindows([e]),t.openWindow(e,{title:this.getTitle()})}},{key:"getDialogActionProcessCallback",value:function(t,e,r){var n=this;switch(r){case"close":t.close({action:r});break;case"done":return new OO.ui.Process((function(){if(n.setValue(n.editor.getValue()),n.options.datatable_row){var e=$(n.container);n.updateDatatable(e)}else{var i=n.container.$element?n.container.$element[0]:n.container;if(0===$(i).find(".workflows-trigger-entity").length){var o=new TriggerEntity(n.getTitle(),n.isEnabled(),this);o.on("edit",(function(t){n.openDialog()})),o.on("delete",(function(t){n.deleteEditor()}));var a=o.$element;n.theme.append(n.container,a)}}t.close({action:r}).then((function(){}))}))}}},{key:"getDialogOnSetupCallback",value:function(t,e){t.actions.setMode("default")}},{key:"build",value:function(){}},{key:"enable",value:function(){}},{key:"disable",value:function(t){}},{key:"destroy",value:function(){So(Po(e.prototype),"destroy",this).call(this)}},{key:"getNumColumns",value:function(){return 2}},{key:"getValue",value:function(){return this.editor?this.editor.getValue():So(Po(e.prototype),"getValue",this).call(this)}}])&&_o(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(b);function To(t){return To="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},To(t)}function Ao(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Io(n.key),n)}}function Io(t){var e=function(t,e){if("object"!=To(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=To(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==To(e)?e:e+""}function Ro(t,e,r){return e=No(e),function(t,e){if(e&&("object"===To(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Lo()?Reflect.construct(e,r||[],No(t).constructor):e.apply(t,r))}function Lo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Lo=function(){return!!t})()}function No(t){return No=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},No(t)}function Bo(t,e){return Bo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bo(t,e)}var Do=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ro(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bo(t,e)}(e,t),r=e,(n=[{key:"build",value:function(){this.container}},{key:"getValue",value:function(){if(this.dependenciesFulfilled)return null}},{key:"setValue",value:function(){this.onChange()}},{key:"getNumColumns",value:function(){return 2}}])&&Ao(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(b);function Fo(t){return Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fo(t)}function Vo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Mo(n.key),n)}}function Mo(t){var e=function(t,e){if("object"!=Fo(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Fo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Fo(e)?e:e+""}function $o(t,e,r){return e=Wo(e),function(t,e){if(e&&("object"===Fo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,zo()?Reflect.construct(e,r||[],Wo(t).constructor):e.apply(t,r))}function zo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(zo=function(){return!!t})()}function Ho(){return Ho="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Wo(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Ho.apply(this,arguments)}function Wo(t){return Wo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wo(t)}function qo(t,e){return qo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qo(t,e)}var Uo=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),$o(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qo(t,e)}(e,t),r=e,(n=[{key:"preBuild",value:function(){Ho(Wo(e.prototype),"preBuild",this).call(this)}},{key:"build",value:function(){var t=this;this.label="",this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.options.compact&&this.container.classList.add("compact"),this.radioContainer=document.createElement("div"),this.radioGroup=[];for(var e=function(e){t.setValue(e.currentTarget.value),t.onChange(!0),t.radioGroup.forEach((function(e){e.checked=e.value===t.getValue()}))},r=0;r<this.enum_values.length;r++){var n={id:"".concat(this.formname,"[").concat(r,"]"),value:this.enum_values[r]};this.jsoneditor.options.use_name_attributes&&(n.name=this.formname),this.input=this.theme.getFormRadio(n),this.setInputAttributes(["id","value","name"]),this.input.addEventListener("change",e,!1),this.radioGroup.push(this.input);var i=this.theme.getFormRadioLabel(this.enum_display[r]);i.htmlFor=this.input.id;var o=this.theme.getFormRadioControl(i,this.input,!("horizontal"!==this.options.layout&&!this.options.compact));this.radioContainer.appendChild(o)}if(this.schema.readOnly||this.schema.readonly){this.disable(!0);for(var a=0;a<this.radioGroup.length;a++)this.radioGroup[a].disabled=!0;this.radioContainer.classList.add("readonly")}var s=this.theme.getContainer();s.appendChild(this.radioContainer),s.dataset.containerFor="radio",this.input=s,this.control=this.theme.getFormControl(this.label,s,this.description,this.infoButton,this),this.container.appendChild(this.control),window.requestAnimationFrame((function(){t.input.parentNode&&t.afterInputReady()}))}},{key:"enable",value:function(){if(!this.always_disabled){for(var t=0;t<this.radioGroup.length;t++)this.radioGroup[t].disabled=!1;this.radioContainer.classList.remove("readonly"),Ho(Wo(e.prototype),"enable",this).call(this)}}},{key:"disable",value:function(t){t&&(this.always_disabled=!0);for(var r=0;r<this.radioGroup.length;r++)this.radioGroup[r].disabled=!0;this.radioContainer.classList.add("readonly"),Ho(Wo(e.prototype),"disable",this).call(this)}},{key:"destroy",value:function(){this.radioContainer.parentNode&&this.radioContainer.parentNode.parentNode&&this.radioContainer.parentNode.parentNode.removeChild(this.radioContainer.parentNode),this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),Ho(Wo(e.prototype),"destroy",this).call(this)}},{key:"getNumColumns",value:function(){return 2}},{key:"setValue",value:function(t){"string"!=typeof(t=this.applyConstFilter(t))&&(t=String(t));for(var e=0;e<this.radioGroup.length;e++){if(this.radioGroup[e].value===t){this.radioGroup[e].checked=!0;break}this.radioGroup[e].checked=!1}this.value=t,this.onChange()}}])&&Vo(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(Ke);function Go(t){return Go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Go(t)}function Jo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zo(n.key),n)}}function Zo(t){var e=function(t,e){if("object"!=Go(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Go(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Go(e)?e:e+""}function Yo(t,e,r){return e=Xo(e),function(t,e){if(e&&("object"===Go(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ko()?Reflect.construct(e,r||[],Xo(t).constructor):e.apply(t,r))}function Ko(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ko=function(){return!!t})()}function Qo(){return Qo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Xo(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Qo.apply(this,arguments)}function Xo(t){return Xo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xo(t)}function ta(t,e){return ta=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ta(t,e)}var ea=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Yo(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ta(t,e)}(e,t),r=e,(n=[{key:"setValue",value:function(t,r,n){t=this.applyConstFilter(t);var i=Qo(Xo(e.prototype),"setValue",this).call(this,t,r,n);void 0!==i&&i.changed&&this.sceditor_instance&&this.sceditor_instance.val(i.value)}},{key:"build",value:function(){this.options.format="textarea",Qo(Xo(e.prototype),"build",this).call(this),this.input_type=this.schema.format,this.input.setAttribute("data-schemaformat",this.input_type)}},{key:"afterInputReady",value:function(){var t=this;if(window.sceditor){var r=this.expandCallbacks("sceditor",a({},{format:this.input_type,emoticonsEnabled:!1,width:"100%",height:300,readOnly:this.schema.readOnly||this.schema.readonly||this.schema.template},this.defaults.options.sceditor||{},this.options.sceditor||{},{element:this.input})),n=window.sceditor.instance(this.input);void 0===n&&window.sceditor.create(this.input,r),this.sceditor_instance=n||window.sceditor.instance(this.input),this.sceditor_instance.blur((function(){t.value=t.sceditor_instance.val(),t.sceditor_instance.updateOriginal(),t.is_dirty=!0,t.onChange(!0)})),this.theme.afterInputReady(this.input)}else Qo(Xo(e.prototype),"afterInputReady",this).call(this)}},{key:"getNumColumns",value:function(){return 6}},{key:"enable",value:function(){!this.always_disabled&&this.sceditor_instance&&this.sceditor_instance.readOnly(!1),Qo(Xo(e.prototype),"enable",this).call(this)}},{key:"disable",value:function(t){this.sceditor_instance&&this.sceditor_instance.readOnly(!0),Qo(Xo(e.prototype),"disable",this).call(this,t)}},{key:"destroy",value:function(){this.sceditor_instance&&(this.sceditor_instance.destroy(),this.sceditor_instance=null),Qo(Xo(e.prototype),"destroy",this).call(this)}}])&&Jo(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(P);function ra(t){return ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ra(t)}function na(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ia(n.key),n)}}function ia(t){var e=function(t,e){if("object"!=ra(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=ra(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ra(e)?e:e+""}function oa(t,e,r){return e=ua(e),function(t,e){if(e&&("object"===ra(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,aa()?Reflect.construct(e,r||[],ua(t).constructor):e.apply(t,r))}function aa(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(aa=function(){return!!t})()}function sa(){return sa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ua(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},sa.apply(this,arguments)}function ua(t){return ua=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ua(t)}function ca(t,e){return ca=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ca(t,e)}var la=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),oa(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ca(t,e)}(e,t),r=e,(n=[{key:"setValue",value:function(t,r){if(t=this.applyConstFilter(t),this.select2_instance){r?this.is_dirty=!1:"change"===this.jsoneditor.options.show_errors&&(this.is_dirty=!0);var n=this.updateValue(t);this.input.value=n,this.select2v4?this.select2_instance.val(n).trigger("change"):this.select2_instance.select2("val",n),this.onChange(!0)}else sa(ua(e.prototype),"setValue",this).call(this,t,r)}},{key:"afterInputReady",value:function(){var t=this;if(window.jQuery&&window.jQuery.fn&&window.jQuery.fn.select2&&!this.select2_instance){var r=this.expandCallbacks("select2",a({},this.defaults.options.select2||{},this.options.select2||{}));this.newEnumAllowed=r.tags=!!r.tags&&"string"===this.schema.type,this.select2_instance=window.jQuery(this.input).select2(r),this.select2v4=c(this.select2_instance.select2,"amd"),this.selectChangeHandler=function(){var e=t.select2v4?t.select2_instance.val():t.select2_instance.select2("val");t.updateValue(e),t.onChange(!0)},this.select2_instance.on("change",this.selectChangeHandler),this.select2_instance.on("select2-blur",this.selectChangeHandler)}sa(ua(e.prototype),"afterInputReady",this).call(this)}},{key:"updateValue",value:function(t){var e=this.enum_values[0];return t=this.typecast(t||""),this.enum_values.includes(t)?e=t:this.newEnumAllowed&&(e=this.addNewOption(t)?t:e),this.value=e,e}},{key:"addNewOption",value:function(t){var e,r=this.typecast(t),n=!1;return this.enum_values.includes(r)||""===r||(this.enum_options.push("".concat(r)),this.enum_display.push("".concat(r)),this.enum_values.push(r),this.schema.enum.push(r),(e=this.input.querySelector('option[value="'.concat(r,'"]')))?e.removeAttribute("data-select2-tag"):this.select2_instance.append(new Option(r,r,!1,!1)).trigger("change"),n=!0),n}},{key:"enable",value:function(){this.always_disabled||this.select2_instance&&(this.select2v4?this.select2_instance.prop("disabled",!1):this.select2_instance.select2("enable",!0)),sa(ua(e.prototype),"enable",this).call(this)}},{key:"disable",value:function(t){this.select2_instance&&(this.select2v4?this.select2_instance.prop("disabled",!0):this.select2_instance.select2("enable",!1)),sa(ua(e.prototype),"disable",this).call(this,t)}},{key:"destroy",value:function(){this.select2_instance&&(this.select2_instance.select2("destroy"),this.select2_instance=null),sa(ua(e.prototype),"destroy",this).call(this)}}])&&na(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(Ke);function ha(t){return ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ha(t)}function pa(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fa(n.key),n)}}function fa(t){var e=function(t,e){if("object"!=ha(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=ha(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ha(e)?e:e+""}function da(t,e,r){return e=va(e),function(t,e){if(e&&("object"===ha(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ya()?Reflect.construct(e,r||[],va(t).constructor):e.apply(t,r))}function ya(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ya=function(){return!!t})()}function ma(){return ma="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=va(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},ma.apply(this,arguments)}function va(t){return va=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},va(t)}function ba(t,e){return ba=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ba(t,e)}var ga=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),da(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ba(t,e)}(e,t),r=e,(n=[{key:"setValue",value:function(t,r){if(t=this.applyConstFilter(t),this.selectize_instance){r?this.is_dirty=!1:"change"===this.jsoneditor.options.show_errors&&(this.is_dirty=!0);var n=this.updateValue(t);this.input.value=n,this.selectize_instance.clear(!0),this.selectize_instance.setValue(n),this.onChange(!0)}else ma(va(e.prototype),"setValue",this).call(this,t,r)}},{key:"afterInputReady",value:function(){var t=this;if(window.jQuery&&window.jQuery.fn&&window.jQuery.fn.selectize&&!this.selectize_instance){var r=this.expandCallbacks("selectize",a({},this.defaults.options.selectize||{},this.options.selectize||{}));this.newEnumAllowed=r.create=!!r.create&&"string"===this.schema.type,this.selectize_instance=window.jQuery(this.input).selectize(r)[0].selectize,this.control.removeEventListener("change",this.multiselectChangeHandler),this.multiselectChangeHandler=function(e){t.updateValue(e),t.onChange(!0)},this.selectize_instance.on("change",this.multiselectChangeHandler)}ma(va(e.prototype),"afterInputReady",this).call(this)}},{key:"updateValue",value:function(t){var e=this.enum_values[0];return t=this.typecast(t||""),this.enum_values.includes(t)?e=t:this.newEnumAllowed&&(e=this.addNewOption(t)?t:e),this.value=e,e}},{key:"addNewOption",value:function(t){var e=this.typecast(t),r=!1;return this.enum_values.includes(e)||""===e||(this.enum_options.push("".concat(e)),this.enum_display.push("".concat(e)),this.enum_values.push(e),this.schema.enum.push(e),this.selectize_instance.addItem(e),this.selectize_instance.refreshOptions(!1),r=!0),r}},{key:"onWatchedFieldChange",value:function(){var t=this;ma(va(e.prototype),"onWatchedFieldChange",this).call(this),this.selectize_instance&&(this.selectize_instance.clear(!0),this.selectize_instance.clearOptions(!0),this.enum_options.forEach((function(e,r){t.selectize_instance.addOption({value:e,text:t.enum_display[r]})})),this.selectize_instance.addItem("".concat(this.value),!0))}},{key:"enable",value:function(){!this.always_disabled&&this.selectize_instance&&this.selectize_instance.unlock(),ma(va(e.prototype),"enable",this).call(this)}},{key:"disable",value:function(t){this.selectize_instance&&this.selectize_instance.lock(),ma(va(e.prototype),"disable",this).call(this,t)}},{key:"destroy",value:function(){this.selectize_instance&&(this.selectize_instance.destroy(),this.selectize_instance=null),ma(va(e.prototype),"destroy",this).call(this)}}])&&pa(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(Ke);function wa(t){return wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wa(t)}function Oa(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_a(n.key),n)}}function _a(t){var e=function(t,e){if("object"!=wa(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=wa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==wa(e)?e:e+""}function ja(t,e,r){return e=xa(e),function(t,e){if(e&&("object"===wa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ka()?Reflect.construct(e,r||[],xa(t).constructor):e.apply(t,r))}function ka(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ka=function(){return!!t})()}function xa(t){return xa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xa(t)}function Sa(t,e){return Sa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Sa(t,e)}var Pa=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ja(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sa(t,e)}(e,t),r=e,(n=[{key:"build",value:function(){var t=this;this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description));var e=this.formname.replace(/\W/g,"");if("function"==typeof SignaturePad){this.input=this.theme.getFormInputField("hidden"),this.container.appendChild(this.input);var r=document.createElement("div");r.classList.add("signature-container");var n=document.createElement("canvas");this.jsoneditor.options.use_name_attributes&&n.setAttribute("name",e),n.classList.add("signature"),r.appendChild(n),this.signaturePad=new window.SignaturePad(n),this.signaturePad.onEnd=function(){t.signaturePad.isEmpty()?t.input.value="":t.input.value=t.signaturePad.toDataURL(),t.is_dirty=!0,t.refreshValue(),t.watch_listener(),t.jsoneditor.notifyWatchers(t.path),t.parent?t.parent.onChildEditorChange(t):t.jsoneditor.onChange()};var i=document.createElement("div"),o=document.createElement("button");o.classList.add("tiny","button"),o.innerHTML="Clear signature",i.appendChild(o),r.appendChild(i),this.options.compact&&this.container.setAttribute("class","".concat(this.container.getAttribute("class")," compact")),(this.schema.readOnly||this.schema.readonly)&&(this.disable(!0),Array.from(this.inputs).forEach((function(t){n.setAttribute("readOnly","readOnly"),t.disabled=!0}))),o.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),t.signaturePad.clear(),t.signaturePad.strokeEnd()})),this.control=this.theme.getFormControl(this.label,r,this.description,null,this),this.container.appendChild(this.control),this.refreshValue(),n.width=r.offsetWidth,this.options&&this.options.canvas_height?n.height=this.options.canvas_height:n.height="300"}else{var a=document.createElement("p");a.innerHTML="Signature pad is not available, please include SignaturePad from https://github.com/szimek/signature_pad",this.container.appendChild(a)}}},{key:"setValue",value:function(t){if(t=this.applyConstFilter(t),"function"==typeof SignaturePad){var e=this.sanitize(t);if(this.value===e)return;return this.value=e,this.input.value=this.value,this.signaturePad.clear(),t&&""!==t&&this.signaturePad.fromDataURL(t),this.watch_listener(),this.jsoneditor.notifyWatchers(this.path),!1}}},{key:"destroy",value:function(){this.signaturePad.off(),delete this.signaturePad}}])&&Oa(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(P);function Ea(t){return Ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ea(t)}function Ca(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ta(n.key),n)}}function Ta(t){var e=function(t,e){if("object"!=Ea(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Ea(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ea(e)?e:e+""}function Aa(t,e,r){return e=La(e),function(t,e){if(e&&("object"===Ea(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ia()?Reflect.construct(e,r||[],La(t).constructor):e.apply(t,r))}function Ia(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ia=function(){return!!t})()}function Ra(){return Ra="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=La(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Ra.apply(this,arguments)}function La(t){return La=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},La(t)}function Na(t,e){return Na=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Na(t,e)}var Ba=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Aa(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Na(t,e)}(e,t),r=e,(n=[{key:"setValue",value:function(t,r,n){t=this.applyConstFilter(t);var i=Ra(La(e.prototype),"setValue",this).call(this,t,r,n);void 0!==i&&i.changed&&this.simplemde_instance&&this.simplemde_instance.value(i.value)}},{key:"build",value:function(){this.options.format="textarea",Ra(La(e.prototype),"build",this).call(this),this.input_type=this.schema.format,this.input.setAttribute("data-schemaformat",this.input_type)}},{key:"afterInputReady",value:function(){var t,r=this;window.SimpleMDE?(t=this.expandCallbacks("simplemde",a({},{height:300},this.defaults.options.simplemde||{},this.options.simplemde||{},{element:this.input,forceSync:!0})),this.simplemde_instance=new window.SimpleMDE(t),(this.schema.readOnly||this.schema.readonly||this.schema.template)&&(this.simplemde_instance.codemirror.options.readOnly=!0),this.simplemde_instance.codemirror.on("change",(function(){r.value=r.simplemde_instance.value(),r.is_dirty=!0,r.onChange(!0)})),t.autorefresh&&this.startListening(this.simplemde_instance.codemirror,this.simplemde_instance.codemirror.state.autoRefresh={delay:250}),this.theme.afterInputReady(this.input)):Ra(La(e.prototype),"afterInputReady",this).call(this)}},{key:"getNumColumns",value:function(){return 6}},{key:"enable",value:function(){!this.always_disabled&&this.simplemde_instance&&(this.simplemde_instance.codemirror.options.readOnly=!1),Ra(La(e.prototype),"enable",this).call(this)}},{key:"disable",value:function(t){this.simplemde_instance&&(this.simplemde_instance.codemirror.options.readOnly=!0),Ra(La(e.prototype),"disable",this).call(this,t)}},{key:"destroy",value:function(){this.simplemde_instance&&(this.simplemde_instance.toTextArea(),this.simplemde_instance=null),Ra(La(e.prototype),"destroy",this).call(this)}},{key:"startListening",value:function(t,e){var r=this,n=function n(){t.display.wrapper.offsetHeight?(r.stopListening(t,e),t.display.lastWrapHeight!==t.display.wrapper.clientHeight&&t.refresh()):e.timeout=window.setTimeout(n,e.delay)};e.timeout=window.setTimeout(n,e.delay),e.hurry=function(){window.clearTimeout(e.timeout),e.timeout=window.setTimeout(n,50)},t.on(window,"mouseup",e.hurry),t.on(window,"keyup",e.hurry)}},{key:"stopListening",value:function(t,e){window.clearTimeout(e.timeout),t.off(window,"mouseup",e.hurry),t.off(window,"keyup",e.hurry)}}])&&Ca(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(P);function Da(t){"classes"in(t=t||{})||(t.classes=[]),t.classes.push("jsonforms-rating-widget"),this.config=t,Da.super.call(this,t);var e=$('<div class="jsonforms-rating">');this.$input=e,this.isChecked=0;for(var r=this,n=1;n<=t.ratingLength;n++){var i=$("<input>").attr({type:"radio",value:n,id:"rating-"+n,name:t.name,"data-i":n});n===t.value&&(i.prop("checked",!0),this.isChecked=n),i.on("click",(function(){var e=$(this).data("i");r.isChecked==e?(r.isChecked=e-1,$(this).prop("checked",!1),$(":input[name='"+t.name+"'][data-i='"+(e-1)+"']").prop("checked",!0)):r.isChecked=e,r.emit("change",r.getValue())})),e.append([i,$("<label>").attr({for:"rating-"+n})])}this.$element.append(e)}OO.inheritClass(Da,OO.ui.Widget),OO.mixinClass(Da,OO.EventEmitter),Da.prototype.getValue=function(){return this.isChecked+""},Da.prototype.setValue=function(t){var e=parseInt(t,10),r=isNaN(e)||e<0?0:Math.min(e,this.config.ratingLength);$(":input[name='"+this.config.name+"']").prop("checked",!1),r>0&&$(":input[name='"+this.config.name+"'][data-i='"+r+"']").prop("checked",!0),self.isChecked=r};const Fa=nt(Da);function Va(t){return Va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Va(t)}function Ma(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$a(n.key),n)}}function $a(t){var e=function(t,e){if("object"!=Va(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Va(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Va(e)?e:e+""}function za(t,e,r){return e=qa(e),function(t,e){if(e&&("object"===Va(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ha()?Reflect.construct(e,r||[],qa(t).constructor):e.apply(t,r))}function Ha(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ha=function(){return!!t})()}function Wa(){return Wa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qa(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Wa.apply(this,arguments)}function qa(t){return qa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qa(t)}function Ua(t,e){return Ua=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ua(t,e)}var Ga=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),za(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ua(t,e)}(e,t),r=e,(n=[{key:"build",value:function(){var t=this;if(this.options.compact||(this.header=this.label=this.theme.getLabelLike(this.getTitle(),this.isRequired())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.options.compact&&this.container.classList.add("compact"),void 0===this.schema.enum){var e=this.schema.maximum?this.schema.maximum:5;this.schema.exclusiveMaximum&&e--,this.enum_values=[];for(var r=0;r<e;r++)this.enum_values.push(r+1)}else this.enum_values=this.schema.enum;this.ratingContainer=document.createElement("div"),this.ratingContainer.classList.add("starrating"),this.input=new Fa({name:"rating",ratingLength:this.enum_values.length}),this.input.on("change",(function(e){t.setValue(e)})),this.theme.append(this.ratingContainer,this.input),this.options.displayValue&&(this.displayRating=document.createElement("div"),this.displayRating.classList.add("starrating-display"),this.displayRating.innerText=this.enum_values[0],this.theme.append(this.ratingContainer,this.displayRating)),this.theme.append(this.container,this.ratingContainer);var n=this.theme.getContainerOrig();this.theme.append(n,this.ratingContainer),this.control=this.theme.getFormControl(this.label,n,this.description,this.infoButton,this),this.theme.append(this.container,this.control),this.refreshValue()}},{key:"enable",value:function(){}},{key:"disable",value:function(t){}},{key:"destroy",value:function(){this.ratingContainer.parentNode&&this.ratingContainer.parentNode.parentNode&&this.ratingContainer.parentNode.parentNode.removeChild(this.ratingContainer.parentNode),this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),Wa(qa(e.prototype),"destroy",this).call(this)}},{key:"getNumColumns",value:function(){return 2}},{key:"getValue",value:function(){if(this.dependenciesFulfilled)return"integer"===this.schema.type?""===this.value?0:parseInt(this.value):this.value}}])&&Ma(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(yn);function Ja(t){return Ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ja(t)}function Za(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ya(n.key),n)}}function Ya(t){var e=function(t,e){if("object"!=Ja(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Ja(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ja(e)?e:e+""}function Ka(t,e,r){return e=ts(e),function(t,e){if(e&&("object"===Ja(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Qa()?Reflect.construct(e,r||[],ts(t).constructor):e.apply(t,r))}function Qa(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Qa=function(){return!!t})()}function Xa(){return Xa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ts(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Xa.apply(this,arguments)}function ts(t){return ts=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ts(t)}function es(t,e){return es=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},es(t,e)}var rs=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ka(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&es(t,e)}(e,t),r=e,(n=[{key:"build",value:function(){Xa(ts(e.prototype),"build",this).call(this),this.input.setAttribute("type","number"),this.input.getAttribute("step")||this.input.setAttribute("step","1");var t=this.theme.getStepperButtons(this.input);this.control.appendChild(t),this.stepperDown=this.control.querySelector(".stepper-down"),this.stepperUp=this.control.querySelector(".stepper-up")}},{key:"enable",value:function(){Xa(ts(e.prototype),"enable",this).call(this),this.stepperDown.removeAttribute("disabled"),this.stepperUp.removeAttribute("disabled")}},{key:"disable",value:function(){Xa(ts(e.prototype),"disable",this).call(this),this.stepperDown.setAttribute("disabled",!0),this.stepperUp.setAttribute("disabled",!0)}}])&&Za(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(yn);function ns(t){return ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ns(t)}function is(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,os(n.key),n)}}function os(t){var e=function(t,e){if("object"!=ns(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=ns(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ns(e)?e:e+""}function as(t,e,r){return e=cs(e),function(t,e){if(e&&("object"===ns(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ss()?Reflect.construct(e,r||[],cs(t).constructor):e.apply(t,r))}function ss(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ss=function(){return!!t})()}function us(){return us="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=cs(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},us.apply(this,arguments)}function cs(t){return cs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cs(t)}function ls(t,e){return ls=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ls(t,e)}var hs=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),as(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ls(t,e)}(e,t),r=e,n=[{key:"register",value:function(){if(us(cs(e.prototype),"register",this).call(this),this.rows)for(var t=0;t<this.rows.length;t++)this.rows[t].register()}},{key:"unregister",value:function(){if(us(cs(e.prototype),"unregister",this).call(this),this.rows)for(var t=0;t<this.rows.length;t++)this.rows[t].unregister()}},{key:"getNumColumns",value:function(){return Math.max(Math.min(12,this.width),3)}},{key:"preBuild",value:function(){var t=this.jsoneditor.expandRefs(this.schema.items||{});this.item_title=t.title||"row",this.item_default=t.default||null,this.item_has_child_editors=t.properties||t.items,this.width=12,us(cs(e.prototype),"preBuild",this).call(this)}},{key:"build",value:function(){this.buildTable();var t=this.getElementEditor(0,!0);this.item_default=t.getDefault(),this.width=t.getNumColumns()+2,this.buildPanelAndHeader(t),this.buildTableHeaders(t),t.destroy(),this.row_holder.innerHTML="",this.add_row_button=this.createAddRowButton()}},{key:"buildTable",value:function(){this.tableContainer=this.theme.getTableContainer(),this.table=this.theme.getTable(),this.row_holder=this.theme.getTableBody(),this.theme.append(this.tableContainer,this.table),this.theme.append(this.container,this.tableContainer),this.theme.append(this.table,this.row_holder)}},{key:"buildPanelAndHeader",value:function(t){var e=this;if(this.options.removable){var r=this.theme.getButton({label:null,icon:"close",flags:[],classes:[]});r.on("click",(function(){var t=e.jsoneditor.editors[e.path];t.parent.restoreLazyProperty(t.key)}));var n=this.theme.getContainer();n.classList.add("jsonforms-remove-object"),this.theme.append(n,r),this.theme.append(this.container,n)}this.options.compact?(this.panel=document.createElement("div"),this.theme.append(this.container,this.panel)):(this.title=this.theme.getHeader(this.getTitle(),2),this.theme.append(this.container,this.title),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText)),this.theme.append(this.container,this.infoButton)),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description),this.theme.append(this.container,this.description)),this.panel=this.theme.getIndentedPanel(),this.theme.append(this.container,this.panel),this.error_holder=document.createElement("div"),this.theme.append(this.panel,this.error_holder)),this.theme.append(this.panel,this.tableContainer),this.controls=this.theme.getButtonHolder(),this.theme.append(this.panel,this.controls)}},{key:"buildTableHeaders",value:function(t){var e=this;if(this.item_has_child_editors){var r=this.theme.getTableHead();this.header_row=this.theme.getTableRow(),this.table.appendChild(r),r.appendChild(this.header_row);var n=t.getChildEditors();(t.property_order||Object.keys(n)).forEach((function(t){var r=n[t],i=e.theme.getTableHeaderCell(r.getTitle());r.options.hidden&&(i.style.display="none"),e.theme.append(e.header_row,i)}))}}},{key:"buildControlsColumn",value:function(){this.controls_header_cell=this.theme.getTableHeaderCell(this.translate("table_controls")),this.controls_header_cell.setAttribute("aria-hidden","true"),this.controls_header_cell.style.visibility="hidden",this.theme.append(this.header_row,this.controls_header_cell)}},{key:"onChildEditorChange",value:function(t,r){this.refreshValue(),us(cs(e.prototype),"onChildEditorChange",this).call(this,t,r)}},{key:"getItemDefault",value:function(){return a({},{default:this.item_default}).default}},{key:"getItemTitle",value:function(){return this.item_title}},{key:"getElementEditor",value:function(t,e){var r=a({},this.schema.items),n=this.jsoneditor.getEditorClass(r,this.jsoneditor),i=n.classname,o=n.editorClass,s=this.theme.append(this.row_holder,this.theme.getTableRow()),u=s;this.item_has_child_editors||(u=this.theme.getTableCell(),this.theme.append(s,u));var c=this.jsoneditor.createEditor(o,{jsoneditor:this.jsoneditor,schema:r,container:u,path:"".concat(this.path,".").concat(t),pathNoIndex:this.path,parent:this,compact:!0,table_row:!0,ignore:e,classname:i});return c.preBuild(),e||(c.build(),c.postBuild(),c.controls_cell=this.theme.append(s,this.theme.getTableCell()),c.row=s,c.table_controls=this.theme.getButtonHolder(),this.theme.append(c.controls_cell,c.table_controls),c.table_controls.style.margin=0,c.table_controls.style.padding=0),c}},{key:"ensureArraySize",value:function(t){if(Array.isArray(t)||(t=[t]),this.schema.minItems)for(;t.length<this.schema.minItems;)t.push(this.getItemDefault());return this.schema.maxItems&&t.length>this.schema.maxItems&&(t=t.slice(0,this.schema.maxItems)),t}},{key:"setValue",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;if(e=this.ensureArraySize(this.applyConstFilter(e)),JSON.stringify(e)!==this.serialized){var n=!1;e.forEach((function(e,r){var i=t.rows[r];if(i){var o=i.getValue();JSON.stringify(o)!==JSON.stringify(e)&&i.setValue(e)}else t.addRow(e),n=!0}));for(var i=e.length;i<this.rows.length;i++){var o=this.rows[i];this.item_has_child_editors||$(o.row).remove(),o.destroy(),$(o.container).remove(),this.rows[i]=null,n=!0}this.rows.length=e.length,this.refreshValue(),(n||r)&&this.refreshRowButtons(),this.onChange()}}},{key:"refreshRowButtons",value:function(){var t=this,e=this.rows.length,r=this.schema.minItems&&this.schema.minItems>=e,n=this.schema.maxItems&&this.schema.maxItems<=e,i=!1;this.rows.forEach((function(e){if(e.delete_button){var n=!r;t.setButtonState(e.delete_button,n),i||(i=n)}})),this.rows.forEach((function(e){t.setButtonState(e.controls_cell,i)})),this.setButtonState(this.controls_header_cell,i),this.setButtonState(this.table,this.value.length);var o=!n&&!this.hide_add_button;this.setButtonState(this.add_row_button,o),this.setButtonState(this.controls,o)}},{key:"refreshValue",value:function(){var t=this;this.value=[],this.rows.forEach((function(e,r){t.value[r]=e.getValue()})),this.serialized=JSON.stringify(this.value)}},{key:"addRow",value:function(t){var e=this.rows.length;this.rows[e]=this.getElementEditor(e);var r=this.rows[e].table_controls;return this.hide_delete_buttons||(this.rows[e].delete_button=this.createDeleteButton(e,r)),void 0!==t&&this.rows[e].setValue(t),this.rows[e]}},{key:"createDeleteButton",value:function(t,e){var r=this,n=this.getButton({icon:"trash",title:"delete item"});return n.classList.add("delete","json-editor-btntype-delete"),n.setAttribute("data-i",t),this.theme.buttonAction(n,"delete",(function(){if(r.askConfirmation()){var t=Number(n.getAttribute("data-i")),e=r.getValue(),i=e[t];e.splice(t,1),r.setValue(e),r.onChange(!0),r.jsoneditor.trigger("deleteRow",i)}})),this.theme.append(e,n),n}},{key:"createAddRowButton",value:function(){var t=this,e=this.getItemTitle(),r=this.getButton({icon:"add"},[e]);return r.classList.add("json-editor-btntype-add"),this.theme.buttonAction(r,"add",(function(){var e=t.addRow();t.refreshValue(),t.refreshRowButtons(),t.onChange(!0),t.jsoneditor.trigger("addRow",e)})),this.theme.append(this.controls,r),r}},{key:"destroy",value:function(){this.innerHTML="",this.checkParent(this.title)&&this.title.parentNode.removeChild(this.title),this.checkParent(this.description)&&this.description.parentNode.removeChild(this.description),this.checkParent(this.row_holder)&&this.row_holder.parentNode.removeChild(this.row_holder),this.checkParent(this.table)&&this.table.parentNode.removeChild(this.table),this.checkParent(this.panel)&&this.panel.parentNode.removeChild(this.panel),this.rows=this.title=this.description=this.row_holder=this.table=this.panel=null,us(cs(e.prototype),"destroy",this).call(this)}}],n&&is(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(kt);function ps(t){return ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ps(t)}function fs(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ds(n.key),n)}}function ds(t){var e=function(t,e){if("object"!=ps(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=ps(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ps(e)?e:e+""}function ys(t,e,r){return e=bs(e),function(t,e){if(e&&("object"===ps(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ms()?Reflect.construct(e,r||[],bs(t).constructor):e.apply(t,r))}function ms(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ms=function(){return!!t})()}function vs(){return vs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=bs(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},vs.apply(this,arguments)}function bs(t){return bs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bs(t)}function gs(t,e){return gs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gs(t,e)}function ws(t){return ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ws(t)}function Os(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_s(n.key),n)}}function _s(t){var e=function(t,e){if("object"!=ws(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=ws(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ws(e)?e:e+""}function js(t,e,r){return e=Ss(e),function(t,e){if(e&&("object"===ws(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ks()?Reflect.construct(e,r||[],Ss(t).constructor):e.apply(t,r))}function ks(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ks=function(){return!!t})()}function xs(){return xs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ss(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},xs.apply(this,arguments)}function Ss(t){return Ss=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ss(t)}function Ps(t,e){return Ps=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ps(t,e)}function Es(t){return Es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(t)}function Cs(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ts(n.key),n)}}function Ts(t){var e=function(t,e){if("object"!=Es(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Es(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Es(e)?e:e+""}function As(t,e,r){return e=Ls(e),function(t,e){if(e&&("object"===Es(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Is()?Reflect.construct(e,r||[],Ls(t).constructor):e.apply(t,r))}function Is(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Is=function(){return!!t})()}function Rs(){return Rs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ls(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Rs.apply(this,arguments)}function Ls(t){return Ls=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ls(t)}function Ns(t,e){return Ns=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ns(t,e)}r(9868);var Bs={ace:B,array:kt,arrayChoices:zt,arraySelect2:Kt,arraySelectize:ae,autocomplete:ye,base64:ke,button:Re,checkbox:ze,choices:ar,datetime:yr,describedBy:kr,enum:Lr,hidden:Hr,info:Kr,integer:yn,ip:kn,jodit:Rn,multiple:ni,multiselect:Rt,boolean:wo,tagmultiselect:pi,popup:Hi,survey:lo,datatable:Qi,tree:Co,null:Do,number:sn,object:Li,radio:Uo,sceditor:ea,select:Ke,select2:la,selectize:ga,signature:Pa,simplemde:Ba,starrating:Ga,stepper:rs,string:P,table:hs,upload:function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ys(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gs(t,e)}(e,t),r=e,(n=[{key:"getNumColumns",value:function(){return 4}},{key:"build",value:function(){var t=this;if(this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle(),this.isRequired())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.translateProperty(this.options.infoText))),this.options.hidden&&(this.container.style.display="none"),this.options=this.expandCallbacks("upload",a({},{title:"Browse",icon:"",auto_upload:!1,hide_input:!1,enable_drag_drop:!1,drop_zone_text:"Drag & Drop file here",drop_zone_top:!1,alt_drop_zone:"",mime_type:"",max_upload_size:0,upload_handler:function(t,e,r,n){window.alert('No upload_handler defined for "'.concat(t.path,'". You must create your own handler to enable upload to server'))}},this.defaults.options.upload||{},this.options.upload||{})),this.options.mime_type=this.options.mime_type?[].concat(this.options.mime_type):[],this.input=this.theme.getFormInputField("hidden",this),this.container.appendChild(this.input),!this.schema.readOnly&&!this.schema.readonly){if("function"!=typeof this.options.upload_handler)throw new Error("Upload handler required for upload editor");if(this.uploader=this.theme.getFormInputField("file",this),this.uploader.style.display="none",this.options.mime_type.length&&this.uploader.setAttribute("accept",this.options.mime_type),!0===this.options.enable_drag_drop&&!0===this.options.hide_input||(this.clickHandler=function(e){t.uploader.dispatchEvent(new window.MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}))},this.browseButton=this.getButton({label:this.options.title,icon:this.options.icon,title:this.options.title}),this.browseButton.addEventListener("click",this.clickHandler),this.fileDisplay=this.theme.getFormInputField("text",this),this.fileDisplay.setAttribute("readonly",!0),this.fileDisplay.value="No file selected.",this.fileDisplay.addEventListener("dblclick",this.clickHandler),this.fileUploadGroup=this.theme.getInputGroup(this.fileDisplay,[this.browseButton]),this.fileUploadGroup||(this.fileUploadGroup=document.createElement("div"),this.fileUploadGroup.appendChild(this.fileDisplay),this.fileUploadGroup.appendChild(this.browseButton))),!0===this.options.enable_drag_drop){if(""!==this.options.alt_drop_zone){if(this.altDropZone=document.querySelector(this.options.alt_drop_zone),!this.altDropZone)throw new Error('Error: alt_drop_zone selector "'.concat(this.options.alt_drop_zone,'" not found!'));this.dropZone=this.altDropZone}else this.dropZone=this.theme.getDropZone(this.options.drop_zone_text);this.dropZone&&(this.dropZone.classList.add("upload-dropzone"),this.dropZone.addEventListener("dblclick",this.clickHandler))}this.uploadHandler=function(e){e.preventDefault(),e.stopPropagation();var r=e.target.files||e.dataTransfer.files;if(r&&r.length)if(0!==t.options.max_upload_size&&r[0].size>t.options.max_upload_size)t.theme.addInputError(t.uploader,"".concat(t.translate("upload_max_size")," ").concat(t.options.max_upload_size));else if(0===t.options.mime_type.length||t.isValidMimeType(r[0].type,t.options.mime_type)){t.fileDisplay&&(t.fileDisplay.value=r[0].name);var n=new window.FileReader;n.onload=function(e){t.preview_value=e.target.result,t.refreshPreview(r),t.onChange(!0),n=null},n.readAsDataURL(r[0])}else t.theme.addInputError(t.uploader,"".concat(t.translate("upload_wrong_file_format")," ").concat(t.options.mime_type.toString()))},this.uploader.addEventListener("change",this.uploadHandler),this.dragHandler=function(e){var r=e.dataTransfer.items||e.dataTransfer.files,n=r&&r.length&&(0===t.options.mime_type.length||t.isValidMimeType(r[0].type,t.options.mime_type)),i=e.currentTarget.classList&&e.currentTarget.classList.contains("upload-dropzone")&&n;switch((e.currentTarget===window?"w_":"e_")+e.type){case"w_drop":case"w_dragover":i||(e.dataTransfer.dropEffect="none");break;case"e_dragenter":i?(t.dropZone.classList.add("valid-dropzone"),e.dataTransfer.dropEffect="copy"):t.dropZone.classList.add("invalid-dropzone");break;case"e_dragover":i&&(e.dataTransfer.dropEffect="copy");break;case"e_dragleave":t.dropZone.classList.remove("valid-dropzone","invalid-dropzone");break;case"e_drop":t.dropZone.classList.remove("valid-dropzone","invalid-dropzone"),i&&t.uploadHandler(e)}i||e.preventDefault()},!0===this.options.enable_drag_drop&&(["dragover","drop"].forEach((function(e){window.addEventListener(e,t.dragHandler,!0)})),["dragenter","dragover","dragleave","drop"].forEach((function(e){t.dropZone.addEventListener(e,t.dragHandler,!0)})))}this.preview=document.createElement("div"),this.control=this.input.controlgroup=this.theme.getFormControl(this.label,this.uploader||this.input,this.description,this.infoButton,this),this.uploader&&(this.uploader.controlgroup=this.control);var e=this.uploader||this.input,r=document.createElement("div");this.dropZone&&!this.altDropZone&&!0===this.options.drop_zone_top&&r.appendChild(this.dropZone),this.fileUploadGroup&&r.appendChild(this.fileUploadGroup),this.dropZone&&!this.altDropZone&&!0!==this.options.drop_zone_top&&r.appendChild(this.dropZone),r.appendChild(this.preview),e.parentNode.insertBefore(r,e.nextSibling),this.container.appendChild(this.control),window.requestAnimationFrame((function(){t.afterInputReady()}))}},{key:"afterInputReady",value:function(){var t=this;if(this.value){var e=document.createElement("img");e.style.maxWidth="100%",e.style.maxHeight="100px",e.onload=function(r){t.preview.appendChild(e)},e.onerror=function(t){console.error("upload error",t,t.currentTarget)},e.src=this.container.querySelector("a").href}this.theme.afterInputReady(this.input)}},{key:"refreshPreview",value:function(t){var e=this;if(this.last_preview!==this.preview_value&&(this.last_preview=this.preview_value,this.preview.innerHTML="",this.preview_value)){var r=t[0],n=this.preview_value.match(/^data:([^;,]+)[;,]/);if(r.mimeType=n?n[1]:"unknown",r.size>0){var i=Math.floor(Math.log(r.size)/Math.log(1024));r.formattedSize="".concat(parseFloat((r.size/Math.pow(1024,i)).toFixed(2))," ").concat(["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][i])}else r.formattedSize="0 Bytes";var o=this.getButton({label:"button_upload",icon:"upload",title:"button_upload"});o.addEventListener("click",(function(t){t.preventDefault(),o.setAttribute("disabled","disabled"),e.theme.removeInputError(e.uploader),e.theme.getProgressBar&&(e.progressBar=e.theme.getProgressBar(),e.preview.appendChild(e.progressBar)),e.options.upload_handler(e.path,r,{success:function(t){e.setValue(t),e.parent?e.parent.onChildEditorChange(e):e.jsoneditor.onChange(),e.progressBar&&e.preview.removeChild(e.progressBar),o.removeAttribute("disabled")},failure:function(t){e.theme.addInputError(e.uploader,t),e.progressBar&&e.preview.removeChild(e.progressBar),o.removeAttribute("disabled")},updateProgress:function(t){e.progressBar&&(t?e.theme.updateProgressBar(e.progressBar,t):e.theme.updateProgressBarUnknown(e.progressBar))}})})),this.preview.appendChild(this.theme.getUploadPreview(r,o,this.preview_value)),this.options.auto_upload&&(o.dispatchEvent(new window.MouseEvent("click")),o.parentNode.removeChild(o))}}},{key:"enable",value:function(){this.always_disabled||(this.uploader&&(this.uploader.disabled=!1),vs(bs(e.prototype),"enable",this).call(this))}},{key:"disable",value:function(t){t&&(this.always_disabled=!0),this.uploader&&(this.uploader.disabled=!0),vs(bs(e.prototype),"disable",this).call(this)}},{key:"setValue",value:function(t){t=this.applyConstFilter(t),this.value!==t&&(this.value=t,this.input.value=this.value,this.onChange())}},{key:"destroy",value:function(){var t=this;!0===this.options.enable_drag_drop&&(["dragover","drop"].forEach((function(e){window.removeEventListener(e,t.dragHandler,!0)})),["dragenter","dragover","dragleave","drop"].forEach((function(e){t.dropZone.removeEventListener(e,t.dragHandler,!0)})),this.dropZone.removeEventListener("dblclick",this.clickHandler),this.dropZone&&this.dropZone.parentNode&&this.dropZone.parentNode.removeChild(this.dropZone)),this.uploader&&this.uploader.parentNode&&(this.uploader.removeEventListener("change",this.uploadHandler),this.uploader.parentNode.removeChild(this.uploader)),this.browseButton&&this.browseButton.parentNode&&(this.browseButton.removeEventListener("click",this.clickHandler),this.browseButton.parentNode.removeChild(this.browseButton)),this.fileDisplay&&this.fileDisplay.parentNode&&(this.fileDisplay.removeEventListener("dblclick",this.clickHandler),this.fileDisplay.parentNode.removeChild(this.fileDisplay)),this.fileUploadGroup&&this.fileUploadGroup.parentNode&&this.fileUploadGroup.parentNode.removeChild(this.fileUploadGroup),this.preview&&this.preview.parentNode&&this.preview.parentNode.removeChild(this.preview),this.header&&this.header.parentNode&&this.header.parentNode.removeChild(this.header),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),vs(bs(e.prototype),"destroy",this).call(this)}},{key:"isValidMimeType",value:function(t,e){return e.reduce((function(e,r){return e||new RegExp(r.replace(/\*/g,".*"),"gi").test(t)}),!1)}}])&&fs(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(b),uuid:function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),js(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ps(t,e)}(e,t),r=e,(n=[{key:"preBuild",value:function(){xs(Ss(e.prototype),"preBuild",this).call(this),this.schema.default=this.uuid=this.getUuid(),this.schema.options||(this.schema.options={}),this.schema.options.cleave||(this.schema.options.cleave={delimiters:["-"],blocks:[8,4,4,4,12]})}},{key:"build",value:function(){xs(Ss(e.prototype),"build",this).call(this),this.disable(!0),this.input.setAttribute("readonly","true")}},{key:"sanitize",value:function(t){return this.testUuid(t)||(t=this.uuid),t}},{key:"setValue",value:function(t,r,n){t=this.applyConstFilter(t),this.testUuid(t)||(t=this.uuid),this.uuid=t,xs(Ss(e.prototype),"setValue",this).call(this,t,r,n)}},{key:"getUuid",value:function(){return t=(new Date).getTime(),"undefined"!=typeof performance&&"function"==typeof performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var r=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?r:3&r|8).toString(16)}));var t}},{key:"testUuid",value:function(t){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}}])&&Os(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(P),colorpicker:function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),As(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ns(t,e)}(e,t),r=e,(n=[{key:"postBuild",value:function(){window.Picker&&(this.input.type="text"),this.input.style.padding="3px"}},{key:"setValue",value:function(t,r,n){t=this.applyConstFilter(t);var i=Rs(Ls(e.prototype),"setValue",this).call(this,t,r,n);return this.picker_instance&&this.picker_instance.domElement&&i&&i.changed&&this.picker_instance.setColor(i.value,!0),i}},{key:"getNumColumns",value:function(){return 2}},{key:"afterInputReady",value:function(){Rs(Ls(e.prototype),"afterInputReady",this).call(this),this.createPicker(!0)}},{key:"disable",value:function(){if(Rs(Ls(e.prototype),"disable",this).call(this),this.picker_instance&&this.picker_instance.domElement){this.picker_instance.domElement.style.pointerEvents="none";for(var t=this.picker_instance.domElement.querySelectorAll("button"),r=0;r<t.length;r++)t[r].disabled=!0}}},{key:"enable",value:function(){if(Rs(Ls(e.prototype),"enable",this).call(this),this.picker_instance&&this.picker_instance.domElement){this.picker_instance.domElement.style.pointerEvents="auto";for(var t=this.picker_instance.domElement.querySelectorAll("button"),r=0;r<t.length;r++)t[r].disabled=!1}}},{key:"destroy",value:function(){this.createPicker(!1),Rs(Ls(e.prototype),"destroy",this).call(this)}},{key:"createPicker",value:function(t){var e=this;if(t){if(window.Picker&&!this.picker_instance){var r=this.expandCallbacks("colorpicker",a({},{editor:!1,alpha:!1,color:this.value,popup:"bottom"},this.defaults.options.colorpicker||{},this.options.colorpicker||{},{parent:this.container})),n=function(t){var r=e.picker_instance.settings.editorFormat,n=e.picker_instance.settings.alpha;e.setValue("hex"===r?n?t.hex:t.hex.slice(0,7):t["".concat(r+(n?"a":""),"String")])};r.popup||"function"==typeof r.onChange?r.popup&&"function"!=typeof r.onDone&&(r.onDone=n):r.onChange=n,this.picker_instance=new window.Picker(r),r.popup||(this.input.style.display="none",this.theme.afterInputReady(this.picker_instance.domElement))}}else this.picker_instance&&(this.picker_instance.destroy(),this.picker_instance=null,this.input.style.display="")}}])&&Cs(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(P)};function Ds(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Fs={},Vs="en",Ms=Vs;Fs.en={error_notset:"Property must be set",error_notempty:"Value required",error_enum:"Value must be one of the enumerated values",error_const:"Value must be the constant value",error_anyOf:"Value must validate against at least one of the provided schemas",error_oneOf:"Value must validate against exactly one of the provided schemas. It currently validates against {{0}} of the schemas.",error_not:"Value must not validate against the provided schema",error_type_union:"Value must be one of the provided types",error_type:"Value must be of type {{0}}",error_disallow_union:"Value must not be one of the provided disallowed types",error_disallow:"Value must not be of type {{0}}",error_multipleOf:"Value must be a multiple of {{0}}",error_maximum_excl:"Value must be less than {{0}}",error_maximum_incl:"Value must be at most {{0}}",error_minimum_excl:"Value must be greater than {{0}}",error_minimum_incl:"Value must be at least {{0}}",error_maxLength:"Value must be at most {{0}} characters long",error_contains:"No items match contains",error_minContains:"Contains match count {{0}} is less than minimum contains count of {{1}}",error_maxContains:"Contains match count {{0}} exceeds maximum contains count of {{1}}",error_minLength:"Value must be at least {{0}} characters long",error_pattern:"Value must match the pattern {{0}}",error_additionalItems:"No additional items allowed in this array",error_maxItems:"Value must have at most {{0}} items",error_minItems:"Value must have at least {{0}} items",error_uniqueItems:"Array must have unique items",error_maxProperties:"Object must have at most {{0}} properties",error_minProperties:"Object must have at least {{0}} properties",error_required:"Object is missing the required property '{{0}}'",error_additional_properties:"No additional properties allowed, but property {{0}} is set",error_property_names_exceeds_maxlength:"Property name {{0}} exceeds maxLength",error_property_names_enum_mismatch:"Property name {{0}} does not match any enum values",error_property_names_const_mismatch:"Property name {{0}} does not match the const value",error_property_names_pattern_mismatch:"Property name {{0}} does not match pattern",error_property_names_false:"Property name {{0}} fails when propertyName is false",error_property_names_maxlength:"Property name {{0}} cannot match invalid maxLength",error_property_names_enum:"Property name {{0}} cannot match invalid enum",error_property_names_pattern:"Property name {{0}} cannot match invalid pattern",error_property_names_unsupported:"Unsupported propertyName {{0}}",error_dependency:"Must have property {{0}}",error_date:"Date must be in the format {{0}}",error_time:"Time must be in the format {{0}}",error_datetime_local:"Datetime must be in the format {{0}}",error_invalid_epoch:"Date must be greater than 1 January 1970",error_ipv4:"Value must be a valid IPv4 address in the form of 4 numbers between 0 and 255, separated by dots",error_ipv6:"Value must be a valid IPv6 address",error_hostname:"The hostname has the wrong format",upload_max_size:"Filesize too large. Max size is ",upload_wrong_file_format:"Wrong file format. Allowed format(s): ",button_save:"Save",button_copy:"Copy",button_cancel:"Cancel",button_add:"Add",button_delete_all:"All",button_delete_all_title:"Delete All",button_delete_last:"Last {{0}}",button_delete_last_title:"Delete Last {{0}}",button_add_row_title:"Add {{0}}",button_move_down_title:"Move down",button_move_up_title:"Move up",button_properties:"Properties",button_object_properties:"Object Properties",button_copy_row_title:"Copy {{0}}",button_delete_row_title:"Delete {{0}}",button_delete_row_title_short:"Delete",button_copy_row_title_short:"Copy",button_collapse:"Collapse",button_expand:"Expand",button_edit_json:"Edit JSON",button_upload:"Upload",flatpickr_toggle_button:"Toggle",flatpickr_clear_button:"Clear",choices_placeholder_text:"Start typing to add value",default_array_item_title:"item",button_delete_node_warning:"Are you sure you want to remove this item?",table_controls:"Controls",paste_max_length_reached:"Pasted text exceeded maximum length of {{0}} and will be clipped."},Object.entries(Bs).forEach((function(t){var e=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ds(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ds(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),r=e[0],n=e[1];Bs[r].options=n.options||{}}));var $s={options:{upload:function(t,e,r){console.log("Upload handler required for upload editor")},use_name_attributes:!0,prompt_before_delete:!0,use_default_values:!0,max_depth:0,button_state_mode:1,case_sensitive_property_search:!0,show_errors:"interaction",prompt_paste_max_length_reached:!1,remove_false_properties:!1,enforce_const:!1,opt_in_widget:"checkbox"},theme:"html",template:"default",themes:{},callbacks:{},templates:{},iconlibs:{},editors:Bs,languages:Fs,resolvers:t,custom_validators:[],default_language:Vs,language:Ms,translate:function(t,e,r){var n={};r&&r.options&&r.options.error_messages&&r.options.error_messages[$s.language]&&(n=r.options.error_messages[$s.language]);var i=$s.languages[$s.language];if(!i)throw new Error("Unknown language ".concat($s.language));var o=n[t]||i[t]||$s.languages[Vs][t]||t;if(e)for(var a=0;a<e.length;a++)o=o.replace(new RegExp("\\{\\{".concat(a,"}}"),"g"),e[a]);return o},translateProperty:function(t,e){return t}};function zs(){zs=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof v?e:v,a=Object.create(o.prototype),s=new T(n||[]);return i(a,"_invoke",{value:S(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",f="suspendedYield",d="executing",y="completed",m={};function v(){}function b(){}function g(){}var w={};c(w,a,(function(){return this}));var O=Object.getPrototypeOf,_=O&&O(O(A([])));_&&_!==r&&n.call(_,a)&&(w=_);var j=g.prototype=v.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==Gs(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function S(e,r,n){var i=p;return function(o,a){if(i===d)throw Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=P(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var c=h(e,r,n);if("normal"===c.type){if(i=n.done?y:f,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=y,n.method="throw",n.arg=c.arg)}}}function P(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,P(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(Gs(e)+" is not iterable")}return b.prototype=g,i(j,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:b,configurable:!0}),b.displayName=c(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},k(x.prototype),c(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new x(l(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(j),c(j,u,"Generator"),c(j,a,(function(){return this})),c(j,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;C(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Hs(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Ws(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Hs(o,n,i,a,s,"next",t)}function s(t){Hs(o,n,i,a,s,"throw",t)}a(void 0)}))}}function qs(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Us(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Us(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Us(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Gs(t){return Gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(t)}function Js(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zs(n.key),n)}}function Zs(t){var e=function(t,e){if("object"!=Gs(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Gs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Gs(e)?e:e+""}r(1688);var Ys=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e||{},this.schema={},this.refs=this.options.refs||{},this.refs_with_info={},this.refs_prefix="#/counter/",this.refs_counter=1,this._subSchema1={type:function(t){"object"===Gs(t.type)&&(t.type=this._expandSubSchema(t.type))},disallow:function(t){"object"===Gs(t.disallow)&&(t.disallow=this._expandSubSchema(t.disallow))},anyOf:function(t){var e=this;Object.entries(t.anyOf).forEach((function(r){var n=qs(r,2),i=n[0],o=n[1];t.anyOf[i]=e.expandSchema(o)}))},dependencies:function(t){var e=this;Object.entries(t.dependencies).forEach((function(r){var n=qs(r,2),i=n[0],o=n[1];"object"!==Gs(o)||Array.isArray(o)||(t.dependencies[i]=e.expandSchema(o))}))},not:function(t){t.not=this.expandSchema(t.not)}},this._subSchema2={allOf:function(t,e){var r=this,n=a({},e);return Object.entries(t.allOf).forEach((function(e){var i=qs(e,2),o=i[0],a=i[1];t.allOf[o]=r.expandRefs(a,!0),n=r.extendSchemas(n,r.expandSchema(a))})),delete n.allOf,n},extends:function(t,e){var r,n=this;return delete(r=Array.isArray(t.extends)?t.extends.reduce((function(t,e,r){return n.extendSchemas(t,n.expandSchema(e))}),e):this.extendSchemas(e,this.expandSchema(t.extends))).extends,r},oneOf:function(t,e){var r=this,n=a({},e);return delete n.oneOf,t.oneOf.reduce((function(t,e,i){return t.oneOf[i]=r.extendSchemas(r.expandSchema(e),n),t}),e),e}}},e=[{key:"load",value:(n=Ws(zs().mark((function t(e,r,n){return zs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.schema=e,t.next=3,this._asyncloadExternalRefs(e,r,this._getFileBase(n),!0);case 3:return t.abrupt("return",this.expandRefs(e));case 4:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return n.apply(this,arguments)})},{key:"expandRefs_",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set,n=a({},t);if(!n.$ref)return n;if(r.has(n.$ref))return n;r.add(n.$ref);var i,o=n.$ref.split("#"),s=o[0],u=o[1]?"#"+o[1]:"";if(n.$ref.startsWith(this.refs_prefix)){var c=this.refs_with_info[n.$ref];if(!c)return n;var l=this.refs[c.$ref]||this.schema;i=u?this.expandRecursivePointer(l,u):l}else if(s){var h=this.refs[s];if(!h)return n;i=u?this.expandRecursivePointer(h,u):h}else i=u?this.expandRecursivePointer(this.schema,u):this.schema;var p=this.expandSchema(i,e,r);return this.extendSchemas(n,p)}},{key:"expandRefs",value:function(t,e){var r=this,n=a({},t);if(!n.$ref)return n;var i=n.$ref.split("#");if(2===i.length&&!this.refs_with_info[n.$ref]){var o=this.expandRecursivePointer(this.schema,i[1]),s=this.extendSchemas(n,this.expandSchema(o));return delete s.$ref,s}var u=i.length>2?this.refs_with_info["#"+i[1]]:this.refs_with_info[n.$ref];delete n.$ref;var l=u.$ref.startsWith("#")?u.fetchUrl:"",h=this._getRef(l,u);if(this.refs[h]){if(e&&c(this.refs[h],"allOf")){var p=this.refs[h].allOf;Object.keys(p).forEach((function(t){p[t]=r.expandRefs(p[t],!0)}))}}else console.warn("reference:'".concat(h,"' not found!"));return i.length>2?this.extendSchemas(n,this.expandSchema(this.expandRecursivePointer(this.refs[h],i[2]))):this.extendSchemas(n,this.expandSchema(this.refs[h]))}},{key:"expandRecursivePointer",value:function(t,e){var r=t;return e.split("/").slice(1).forEach((function(t){r[t]&&(r=r[t])})),r.$refs&&r.$ref.startsWith("#")?this.expandRecursivePointer(t,r.$ref):r}},{key:"expandSchema",value:function(t){var e=this;Object.entries(this._subSchema1).forEach((function(r){var n=qs(r,2),i=n[0],o=n[1];t[i]&&o.call(e,t)}));var r=a({},t);return Object.entries(this._subSchema2).forEach((function(n){var i=qs(n,2),o=i[0],a=i[1];t[o]&&(r=a.call(e,t,r))})),this.expandRefs(r)}},{key:"_getRef",value:function(t,e){var r=t+e;return this.refs[r]?r:t+decodeURIComponent(e.$ref)}},{key:"_expandSubSchema",value:function(t){var e=this;return Array.isArray(t)?t.map((function(t){return"object"===Gs(t)?e.expandSchema(t):t})):this.expandSchema(t)}},{key:"_manageRecursivePointer",value:function(t,e){Object.keys(t).forEach((function(r){null!==t[r]&&t[r].$ref&&0===t[r].$ref.indexOf("#")&&(t[r].$ref=e+t[r].$ref)}))}},{key:"_getExternalRefs",value:function(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n||this._manageRecursivePointer(t,e);var i={},o=function(t){return Object.keys(t).forEach((function(t){i[t]=!0}))};if(t.$ref&&"object"!==Gs(t.$ref)&&(0!==t.$ref.indexOf("#")||!n)){var a=t.$ref,s="";a.indexOf("#")>0&&(a=a.substr(0,a.indexOf("#"))),a!==t.$ref&&(s=t.$ref.substr(t.$ref.indexOf("#")));var u=this.refs_prefix+this.refs_counter++,c=u+s;"#"===t.$ref.substr(0,1)||this.refs[t.$ref]||(i[a]=!0),this.refs_with_info[u]={fetchUrl:e,$ref:a},t.$ref=c}return Object.values(t).forEach((function(t){t&&"object"===Gs(t)&&(Array.isArray(t)?Object.values(t).forEach((function(t){t&&"object"===Gs(t)&&o(r._getExternalRefs(t,e,n))})):t.$ref&&"string"==typeof t.$ref&&t.$ref.startsWith("#")||o(r._getExternalRefs(t,e,n)))})),t.id&&"string"==typeof t.id&&"urn:"===t.id.substr(0,4)?this.refs[t.id]=t:t.$id&&"string"==typeof t.$id&&"urn:"===t.$id.substr(0,4)&&(this.refs[t.$id]=t),i}},{key:"_getFileBase",value:function(t){if(!t)return"/";var e=this.options.ajaxBase;return void 0===e?this._getFileBaseFromFileLocation(t):e}},{key:"_getFileBaseFromFileLocation",value:function(t){var e=t.split("/");return e.pop(),"".concat(e.join("/"),"/")}},{key:"_joinUrl",value:function(t,e){var r=t;return"http://"!==t.substr(0,7)&&"https://"!==t.substr(0,8)&&"blob:"!==t.substr(0,5)&&"data:"!==t.substr(0,5)&&"#"!==t.substr(0,1)&&"/"!==t.substr(0,1)&&(r=e+t),r.indexOf("#")>0&&(r=r.substr(0,r.indexOf("#"))),r}},{key:"_isUniformResourceName",value:function(t){return"urn:"===t.substr(0,4)}},{key:"_hasProtocol",value:function(t){return t.startsWith("http://")||t.startsWith("https://")||t.startsWith("//")||t.startsWith("blob:")||t.startsWith("data:")||t.startsWith("#")||t.startsWith("/")}},{key:"_asyncloadExternalRefs",value:(r=Ws(zs().mark((function t(e,r,n){var i,o,a,s,u,c,l=this,h=arguments;return zs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=h.length>3&&void 0!==h[3]&&h[3],o=this._getExternalRefs(e,r,i),a=0,s=zs().mark((function t(){var e,r,i,o,s,h,p,f,d,y,m,v,b;return zs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==(e=c[u])){t.next=3;break}return t.abrupt("return",0);case 3:if(!l.refs[e]){t.next=5;break}return t.abrupt("return",0);case 5:if(!l._isUniformResourceName(e)){t.next=40;break}if(l.refs[e]="loading",a++,r=l.options.urn_resolver,i=e,"function"==typeof r){t.next=13;break}throw console.log('No "urn_resolver" callback defined to resolve "'.concat(i,'"')),new Error("Must set urn_resolver option to a callback to resolve ".concat(i));case 13:return i.indexOf("#")>0&&(i=i.substr(0,i.indexOf("#"))),t.prev=14,t.next=17,r(i);case 17:o=t.sent,t.prev=18,s=JSON.parse(o),t.next=26;break;case 22:throw t.prev=22,t.t0=t.catch(18),console.log(t.t0),new Error("Failed to parse external ref ".concat(i));case 26:if(!("boolean"!=typeof s&&"object"!==Gs(s)||null===s||Array.isArray(s))){t.next=28;break}throw new Error("External ref does not contain a valid schema - ".concat(i));case 28:return l.refs[e]=s,t.next=31,l._asyncloadExternalRefs(s,e,n);case 31:t.next=37;break;case 33:throw t.prev=33,t.t1=t.catch(14),console.log(t.t1),new Error("Failed to parse external ref ".concat(i));case 37:if("boolean"!=typeof o){t.next=39;break}throw new Error("External ref does not contain a valid schema - ".concat(i));case 39:return t.abrupt("return",0);case 40:if(l.options.ajax){t.next=42;break}throw new Error("Must set ajax option to true to load external ref ".concat(e));case 42:if(a++,p=!1,"function"!=typeof l.options.ajaxUrl||l._hasProtocol(e)||(f=l.options.ajaxUrl(e,n))!==e&&(h=f,p=!0),p||(h=l._joinUrl(e,n)),l.options.ajax_cache_responses&&(y=l.cacheGet(h))&&(d=y),d){t.next=63;break}return t.next=50,new Promise((function(t){var e=new XMLHttpRequest;l.options.ajaxCredentials&&(e.withCredentials=l.options.ajaxCredentials),e.overrideMimeType("application/json"),e.open("GET",h,!0),e.onload=function(){t(e)},e.onerror=function(e){t(void 0)},e.send()}));case 50:if(void 0!==(m=t.sent)){t.next=53;break}throw new Error("Failed to fetch ref via ajax - ".concat(e));case 53:t.prev=53,d=JSON.parse(m.responseText),l.onSchemaLoaded({schema:d,schemaUrl:h}),l.options.ajax_cache_responses&&l.cacheSet(h,d),t.next=63;break;case 59:throw t.prev=59,t.t2=t.catch(53),console.log(t.t2),new Error("Failed to parse external ref ".concat(h));case 63:if(!("boolean"!=typeof d&&"object"!==Gs(d)||null===d||Array.isArray(d))){t.next=65;break}throw new Error("External ref does not contain a valid schema - ".concat(h));case 65:return l.refs[e]=d,v=p?n:l._getFileBaseFromFileLocation(h),p||h===e||(b=h.split("/"),h=("/"===e.substr(0,1)?"/":"")+b.pop()),t.next=70,l._asyncloadExternalRefs(d,h,v);case 70:case"end":return t.stop()}}),t,null,[[14,33],[18,22],[53,59]])})),u=0,c=Object.keys(o);case 5:if(!(u<c.length)){t.next=13;break}return t.delegateYield(s(),"t0",7);case 7:if(0!==t.t0){t.next=10;break}return t.abrupt("continue",10);case 10:u++,t.next=5;break;case 13:if(a){t.next=15;break}return t.abrupt("return",!0);case 15:this.onAllSchemasLoaded();case 16:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return r.apply(this,arguments)})},{key:"onSchemaLoaded",value:function(t){}},{key:"onAllSchemasLoaded",value:function(){}},{key:"extendSchemas",value:function(t,e){var r=this;t=a({},t),e=a({},e);var n={},i=function(t){"string"==typeof t&&(t=[t]),"string"==typeof e.type&&(e.type=[e.type]),e.type&&e.type.length?n.type=t.filter((function(t){return e.type.includes(t)})):n.type=t,1===n.type.length&&"string"==typeof n.type[0]?n.type=n.type[0]:0===n.type.length&&delete n.type};return Object.entries(t).forEach((function(t){var o=qs(t,2),a=o[0],s=o[1];void 0!==e[a]?function(t,o){!function(t,e){return("required"===t||"defaultProperties"===t)&&"object"===Gs(e)&&Array.isArray(e)}(t,o)?"type"!==t||"string"!=typeof o&&!Array.isArray(o)?"object"!==Gs(o)||Array.isArray(o)||null===o?n[t]=o:n[t]=r.extendSchemas(o,e[t]):i(o):n[t]=o.concat(e[t]).reduce((function(t,e){return t.includes(e)||t.push(e),t}),[])}(a,s):n[a]=s})),Object.entries(e).forEach((function(e){var r=qs(e,2),i=r[0],o=r[1];void 0===t[i]&&(n[i]=o)})),n}},{key:"getCacheKey",value:function(t){return["je-cache",t].join("::")}},{key:"getCacheBuster",value:function(){return this.options.ajax_cache_buster||(new Date).toISOString().slice(0,10)}},{key:"cacheSet",value:function(t,e){try{window.localStorage.setItem(this.getCacheKey(t),JSON.stringify({cacheBuster:this.getCacheBuster(),schema:e}))}catch(t){console.error(t)}}},{key:"cacheGet",value:function(t){try{var e=window.localStorage.getItem(this.getCacheKey(t));if(e){var r=JSON.parse(e);if(r.cacheBuster&&r.schema&&r.cacheBuster===this.getCacheBuster())return r.schema;this.cacheDelete(t)}}catch(t){console.error(t)}}},{key:"cacheDelete",value:function(t){window.localStorage.removeItem(this.getCacheKey(t))}}],e&&Js(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,n}(),Ks={default:function(){return{compile:function(t){var e=t.match(/{{\s*([a-zA-Z0-9\-_ .]+)\s*}}/g),r=e&&e.length;if(!r)return function(){return t};for(var n=[],i=function(t){var r,i,o=e[t].replace(/[{}]+/g,"").trim().split("."),a=o.length;a>1?r=function(e){for(i=e,t=0;t<a&&(i=i[o[t]]);t++);return i}:(o=o[0],r=function(t){return t[o]}),n.push({s:e[t],r})},o=0;o<r;o++)i(o);return function(e){for(var i,o="".concat(t),a=0;a<r;a++)i=n[a],o=o.replace(i.s,i.r(e));return o}}}},ejs:function(){return!!window.EJS&&{compile:function(t){var e=new window.EJS({text:t});return function(t){return e.render(t)}}}},handlebars:function(){return window.Handlebars},hogan:function(){return!!window.Hogan&&{compile:function(t){var e=window.Hogan.compile(t);return function(t){return e.render(t)}}}},lodash:function(){return!!window._&&{compile:function(t){return function(e){return window._.template(t)(e)}}}},markup:function(){return!(!window.Mark||!window.Mark.up)&&{compile:function(t){return function(e){return window.Mark.up(t,e)}}}},mustache:function(){return!!window.Mustache&&{compile:function(t){return function(e){return window.Mustache.render(t,e)}}}},swig:function(){return window.swig},underscore:function(){return!!window._&&{compile:function(t){return function(e){return window._.template(t)(e)}}}}};function Qs(t){return Qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(t)}function Xs(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tu(n.key),n)}}function tu(t){var e=function(t,e){if("object"!=Qs(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Qs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Qs(e)?e:e+""}var eu=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].find((function(t){return t in document.documentElement})),ru=function(){return t=function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{disable_theme_rules:!1};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.jsoneditor=e,Object.keys(r).forEach((function(t){void 0!==e.options[t]&&(r[t]=e.options[t])})),this.options=r},e=[{key:"getContainer",value:function(){return document.createElement("div")}},{key:"getOptInCheckbox",value:function(t){var e=document.createElement("span"),r=this.getHiddenLabel(t+" opt-in");r.setAttribute("for",t+"-opt-in"),r.textContent=t+"-opt-in";var n=document.createElement("input");return n.setAttribute("type","checkbox"),n.setAttribute("style","margin: 0 10px 0 0;"),n.setAttribute("id",t+"-opt-in"),n.classList.add("json-editor-opt-in"),e.appendChild(n),e.appendChild(r),{label:r,checkbox:n,container:e}}},{key:"getOptInSwitch",value:function(t){return this.getOptInCheckbox()}},{key:"getFloatRightLinkHolder",value:function(){var t=document.createElement("div");return t.classList.add("je-float-right-linkholder"),t}},{key:"getModal",value:function(){var t=document.createElement("div");return t.style.display="none",t.classList.add("je-modal"),t}},{key:"getGridContainer",value:function(){return document.createElement("div")}},{key:"getGridRow",value:function(){var t=document.createElement("div");return t.classList.add("row"),t}},{key:"getGridColumn",value:function(){return document.createElement("div")}},{key:"setGridColumnSize",value:function(t,e){}},{key:"getLink",value:function(t){var e=document.createElement("a");return e.setAttribute("href","#"),e.appendChild(document.createTextNode(t)),e}},{key:"disableHeader",value:function(t){t.style.color="#ccc"}},{key:"disableLabel",value:function(t){t.style.color="#ccc"}},{key:"enableHeader",value:function(t){t.style.color=""}},{key:"enableLabel",value:function(t){t.style.color=""}},{key:"getInfoButton",value:function(t){var e=document.createElement("span");e.innerText="ⓘ",e.classList.add("je-infobutton-icon");var r=document.createElement("span");return r.classList.add("je-infobutton-tooltip"),r.innerText=t,e.onmouseover=function(){r.style.visibility="visible"},e.onmouseleave=function(){r.style.visibility="hidden"},e.appendChild(r),e}},{key:"getFormInputLabel",value:function(t,e){var r=document.createElement("label");return r.appendChild(document.createTextNode(t)),e&&r.classList.add("required"),r}},{key:"getLabelLike",value:function(t,e){var r=document.createElement("b");return r.appendChild(document.createTextNode(t)),e&&r.classList.add("required"),r}},{key:"getHeader",value:function(t,e){var r=document.createElement("span");return"string"==typeof t?r.textContent=t:r.appendChild(t),r.classList.add("je-header"),r}},{key:"getCheckbox",value:function(){var t=this.getFormInputField("checkbox");return t.classList.add("je-checkbox"),t}},{key:"getCheckboxLabel",value:function(t,e){var r=document.createElement("label");return r.appendChild(document.createTextNode(" ".concat(t))),e&&r.classList.add("required"),r}},{key:"getMultiCheckboxHolder",value:function(t,e,r,n){var i=document.createElement("div");return i.classList.add("control-group"),e&&(e.style.display="block",i.appendChild(e),n&&e.appendChild(n)),Object.values(t).forEach((function(t){t.style.display="inline-block",t.style.marginRight="20px",i.appendChild(t)})),r&&i.appendChild(r),i}},{key:"getFormCheckboxControl",value:function(t,e,r){var n=document.createElement("div");return n.appendChild(t),e.style.width="auto",t.insertBefore(e,t.firstChild),r&&n.classList.add("je-checkbox-control--compact"),n}},{key:"getFormRadio",value:function(t){var e=this.getFormInputField("radio");return Object.keys(t).forEach((function(r){return e.setAttribute(r,t[r])})),e.classList.add("je-radio"),e}},{key:"getFormRadioLabel",value:function(t,e){var r=document.createElement("label");return r.appendChild(document.createTextNode(" ".concat(t))),e&&r.classList.add("required"),r}},{key:"getFormRadioControl",value:function(t,e,r,n){var i=document.createElement("div");return i.appendChild(t),e.style.width="auto",t.insertBefore(e,t.firstChild),r&&i.classList.add("je-radio-control--compact"),"div"!==e.tagName.toLowerCase()&&n&&t&&e&&(e.setAttribute("id",n),e.setAttribute("aria-labelledby",n),t.setAttribute("for",n)),i}},{key:"getSelectInput",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=document.createElement("select");return t&&this.setSelectOptions(n,t,[],r),n}},{key:"getSwitcher",value:function(t){var e=this.getSelectInput(t,!1);return e.classList.add("je-switcher"),e}},{key:"getSwitcherOptions",value:function(t){return t.getElementsByTagName("option")}},{key:"setSwitcherOptions",value:function(t,e,r){this.setSelectOptions(t,e,r)}},{key:"setSelectOptions",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:" ";if(t.innerHTML="",n){var o=document.createElement("option");o.setAttribute("value","_placeholder_"),o.textContent=i,o.setAttribute("disabled",""),o.setAttribute("hidden",""),t.appendChild(o)}for(var a=0;a<e.length;a++){var s=document.createElement("option");s.setAttribute("value",e[a]),s.textContent=r[a]||e[a],t.appendChild(s)}}},{key:"getTextareaInput",value:function(){var t=document.createElement("textarea");return t.classList.add("je-textarea"),t}},{key:"getHiddenLabel",value:function(t){var e=document.createElement("label");return e.textContent=t,e.setAttribute("style","position: absolute;width: 1px;height: 1px;padding: 0;margin: -1px;overflow: hidden;clip: rect(0,0,0,0);border: 0;"),e}},{key:"visuallyHidden",value:function(t){t&&t.setAttribute("style","position: absolute;width: 1px;height: 1px;padding: 0;margin: -1px;overflow: hidden;clip: rect(0,0,0,0);border: 0;")}},{key:"getHiddenText",value:function(t){var e=document.createElement("span");return e.textContent=t,e.setAttribute("style","position: absolute;width: 1px;height: 1px;padding: 0;margin: -1px;overflow: hidden;clip: rect(0,0,0,0);border: 0;"),e}},{key:"getRangeInput",value:function(t,e,r,n,i){var o=this.getFormInputField("range");return o.setAttribute("min",t),o.setAttribute("max",e),o.setAttribute("step",r),n&&(n.setAttribute("id",i+"-description"),o.setAttribute("aria-describedby",i+"-description")),o}},{key:"getStepperButtons",value:function(t){var e=document.createElement("div"),r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("stepper-down");var n=document.createElement("button");n.setAttribute("type","button"),n.classList.add("stepper-up"),t.getAttribute("readonly")&&(r.setAttribute("disabled",!0),n.setAttribute("disabled",!0)),r.textContent="-",n.textContent="+";var i=function(t,e){t.value=Number(e||t.value),t.setAttribute("initialized","1")},o=t.getAttribute("min"),a=t.getAttribute("max");return r.addEventListener("click",(function(){t.getAttribute("initialized")?o?Number(t.value)>Number(o)&&t.stepDown():t.stepDown():i(t,o),s(t,"change")})),n.addEventListener("click",(function(){t.getAttribute("initialized")?a?Number(t.value)<Number(a)&&t.stepUp():t.stepUp():i(t,o),s(t,"change")})),e.appendChild(r),e.appendChild(n),e}},{key:"getRangeOutput",value:function(t){var e=document.createElement("output"),r=function(t){e.value=t.currentTarget.value};return t.addEventListener("change",r,!1),t.addEventListener("input",r,!1),e}},{key:"getRangeControl",value:function(t,e){var r=document.createElement("div");return r.classList.add("je-range-control"),e&&r.appendChild(e),r.appendChild(t),r}},{key:"getFormInputField",value:function(t){var e=document.createElement("input");return e.setAttribute("type",t),e}},{key:"afterInputReady",value:function(t){}},{key:"getFormControl",value:function(t,e,r,n,i){var o=document.createElement("div");return o.classList.add("form-control"),t&&(o.appendChild(t),i&&t.setAttribute("for",i)),"checkbox"!==e.type&&"radio"!==e.type||!t?(n&&t&&t.appendChild(n),o.appendChild(e)):(e.style.width="auto",t.insertBefore(e,t.firstChild),n&&t.appendChild(n)),"div"!==e.tagName.toLowerCase()&&e&&t&&i&&(t.setAttribute("for",i),e.setAttribute("id",i)),"div"!==e.tagName.toLowerCase()&&e&&r&&(r.setAttribute("id",i+"-description"),e.setAttribute("aria-describedby",i+"-description")),r&&o.appendChild(r),o}},{key:"getIndentedPanel",value:function(){var t=document.createElement("div");return t.classList.add("je-indented-panel"),t}},{key:"getTopIndentedPanel",value:function(){var t=document.createElement("div");return t.classList.add("je-indented-panel--top"),t}},{key:"getChildEditorHolder",value:function(){return document.createElement("div")}},{key:"getDescription",value:function(t){var e=document.createElement("p");return window.DOMPurify?e.innerHTML=window.DOMPurify.sanitize(t):e.textContent=this.cleanText(t),e}},{key:"getCheckboxDescription",value:function(t){return this.getDescription(t)}},{key:"getFormInputDescription",value:function(t){return this.getDescription(t)}},{key:"getButtonHolder",value:function(){return document.createElement("span")}},{key:"getHeaderButtonHolder",value:function(){return this.getButtonHolder()}},{key:"getFormButtonHolder",value:function(t){return this.getButtonHolder()}},{key:"getButton",value:function(t,e,r){var n=document.createElement("button");return n.type="button",this.setButtonText(n,t,e,r),n}},{key:"getFormButton",value:function(t,e,r){return this.getButton(t,e,r)}},{key:"setButtonText",value:function(t,e,r,n){for(;t.firstChild;)t.removeChild(t.firstChild);if(r&&(t.appendChild(r),e=" ".concat(e)),!this.jsoneditor.options.iconlib||!this.jsoneditor.options.remove_button_labels||!r){var i=document.createElement("span");i.appendChild(document.createTextNode(e)),t.appendChild(i)}n&&t.setAttribute("title",n)}},{key:"getTableContainer",value:function(){return document.createElement("div")}},{key:"getTable",value:function(){return document.createElement("table")}},{key:"getTableRow",value:function(){return document.createElement("tr")}},{key:"getTableHead",value:function(){return document.createElement("thead")}},{key:"getTableBody",value:function(){return document.createElement("tbody")}},{key:"getTableHeaderCell",value:function(t){var e=document.createElement("th");return e.textContent=t,e}},{key:"getTableCell",value:function(){return document.createElement("td")}},{key:"getErrorMessage",value:function(t){var e=document.createElement("p");return e.style=e.style||{},e.style.color="red",e.appendChild(document.createTextNode(t)),e}},{key:"addInputError",value:function(t,e){t.errmsg.setAttribute("role","alert")}},{key:"removeInputError",value:function(t){}},{key:"addTableRowError",value:function(t){}},{key:"removeTableRowError",value:function(t){}},{key:"getTabHolder",value:function(t){var e=void 0===t?"":t,r=document.createElement("div");return r.innerHTML="<div class='je-tabholder tabs'></div><div class='content' id='".concat(e,"'></div><div class='je-tabholder--clear'></div>"),r}},{key:"getTopTabHolder",value:function(t){var e=void 0===t?"":t,r=document.createElement("div");return r.innerHTML="<div class='tabs je-tabholder--top'></div><div class='je-tabholder--clear'></div><div class='content' id='".concat(e,"'></div>"),r}},{key:"applyStyles",value:function(t,e){Object.keys(e).forEach((function(r){return t.style[r]=e[r]}))}},{key:"closest",value:function(t,e){for(;t&&t!==document;){if(!t[eu])return!1;if(t[eu](e))return t;t=t.parentNode}return!1}},{key:"insertBasicTopTab",value:function(t,e){e.firstChild.insertBefore(t,e.firstChild.firstChild)}},{key:"getTab",value:function(t,e){var r=document.createElement("div");return r.appendChild(t),r.id=e,r.classList.add("je-tab"),r}},{key:"getTopTab",value:function(t,e){var r=document.createElement("div");return r.appendChild(t),r.id=e,r.classList.add("je-tab--top"),r}},{key:"getTabContentHolder",value:function(t){return t.children[1]}},{key:"getTopTabContentHolder",value:function(t){return t.children[1]}},{key:"getTabContent",value:function(){return this.getIndentedPanel()}},{key:"getTopTabContent",value:function(){return this.getTopIndentedPanel()}},{key:"markTabActive",value:function(t){this.applyStyles(t.tab,{opacity:1,background:"white"}),void 0!==t.rowPane?t.rowPane.style.display="":t.container.style.display=""}},{key:"markTabInactive",value:function(t){this.applyStyles(t.tab,{opacity:.5,background:""}),void 0!==t.rowPane?t.rowPane.style.display="none":t.container.style.display="none"}},{key:"addTab",value:function(t,e){t.children[0].appendChild(e)}},{key:"addTopTab",value:function(t,e){t.children[0].appendChild(e)}},{key:"getBlockLink",value:function(){var t=document.createElement("a");return t.classList.add("je-block-link"),t}},{key:"getBlockLinkHolder",value:function(){return document.createElement("div")}},{key:"getLinksHolder",value:function(){return document.createElement("div")}},{key:"createMediaLink",value:function(t,e,r){t.appendChild(e),r.classList.add("je-media"),t.appendChild(r)}},{key:"createImageLink",value:function(t,e,r){t.appendChild(e),e.appendChild(r)}},{key:"getFirstTab",value:function(t){return t.firstChild.firstChild}},{key:"getInputGroup",value:function(t,e){}},{key:"cleanText",value:function(t){var e=document.createElement("div");return e.innerHTML=t,e.textContent||e.innerText}},{key:"getDropZone",value:function(t){var e=document.createElement("div");return e.setAttribute("data-text",t),e.classList.add("je-dropzone"),e}},{key:"getUploadPreview",value:function(t,e,r){var n=document.createElement("div");if(n.classList.add("je-upload-preview"),"image"===t.mimeType.substr(0,5)){var i=document.createElement("img");i.src=r,n.appendChild(i)}var o=document.createElement("div");o.innerHTML+="<strong>Name:</strong> ".concat(t.name,"<br><strong>Type:</strong> ").concat(t.type,"<br><strong>Size:</strong> ").concat(t.formattedSize),n.appendChild(o),n.appendChild(e);var a=document.createElement("div");return a.style.clear="left",n.appendChild(a),n}},{key:"getProgressBar",value:function(){var t=document.createElement("progress");return t.setAttribute("max",100),t.setAttribute("value",0),t}},{key:"updateProgressBar",value:function(t,e){t&&t.setAttribute("value",e)}},{key:"updateProgressBarUnknown",value:function(t){t&&t.removeAttribute("value")}}],e&&Xs(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function nu(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.labelWidget=e.labelWidget||null,nu.super.call(this,t,e),this.setupLabelElement()}function iu(t,e){iu.super.apply(this,arguments),this.label=e.label,this.level=e.level,this.icon=e.icon}function ou(t){ou.super.apply(this,arguments)}function au(t){au.super.apply(this,arguments)}function su(t){su.super.apply(this,arguments),this.isToggle=!0}function uu(t){return uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(t)}function cu(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return lu(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lu(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function lu(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pu(n.key),n)}}function pu(t){var e=function(t,e){if("object"!=uu(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=uu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==uu(e)?e:e+""}function fu(t,e,r){return e=yu(e),function(t,e){if(e&&("object"===uu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,du()?Reflect.construct(e,r||[],yu(t).constructor):e.apply(t,r))}function du(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(du=function(){return!!t})()}function yu(t){return yu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yu(t)}function mu(t,e){return mu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mu(t,e)}OO.inheritClass(nu,OO.ui.FieldLayout),nu.prototype.setupLabelElement=function(){var t=this;this.labelWidget?(this.$label=this.labelWidget.$element,this.$header.empty().append(this.$label),this.$label.on("click",(function(){t.fieldWidget.focus&&t.fieldWidget.focus()}))):this.label.match(/^\s*$/)&&this.$header.empty()},OO.inheritClass(iu,nt(OO.ui.PageLayout)),iu.prototype.setupOutlineItem=function(){iu.super.prototype.setupOutlineItem.call(this),this.outlineItem.setLevel(this.level).setLabel(this.label)},OO.inheritClass(ou,OO.ui.OutlineOptionWidget),ou.prototype.toggle=function(t){OO.ui.OutlineOptionWidget.prototype.toggle.call(this,t)},ou.static.levels=16,OO.inheritClass(au,nt(OO.ui.BookletLayout)),au.prototype.addPages=function(t,e){var r,n,i,o,a=this.stackLayout.getItems(),s=[],u=[];for(r=0,n=t.length;r<n;r++)if(o=(i=t[r]).getName(),Object.prototype.hasOwnProperty.call(this.pages,o)){var c=a.indexOf(this.pages[o]);-1!==c&&c+1<e&&e--,s.push(this.pages[o])}for(s.length&&this.removePages(s),r=0,n=t.length;r<n;r++)if(o=(i=t[r]).getName(),this.pages[i.getName()]=i,this.outlined){var l=new ou({data:o});l.toggle(!1),i.setOutlineItem(l),u.push(l)}return this.outlined&&this.outlineSelectWidget.addItems(u,e),this.stackLayout.addItems(t,e),this.emit("add",t,e),this},OO.inheritClass(su,OO.ui.ToggleSwitchWidget),OO.ui.ToggleSwitchWidget.prototype.onClick=function(t){if(!this.isDisabled()&&t.which===OO.ui.MouseButtons.LEFT){var e=!this.value;this.setValue(e),this.emit("toggled",e)}return!1},OO.ui.ToggleSwitchWidget.prototype.onKeyPress=function(t){if(!this.isDisabled()&&(t.which===OO.ui.Keys.SPACE||t.which===OO.ui.Keys.ENTER)){var e=!this.value;return this.setValue(e),this.emit("toggled",e),!1}};var vu={},bu=!1;OO.ui.OutlineOptionWidget.static.levels=16;var gu={oojs:function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),fu(this,e,[t,vu])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mu(t,e)}(e,t),r=e,(n=[{key:"append",value:function(t,e){if(t&&e)return t.$element&&(t=t.$element),e.$element&&(e=e.$element),$(t).append(e),e}},{key:"prepend",value:function(t,e){if(t&&e)return t.$element&&(t=t.$element),e.$element&&(e=e.$element),$(t).prepend(e),e}},{key:"closest",value:function(t,e){return $(t).closest(e)[0]||!1}},{key:"first",value:function(t){return $(t).children().first()}},{key:"firstChild",value:function(t){return this.first(t)}},{key:"parent",value:function(t){return $(t).parent()}},{key:"remove",value:function(t){$(t).remove()}},{key:"insertBefore",value:function(t,e){t&&e&&(t.$element&&(t=t.$element),e.$element&&(e=e.$element),$(t).insertBefore(e))}},{key:"setButtonText",value:function(t,e,r,n){t.setLabel(e)}},{key:"toggleDisplay",value:function(t,e){if("string"==typeof t&&(t=document.querySelector(t)),t instanceof jQuery&&(t=t[0]),t){var r=getComputedStyle(t).display;!0===e?t.style.display=t.dataset.display||("none"===r?"block":r):!1===e?(t.dataset.display="none"===r?t.dataset.display||"block":r,t.style.display="none"):"none"===r?t.style.display=t.dataset.display||"block":(t.dataset.display=r,t.style.display="none")}}},{key:"toggle",value:function(t,e){t&&(t.$element&&(t=t.$element),t instanceof OO.ui.Widget?t.toggle(e):this.toggleDisplay(t,e))}},{key:"isVisible",value:function(t){if(t)return t instanceof OO.ui.Widget?t.isVisible():"none"!==t.style.display}},{key:"buttonAction",value:function(t,e,r){t.on("click",(function(){r()}))}},{key:"getTextFromTitle",value:function(t){return t.getLabel()}},{key:"visuallyHidden",value:function(t){t.$element&&(t=t.$element),t&&t.setAttribute("style","position: absolute;width: 1px;height: 1px;padding: 0;margin: -1px;overflow: hidden;clip: rect(0,0,0,0);border: 0;")}},{key:"getHeader",value:function(t,e){return $("<h"+(null!=e?e:3)+' class="jsonforms-header">').text(t).get(0)}},{key:"updateHeaderText",value:function(t,e){$(t).text(e)}},{key:"getButton",value:function(t,e){return new(nt(OO.ui.ButtonWidget))(t)}},{key:"getFormButton",value:function(t,e,r){return this.getButton({label:t,icon:e,title:r})}},{key:"getFormInputDescription",value:function(t){return this.getDescription(t)}},{key:"getDescription",value:function(t){return t}},{key:"switcherSelectAction",value:function(t,e){t instanceof OO.ui.ButtonSelectWidget?t.on("choose",(function(t,r){e(t)})):t instanceof OO.ui.ButtonMenuSelectWidget&&t.getMenu().on("choose",(function(t,r){e(t)}))}},{key:"switcherSelecItemIndex",value:function(t,e){if(t instanceof OO.ui.ButtonSelectWidget){var r=t.getItems();t.selectItem(r[e])}else if(t instanceof OO.ui.ButtonMenuSelectWidget){var n=t.getMenu().getItems();t.getMenu().selectItem(n[e])}}},{key:"getSwitcher",value:function(t,e,r){var n,i;if(e.name||(e.name="button-menu"),"button-select"===e.name){for(var o in n=new(nt(OO.ui.ButtonSelectWidget))(e.config),i=[],t)i.push(new OO.ui.ButtonOptionWidget({data:o,label:t[o]}));n.addItems(i),n.selectItem(i[0])}else{for(var s in n=new(nt(OO.ui.ButtonMenuSelectWidget))(a({icon:"verticalEllipsis",framed:!1,classes:["jsonforms-switcher"],$overlay:!this.jsoneditor.options.dialog||this.jsoneditor.options.dialog.$overlay},e.config)),i=[],t)i.push(new OO.ui.MenuOptionWidget({data:s,label:t[s]}));n.getMenu().addItems(i),n.getMenu().selectItem(i[0])}return n}},{key:"setSelectOptions",value:function(t,e){}},{key:"getSelectInput",value:function(t,e){var r,n=e.config;switch(this.normalizeInputName(e.name)){case"radioselect":r=OO.ui.RadioSelectInputWidget;break;case"buttonselect":r=OO.ui.ButtonSelectWidget;break;default:r=OO.ui.DropdownInputWidget}return new(nt(r))(a({framed:!1,options:t},n))}},{key:"normalizeInputName",value:function(t){return(t=(t=(t=(t=(t||"").toLowerCase()).replace("oo.ui.","")).replace("inputwidget","")).replace("mw.widgets.","")).replace("widget","")}},{key:"getMultiSelect",value:function(t){var e=this.normalizeInputName(t.name);!e&&Array.isArray(t.config.options)&&t.config.options.length&&(e="menutagmultiselect");var r=null;switch(e){case"menutagmultiselect":r=OO.ui.MenuTagMultiselectWidget;break;case"checkboxmultiselect":r=OO.ui.CheckboxMultiselectInputWidget;break;case"categorymultiselect":r=mw.widgets.CategoryMultiselectWidget;break;case"usersmultiselect":r=mw.widgets.UsersMultiselectWidget;break;case"titlesmultiselect":r=mw.widgets.TitlesMultiselectWidget;break;default:r=OO.ui.TagMultiselectWidget}return new(nt(r))(a({allowArbitrary:!0},t.config))}},{key:"getIndexLayout",value:function(t){return new(nt(OO.ui.IndexLayout))(a({framed:!0,showMenu:!1,expanded:bu,scrollable:!1,padded:!1,autoFocus:!1},t))}},{key:"createTabLayoutPage",value:function(t,e,r){var n=t instanceof OO.ui.BookletLayout,i=t instanceof OO.ui.IndexLayout;return n||i?n?this.createBookletPage(t,e,r):this.createIndexLayoutPage(t,e,r):(console.warn("Not a BookletLayout or IndexLayout"),!1)}},{key:"createIndexLayoutPage",value:function(t,e,r){var n=function t(e,r){this.name=e,t.super.call(this,e,r)};OO.inheritClass(n,nt(OO.ui.TabPanelLayout)),n.prototype.setupTabItem=function(){this.tabItem.setLabel(this.name)},n.prototype.toggleCloseButton=function(){};var i=new n(e,{label:r,expanded:bu});return t.addTabPanels([i]),t.setTabPanel(e),i}},{key:"removeLayoutPage",value:function(t,e){var r=t instanceof OO.ui.BookletLayout,n=t instanceof OO.ui.IndexLayout;if(!r&&!n)return console.warn("Not a BookletLayout or IndexLayout"),!1;var i=r?"removePages":"removeTabPanels",o=t[r?"getPage":"getTabPanel"](e);return t[i]([o]),!0}},{key:"refreshTabsLayoutPages",value:function(t,e){var r=t instanceof OO.ui.BookletLayout,n=t instanceof OO.ui.IndexLayout;if(!r&&!n)return console.warn("Not a BookletLayout or IndexLayout"),!1;if(r){t.clearPages();var i,o=cu(e);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=this.createTabLayoutPage(t,a.title,a.title);this.append(s,a.container)}}catch(t){o.e(t)}finally{o.f()}}else{t.clearTabPanels();var u,c=cu(e);try{for(c.s();!(u=c.n()).done;){var l=u.value,h=this.createTabLayoutPage(t,l.title,l.title);this.append(h,l.container)}}catch(t){c.e(t)}finally{c.f()}}}},{key:"getTabsLayoutSelectedIndex",value:function(t){var e=t instanceof OO.ui.BookletLayout,r=t instanceof OO.ui.IndexLayout;if(!e&&!r)return console.warn("Not a BookletLayout or IndexLayout"),!1;if(e){var n=t.getCurrentPage();return Object.values(t.pages).indexOf(n)}var i=t.getCurrentTabPanel();return Object.values(t.tabPanels).indexOf(i)}},{key:"getTabsContainer",value:function(t){var e=new(nt(OO.ui.PanelLayout))({expanded:bu,scrollable:!1,framed:!0});return e.$element.append(t.$element),e}},{key:"getBooklet",value:function(t){return new(nt(OO.ui.BookletLayout))(a({outlined:!0,expanded:bu,scrollable:!1,padded:!1},t))}},{key:"createTreeWidget",value:function(t){return new au(a({outlined:!0,expanded:bu,scrollable:!1,padded:!1},t))}},{key:"createTreePage",value:function(t){return new iu(t.path,{label:t.key,level:t.depth,expanded:bu})}},{key:"makeTree",value:function(t,e){var r,n,i=t;i.clearPages(),i.addPages(e),i.setPage((null===(r=e[0])||void 0===r?void 0:r.name)||(null===(n=e[0])||void 0===n?void 0:n.path))}},{key:"createBookletPage",value:function(t,e,r,n){if(!t.pages[e]){var i=new iu(e,{label:r,expanded:bu,level:n});return t.addPages([i]),t.setPage(e),i}return t.pages[e]}},{key:"getHeaderButtonHolder",value:function(){return this.getButtonHolder()}},{key:"getButtonHolder",value:function(){return document.createElement("span")}},{key:"getTabContent",value:function(){var t=document.createElement("div");return t.classList.add("je-indented-panel"),t}},{key:"getTabContentHolder",value:function(t){return t.children[1]}},{key:"getTabHolder",value:function(t){var e=void 0===t?"":t,r=document.createElement("div");return r.innerHTML="<div class='je-tabholder tabs'></div><div class='content' id='".concat(e,"'></div><div class='je-tabholder--clear'></div>"),r}},{key:"getContainerOrig",value:function(){return document.createElement("div")}},{key:"getTab_",value:function(t,e){var r=document.createElement("div");return r.appendChild(t),r.id=e,r.classList.add("je-tab"),r}},{key:"addTab_",value:function(t,e){t.children[0].appendChild(e)}},{key:"getChildEditorHolder",value:function(){return document.createElement("div")}},{key:"getGridColumn",value:function(){return document.createElement("div")}},{key:"getChildEditorHolder_",value:function(){return new(nt(OO.ui.PanelLayout))({expanded:bu,scrollable:!1,framed:!1,padded:!1})}},{key:"treeNavigationFooter",value:function(t,e){return $('<div class="jsonforms-page-nav-footer"></div>')}},{key:"treeNavigationFooterButtons",value:function(t,e){if(e.left){var r=this.getButton({icon:"previous",label:e.left.label});r.classList.add("jsonforms-page-nav-left"),r.on("click",e.left.onClick),this.append(t,r)}if(e.right){var n=this.getButton({icon:"next",label:e.right.label});n.classList.add("jsonforms-page-nav-right"),n.on("click",e.right.onClick),this.append(t,n)}return t}},{key:"createBreadCrumbs",value:function(t){for(var e=this,r=$('<span class="jsonforms-breadcrumbs">'),n=[],i=t;i;)n.push({title:i.getTitle(),key:i.key,path:i.path,depth:i.depth}),i=i.parent;n.reverse();var o=n.length-1;return n.forEach((function(t,n){if(n>0&&r.append($('<span class="jsonforms-breadcrumbs-sep">').text(" → ")),n!==o){var i=$("<a>").text(t.title||t.key).addClass("jsonforms-breadcrumbs-link");i.on("click",(function(){e.jsoneditor.treeManager.handleEvent("breadCrumbsSelectPage",t)})),r.append(i)}else r.append($("<span>").text(t.title||t.key).addClass("jsonforms-breadcrumbs-current"))})),r}},{key:"getIndentedPanel",value:function(){return document.createElement("div")}},{key:"getFormInputFieldOrig",value:function(t){var e=document.createElement("input");return e.setAttribute("type",t),e}},{key:"getCheckbox",value:function(){var t=this.getFormInputFieldOrig("checkbox");return t.classList.add("je-checkbox"),t}},{key:"getCheckbox_",value:function(t){return new(nt(OO.ui.CheckboxInputWidget))(t||{})}},{key:"getFormControlOrig",value:function(t,e,r,n,i){var o=document.createElement("div");return o.classList.add("form-control"),t&&(o.appendChild(t),i&&t.setAttribute("for",i)),"checkbox"!==e.type&&"radio"!==e.type||!t?(n&&t&&t.appendChild(n),o.appendChild(e)):(e.style.width="auto",t.insertBefore(e,t.firstChild),n&&t.appendChild(n)),"div"!==e.tagName.toLowerCase()&&e&&t&&i&&(t.setAttribute("for",i),e.setAttribute("id",i)),"div"!==e.tagName.toLowerCase()&&e&&r&&(r.setAttribute("id",i+"-description"),e.setAttribute("aria-describedby",i+"-description")),r&&o.appendChild(r),o}},{key:"getFormControl",value:function(t,e,r,n,i){var o=this;if(e instanceof OO.ui.Widget){var s=$(t).text()||"";if(!s)return e;var u=a({label:s,align:e.$input&&"checkbox"===e.$input[0].type?"left":"top",helpInline:!0,help:new OO.ui.HtmlSnippet(r||""),classes:["jsonforms-formcontrol"]},i.controlOptions.config),c=new OO.ui.FieldLayout(e,u);if(i.options.removable){c.$field.addClass("jsonforms-field-container");var l=new OO.ui.ButtonWidget({icon:"close",classes:[""]});l.on("click",(function(){var t=o.jsoneditor.editors[i.path];t.parent.restoreLazyProperty(t.key)})),c.$field.append([l.$element])}return c}return this.getFormControlOrig(t,e,r,n,this.formname)}},{key:"getFormInputLabel",value:function(t,e){var r=document.createElement("label");return r.appendChild(document.createTextNode(t)),e&&r.classList.add("required"),r}},{key:"getInputGroup",value:function(t,e){if(t){var r=document.createElement("div");r.classList.add("input-group"),r.appendChild(t);var n=document.createElement("div");n.classList.add("input-group-btn"),r.appendChild(n);for(var i=0;i<e.length;i++)n.appendChild(e[i]);return r}}},{key:"getGridRow_",value:function(){return new(nt(OO.ui.PanelLayout))({expanded:bu,scrollable:!1,framed:!1,padded:!1})}},{key:"insertTableRow",value:function(t){return t.insertRow()}},{key:"insertTableCell",value:function(t){return t.insertCell()}},{key:"getTable",value:function(){return document.createElement("table")}},{key:"getTableRow",value:function(){return document.createElement("tr")}},{key:"getTableHeader",value:function(){return document.createElement("th")}},{key:"getTableCell",value:function(){return document.createElement("td")}},{key:"getTextareaInput",value:function(t){return new(nt(OO.ui.MultilineTextInputWidget))(a({autosize:!0,rows:3},t.config))}},{key:"getFormInputField",value:function(t,e){if(!e)return console.log("getFormInputField",t),void console.warn("no editor");var r=e.inputOptions;"function"==typeof e.isRequired&&(r.config.required=e.isRequired());var n=null;switch(t){case"integer":n=OO.ui.NumberInputWidget,r.config.step=1;break;case"number":n=OO.ui.NumberInputWidget;break;case"hidden":n=OO.ui.HiddenInputWidget;break;case"boolean":n=su;break;case"datetime-local":case"date-time":case"datetime":n=mw.widgets.datetime.DateTimeInputWidget;break;case"date":n=mw.widgets.datetime.DateInputWidget;break;default:n=OO.ui.TextInputWidget}if(r.name)switch(this.normalizeInputName(r.name)){case"title":n=mw.widgets.TitleInputWidget;break;case"user":n=mw.widgets.UserInputWidget;break;case"checkbox":n=OO.ui.CheckboxInputWidget,r.config.value=!1}return new(nt(n))(r.config)}},{key:"addFieldError",value:function(t,e){var r=[];if(e&&r.push(e),!t)return console.log("text",e),void console.warn("no field");"function"==typeof t.setErrors&&t.setErrors(r)}},{key:"addInputError",value:function(t,e){if(!t)return console.warn("addInputError no input"),void console.log("text",e);var r=this.closest(t,".form-control")||t.controlgroup;if(!r)return console.log("addInputError no group"),void console.warn("input",t);t.errmsg?t.errmsg.style.display="block":(t.errmsg=document.createElement("div"),t.errmsg.setAttribute("class","errmsg"),t.errmsg.style=t.errmsg.style||{},t.errmsg.style.color="red",r.appendChild(t.errmsg)),t.errmsg.innerHTML="",t.errmsg.appendChild(document.createTextNode(e)),t.errmsg.setAttribute("role","alert")}},{key:"removeInputError",value:function(t){if(!t)return console.log("text",text),void console.warn("no input");t.style&&(t.style.borderColor=""),t.errmsg&&(t.errmsg.style.display="none")}}])&&hu(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(ru)};function wu(t){return wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(t)}function Ou(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ju(n.key),n)}}function ju(t){var e=function(t,e){if("object"!=wu(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=wu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==wu(e)?e:e+""}var ku={collapse:"",expand:"",delete:"",edit:"",add:"",cancel:"",save:"",moveup:"",movedown:""},xu=function(){return t=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ku;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.mapping=r,this.icon_prefix=e},(e=[{key:"getIconClass",value:function(t){return this.mapping[t]?this.icon_prefix+this.mapping[t]:this.icon_prefix+t}},{key:"getIcon",value:function(t){var e,r=this.getIconClass(t);if(!r)return null;var n,i=document.createElement("i");return(e=i.classList).add.apply(e,function(t){if(Array.isArray(t))return Ou(t)}(n=r.split(" "))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||function(t,e){if(t){if("string"==typeof t)return Ou(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ou(t,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i}}])&&_u(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();const Su={".table-responsive .autocomplete-result-list":"position:relative%20!important",".je-float-right-linkholder":"float:right;margin-left:10px",".je-modal":"background-color:white;border:1px%20solid%20black;box-shadow:3px%203px%20black;position:absolute;z-index:10",".je-infobutton-icon":"font-size:16px;font-weight:bold;padding:0.25rem;position:relative;display:inline-block",".je-infobutton-tooltip":"font-size:12px;font-weight:normal;font-family:sans-serif;visibility:hidden;background-color:rgba(50%2C%2050%2C%2050%2C%200.75);margin:0%200.25rem;color:%23fafafa;padding:0.5rem%201rem;border-radius:0.25rem;width:20rem;position:absolute",".je-not-loaded":"pointer-events:none",".je-header":"display:inline-block",".je-upload-preview img":"float:left;margin:0%200.5rem%200.5rem%200;max-width:100%25;max-height:5rem",".je-checkbox":"display:inline-block;width:auto",".je-checkbox-control--compact":"display:inline-block;margin-right:1rem",".je-radio":"display:inline-block;width:auto",".je-radio-control--compact":"display:inline-block;margin-right:1rem",".je-switcher":"background-color:transparent;display:inline-block;font-style:italic;font-weight:normal;height:auto;width:auto;margin-bottom:0;margin-left:5px;padding:0%200%200%203px",".je-textarea":"width:100%25;height:300px;box-sizing:border-box",".je-range-control":"text-align:center",".je-indented-panel":"padding:10px;margin:10px;border:1px%20solid%20%23ccc",".je-indented-panel--top":"padding-left:10px;margin-left:10px",".je-tabholder":"float:left;width:130px",".je-tabholder .content":"margin-left:120px",".je-tabholder--top":"margin-left:10px",".je-tabholder--clear":"clear:both",".je-tab":"border:1px%20solid%20%23ccc;border-width:1px%200%201px%201px;text-align:center;line-height:30px;border-radius:5px;border-bottom-right-radius:0;border-top-right-radius:0;font-weight:bold;cursor:pointer",".je-tab--top":"float:left;border:1px%20solid%20%23ccc;border-width:1px%201px%200px%201px;text-align:center;line-height:30px;border-radius:5px;padding-left:5px;padding-right:5px;border-bottom-right-radius:0;border-bottom-left-radius:0;font-weight:bold;cursor:pointer",".je-block-link":"display:block",".je-media":"width:100%25"};function Pu(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Eu(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Eu(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Eu(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Cu(t){var e=this;this.treeWidget=t.treeWidget,this.jsoneditor=t,this.treePages={},this.handleEvent=this.handleEvent.bind(this),t.on("change",this.handleEvent.bind(this,"jsoneditorChange")),this.theme=t.theme,this.selectedEditor=null,this.treeWidget.outlineSelectWidget.on("change",(function(t,e){})),this.treeWidget.outlineSelectWidget.on("choose",(function(t,r){var n=t.data,i=e.selectedEditor.path===n;e.selectedEditor=e.jsoneditor.editors[n],"activeIndex"in e.selectedEditor&&(e.selectedEditor=e.selectedEditor.editors[e.selectedEditor.activeIndex]),e.onChoose(t,i,n,e.selectedEditor.depth)}))}function Tu(t){return Tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tu(t)}function Au(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Iu(){Iu=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof v?e:v,a=Object.create(o.prototype),s=new T(n||[]);return i(a,"_invoke",{value:S(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",f="suspendedYield",d="executing",y="completed",m={};function v(){}function b(){}function g(){}var w={};c(w,a,(function(){return this}));var O=Object.getPrototypeOf,_=O&&O(O(A([])));_&&_!==r&&n.call(_,a)&&(w=_);var j=g.prototype=v.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==Tu(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function S(e,r,n){var i=p;return function(o,a){if(i===d)throw Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=P(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var c=h(e,r,n);if("normal"===c.type){if(i=n.done?y:f,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=y,n.method="throw",n.arg=c.arg)}}}function P(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,P(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(Tu(e)+" is not iterable")}return b.prototype=g,i(j,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:b,configurable:!0}),b.displayName=c(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},k(x.prototype),c(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new x(l(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(j),c(j,u,"Generator"),c(j,a,(function(){return this})),c(j,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;C(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Ru(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Lu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nu(n.key),n)}}function Nu(t){var e=function(t,e){if("object"!=Tu(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=Tu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Tu(e)?e:e+""}r(8980),Cu.prototype.editorHasPage=function(t){return t in this.treePages},Cu.prototype.ensureEditorsPagesConsistency=function(){var t=[];for(var e in this.treePages){var r=this.jsoneditor.editors[e];if(null===r){if(e in this.treeWidget.pages){t.push(this.treeWidget.pages[e]);var n=this.orderedPages(),i=this.findIndexByPath(n,e);this.setPage(n[i-1]),this.treePages[e]=null}}else e in this.treeWidget.pages||this.createBookletPage(r)}t.length&&this.treeWidget.removePages(t),this.redrawOutline()},Cu.prototype.orderedPages=function(){var t,e=[],r=Pu(this.treeWidget.stackLayout.getItems());try{for(r.s();!(t=r.n()).done;){var n=t.value,i=this.treeWidget.pages[n.name];i?e.push(i):console.warn("tree page ".concat(n.name," does not exist"))}}catch(t){r.e(t)}finally{r.f()}return e},Cu.prototype.onBreadCrumbsSelectPage=function(t){var e=this.treeWidget.outlineSelectWidget.items[this.findIndexByPath(this.orderedPages(),t.path)];this.setPage(t.path),this.onChoose(e,!1,t.path,t.depth)},Cu.prototype.setSelectedEditor=function(t){t.path in this.treeWidget.pages&&(this.selectedEditor=t)},Cu.prototype.openParents=function(t,e){for(var r=t[e].level,n=e-1;n>=0;n--){var i=t[n];if(i.level<r&&(i.toggle(!0),i.indicator&&(i.setIndicator("up"),i.data!==this.selectedEditor.path&&i.$element.addClass("jsonforms-outlineitem-selected")),r=i.level),0===r)break}},Cu.prototype.onChoose=function(t,e,r,n){this.computeIsLeaf(),t.toggle(!0);var i,o=!("up"===t.indicator),a=this.treeWidget.outlineSelectWidget.items,s=Pu(a);try{for(s.s();!(i=s.n()).done;){var u=i.value;this.treeWidget.pages[u.data].isLeaf?t.setIndicator(null):(u.setIndicator("down"),u.$element.removeClass("jsonforms-outlineitem-selected"))}}catch(t){s.e(t)}finally{s.f()}var c=function(t,e){for(var r=0;r<t.length;r++)if(t[r].data===e)return r;return-1}(a,r);if(-1!==c){for(var l=a.length,h=c+1;h<a.length;h++)if(a[h].level<=n){l=h;break}for(var p=0;p<a.length;p++)if(!(p>=c&&p<l)){var f=a[p];f.level<=n||f.toggle(!1)}if(this.openParents(a,c),this.treeWidget.pages[r].isLeaf)this.updateToolbarPageIndicator(c);else{if(!e){for(var d=c+1;d<l;d++)a[d].level===n+1&&a[d].toggle(!0);return t.indicator&&(t.setIndicator("up"),t.$element.removeClass("jsonforms-outlineitem-selected")),void this.updateToolbarPageIndicator(c)}if(!o)for(var y=c+1;y<l;y++){var m=a[y];m.level>n+1&&(m.toggle(!1),this.treeWidget.pages[m.data].isLeaf||(m.setIndicator("down"),m.$element.removeClass("jsonforms-outlineitem-selected")))}for(var v=c+1;v<l;v++){var b=a[v];b.level===n+1&&b.toggle(o)}t.indicator&&(t.setIndicator(o?"up":"down"),t.$element.removeClass("jsonforms-outlineitem-selected")),this.updateToolbarPageIndicator(c)}}},Cu.prototype.postBuildEvent=function(t){t.path in this.treePages&&(!0!==t.options.removable&&!1!==t.options.initial||this.setPage(t.path),t.parent&&"array"===t.parent.options.classname&&(this.theme.prepend(this.treePages[t.path].page,t.array_controls),this.theme.append(this.treePages[t.path].page,t.parent.controls)),"pageFooter"in this.treePages[t.path]||(this.treePages[t.path].pageFooter=this.theme.treeNavigationFooter(),this.theme.append(this.treePages[t.path].page,this.treePages[t.path].pageFooter)))},Cu.prototype.updateToolbarPageIndicator=function(t){if(!this.jsoneditor.options.isMetaSchema){var e=Object.values(this.treeWidget.pages).length;this.jsoneditor.toolbar.$actions.empty().append($("<span>").text("".concat(t+1," / ").concat(e)))}},Cu.prototype.changePage=function(t){var e=this.orderedPages();if(e.length){var r=this.treeWidget.outlineSelectWidget.items,n=this.treeWidget.getCurrentPage().getName(),i=this.findIndexByPath(e,n),o=r[i];this.onChoose(o,!1,n,this.selectedEditor.depth);var a=this.treeWidget.outlineSelectWidget.items,s=(e.length+i+t)%e.length;this.openParents(a,s);var u=e[s].getName();this.selectedEditor=this.jsoneditor.editors[u],o=r[s],this.treeWidget.currentPageName=null,this.treeWidget.setPage(u),this.onChoose(o,!1,u,this.selectedEditor.depth),this.updateToolbarPageIndicator(s)}},Cu.prototype.computeIsLeaf=function(){var t=this.orderedPages();function e(e){var r=e.name+".";return!t.some((function(t){return t!==e&&"string"==typeof t.name&&t.name.startsWith(r)}))}var r,n=Pu(t);try{for(n.s();!(r=n.n()).done;){var i=r.value;i.isLeaf=e(i)}}catch(t){n.e(t)}finally{n.f()}},Cu.prototype.findIndexByPath=function(t,e){return t.findIndex((function(t){return t.name===e}))},Cu.prototype.findInsertIndexAtLevel=function(t,e,r){for(var n=e+1;n<t.length;n++)if(t[n].level<r)return n;return t.length},Cu.prototype.createBookletPage=function(t){var e,r;if(this.treePages[t.path])e=this.treePages[t.path].page;else{e=this.theme.createTreePage({path:t.path,key:t.getTitle()||t.key,depth:t.depth});var n=this.theme.getChildEditorHolder();this.treePages[t.path]={page:e,container:n},this.theme.append(n,this.theme.createBreadCrumbs(t))}if(t.parent&&this.jsoneditor.editors){var i=this.orderedPages(),o=this.findIndexByPath(i,t.parent.path);r=this.findInsertIndexAtLevel(i,o,t.depth)}this.treeWidget.addPages([e],r)},Cu.prototype.createTreePage=function(t,e){if(!this.treePages[t.path])return!(t.parent&&"table"===t.parent.options.classname||t.parent&&!0===t.parent.disableTree||(function(t,e){for(var r=t.parent;r;){if(e(r))return r;r=r.parent}return null}(t,(function(t){return"array"===t.schema.type&&t.isTabsLayout()}))?(t.disableTree=!0,1):(Q(this.jsoneditor.expandSchema,t.schema).every(t.isPrimitive.bind(this))||(this.createBookletPage(t),this.theme.append(this.treePages[t.path].container,e.container),e.container=this.treePages[t.path].container,this.theme.append(this.treePages[t.path].page,this.treePages[t.path].container)),0)))},Cu.prototype.setPage=function(t){t in this.jsoneditor.editors?(this.setSelectedEditor(this.jsoneditor.editors[t]),this.jsoneditor.treeWidget.setPage(t)):console.warn("TreeManager.setPage path ".concat(t," does not exist"))},Cu.prototype.handleEvent=function(t){for(var e=this,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];switch(t){case"jsoneditorBuildComplete":this.attachFooterNavigation.apply(this,n);break;case"editorConstructor":this.createTreePage.apply(this,n);break;case"objectAdded":n[0];break;case"breadCrumbsSelectPage":this.onBreadCrumbsSelectPage.apply(this,n);break;case"toolbarChangePage":this.changePage.apply(this,n);break;case"postBuildEditor":this.postBuildEvent.apply(this,n);break;case"switchEditor":break;case"jsoneditorChange":clearTimeout(this._consistencyTimer),this._consistencyTimer=setTimeout((function(){e.ensureEditorsPagesConsistency.apply(e,n)}),0)}},Cu.prototype.attachFooterNavigation=function(){for(var t=this,e=this.orderedPages(),r=e.length,n=function(){var n=e[i],o=t.treePages[n.name].pageFooter;o.empty();var a={};if(i>0){var s=e[i-1],u=t.jsoneditor.editors[s.name];a.left={label:null==u?void 0:u.getTitle(),onClick:function(){return t.openPage(s.name)}}}if(i<r-1){var c=e[i+1],l=t.jsoneditor.editors[c.name];a.right={label:null==l?void 0:l.getTitle(),onClick:function(){return t.openPage(c.name)}}}Object.keys(a).length?(t.theme.toggle(o,!0),t.theme.treeNavigationFooterButtons(o,a)):t.theme.toggle(o,!1)},i=0;i<r;i++)n()},Cu.prototype.openPage=function(t){var e=this.treeWidget.outlineSelectWidget.items.find((function(e){return e.data===t}));e&&(this.treeWidget.setPage(t),this.onChoose(e,!1,t,e.level))},Cu.prototype.redrawOutline=function(t){var e=this.orderedPages();if(e.length){this.treeWidget.getCurrentPage()||this.setPage("root");var r=this.treeWidget.outlineSelectWidget.items,n=this.treeWidget.getCurrentPage().getName(),i=r[this.findIndexByPath(e,n)],o=this.selectedEditor.path;this.onChoose(i,!1,o,this.selectedEditor.depth)}};var Bu=function(){function t(e){var r,n,i,o,s=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!(e instanceof Element))throw new Error("element should be an instance of Element");this.element=e,this.options=a({},t.defaults.options,c),this.ready=!1,this.copyClipboard=null,this.options.initialPath?this.schema=(r=this.options.schema,n=this.options.initialPath,i=function(t,e){var r=e.split(".");if(!t||!t.properties||0===r.length)return{};for(var n={type:"object",properties:{}},i=n,o=t,a=0;a<r.length;a++){var s=r[a];if(!o.properties||!o.properties[s])throw new Error('Path "'.concat(e,'" does not exist in schema'));var u=o.properties[s];a===r.length-1?i.properties[s]=u:(i.properties[s]={type:"object",properties:{}},i=i.properties[s],o=u)}return n}(r,n),o=new Set,function t(e){if(e&&"object"===z(e)){if(e.$ref&&"string"==typeof e.$ref){var r=e.$ref.match(/^#\/definitions\/(.+)$/);r&&o.add(r[1])}for(var n in e)t(e[n])}}(i),r.definitions&&(i.definitions={},o.forEach((function(t){r.definitions[t]&&(i.definitions[t]=r.definitions[t])}))),i):this.schema=this.options.schema,this.original_schema=JSON.parse(JSON.stringify(this.options.schema)),this.uiSchema=this.options.uiSchema,this.template=this.options.template,this.translate=this.options.translate||t.defaults.translate,this.translateProperty=this.options.translateProperty||t.defaults.translateProperty,this.uuid=0,this.__data={};var l=this.options.theme||t.defaults.theme,h=t.defaults.themes[l];if(!h)throw new Error("Unknown theme ".concat(l));this.element.setAttribute("data-theme",l),this.element.classList.add("je-not-loaded"),this.element.classList.remove("je-ready"),this.theme=new h(this);var p=a(Su,this.getEditorsRules()),f=function(t,e,r){return r?s.addNewStyleRulesToShadowRoot(t,e,r):s.addNewStyleRules(t,e)};if(!this.theme.options.disable_theme_rules){var d=u(this.element);f("default",p,d),void 0!==h.rules&&f(l,h.rules,d)}var y=t.defaults.iconlibs[this.options.iconlib||t.defaults.iconlib];y&&(this.iconlib=new y),this.root_container=this.theme.getContainer(),this.theme.append(this.element,this.root_container),this.promise=this.load()}return e=t,r=[{key:"load",value:(n=Iu().mark((function e(){var r,n,i,o,a,s,u,c,l,h,p,f,d,y=this;return Iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.location.origin+document.location.pathname.toString(),(i=new Ys(this.options)).onSchemaLoaded=function(t){y.trigger("schemaLoaded",t)},i.onAllSchemasLoaded=function(){y.trigger("allSchemasLoaded")},this.expandSchema=function(t){return i.expandSchema(t)},this.expandRefs=function(t,e){return i.expandRefs(t,e)},o=document.location.toString(),e.next=9,i.load(this.schema,n,o);case 9:a=e.sent,s="paged"===(null===(r=a.options)||void 0===r||null===(r=r.layout)||void 0===r?void 0:r.name),u=this,s&&(this.treeWidget=this.theme.createTreeWidget((null===(c=this.schema.options)||void 0===c||null===(c=c.layout)||void 0===c?void 0:c.config)||{}),this.theme.prepend(this.element,this.treeWidget),l=[{name:"toggle_bookmarks",icon:"eye",title:"toggle bookmarks",onSelect:function(){u.treeWidget.toggleOutline(),this.setActive(!1)}},{name:"previous_page",icon:"arrowPrevious",title:"previous",onSelect:function(){u.treeManager.handleEvent("toolbarChangePage",-1),this.setActive(!1)}},{name:"next_page",icon:"arrowNext",title:"next",onSelect:function(){u.treeManager.handleEvent("toolbarChangePage",1),this.setActive(!1)}}],this.toolbar=tt({actions:!0}).create(l),this.theme.prepend(this.element,this.toolbar.$element),this.treeManager=new Cu(this)),h=this.options.custom_validators?{custom_validators:this.options.custom_validators}:{},this.validator=new Wn(this,null,h,t.defaults),this.pendingPostBuild=0,p=this.getEditorClass(a),f=p.classname,d=p.editorClass,this.root=this.createEditor(d,{jsoneditor:this,schema:a,required:!0,container:this.root_container,startval:this.options.startval,classname:f}),this.root.preBuild(),this.root.build(),this.root.postBuild(),this.validation_results=this.validator.validate(this.root.getValue()),this.root.showValidationErrors(this.validation_results),this.ready=!0,this.element.classList.remove("je-not-loaded"),this.element.classList.add("je-ready"),window.requestAnimationFrame((function(){y.ready&&(y.validation_results=y.validator.validate(y.root.getValue()),y.root.showValidationErrors(y.validation_results),y.trigger("ready"),y.trigger("change"))}));case 27:case"end":return e.stop()}}),e,this)})),i=function(){var t=this,e=arguments;return new Promise((function(r,i){var o=n.apply(t,e);function a(t){Ru(o,r,i,a,s,"next",t)}function s(t){Ru(o,r,i,a,s,"throw",t)}a(void 0)}))},function(){return i.apply(this,arguments)})},{key:"onBuildComplete",value:function(){this.treeManager&&this.treeManager.handleEvent("jsoneditorBuildComplete")}},{key:"getValue",value:function(){if(!this.ready)throw new Error("JSON Editor not ready yet. Make sure the load method is complete");return this.root.getValue()}},{key:"setValue",value:function(t){if(!this.ready)throw new Error("JSON Editor not ready yet. Make sure the load method is complete");return this.root.setValue(t),this}},{key:"validate",value:function(t){if(!this.ready)throw new Error("JSON Editor not ready yet. Make sure the load method is complete");return 1===arguments.length?this.validator.validate(t):this.validation_results}},{key:"destroy",value:function(){this.destroyed||this.ready&&(this.schema=null,this.options=null,this.root.destroy(),this.root=null,this.root_container=null,this.validator=null,this.validation_results=null,this.theme=null,this.iconlib=null,this.template=null,this.__data=null,this.ready=!1,this.element.innerHTML="",this.element.removeAttribute("data-theme"),this.destroyed=!0)}},{key:"on",value:function(t,e){return this.callbacks=this.callbacks||{},this.callbacks[t]=this.callbacks[t]||[],this.callbacks[t].push(e),this}},{key:"off",value:function(t,e){if(t&&e){this.callbacks=this.callbacks||{},this.callbacks[t]=this.callbacks[t]||[];for(var r=[],n=0;n<this.callbacks[t].length;n++)this.callbacks[t][n]!==e&&r.push(this.callbacks[t][n]);this.callbacks[t]=r}else t?(this.callbacks=this.callbacks||{},this.callbacks[t]=[]):this.callbacks={};return this}},{key:"trigger",value:function(t,e){if(this.callbacks&&this.callbacks[t]&&this.callbacks[t].length)for(var r=0;r<this.callbacks[t].length;r++)this.callbacks[t][r].apply(this,[e]);return this}},{key:"setOption",value:function(t,e){if("show_errors"!==t)throw new Error("Option ".concat(t," must be set during instantiation and cannot be changed later"));return this.options.show_errors=e,this.onChange(),this}},{key:"getEditorsRules",value:function(){return Object.values(t.defaults.editors).reduce((function(t,e){return e.rules?a(t,e.rules):t}),{})}},{key:"getEditorClass",value:function(e){var r,n=this;if(e=this.expandSchema(e),t.defaults.resolvers.find((function(i){return(r=i(e,n))&&t.defaults.editors[r]})),!r)throw new Error("Unknown editor for schema ".concat(JSON.stringify(e)));if(!t.defaults.editors[r])throw new Error("Unknown editor ".concat(r));if("function"!=typeof t.defaults.editors[r])throw new Error("Editor ".concat(r," is not a constructor"));return{classname:r,editorClass:t.defaults.editors[r]}}},{key:"createEditor",value:function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return new e(r=a({},e.options||{},r),t.defaults,n)}},{key:"onChange",value:function(t){var e=this;if(this.ready&&(t&&this.trigger(t.event,t.data),!this.firing_change))return this.firing_change=!0,window.requestAnimationFrame((function(){if(e.firing_change=!1,e.ready){var t=e.root.getValue();e.validation_results=e.validator.validate(t),"never"!==e.options.show_errors?e.root.showValidationErrors(e.validation_results):e.root.showValidationErrors([]),e.trigger("change")}})),this}},{key:"compileTemplate",value:function(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.defaults.template;if("string"==typeof n){if(!t.defaults.templates[n])throw new Error("Unknown template engine ".concat(n));if(!(r=t.defaults.templates[n]()))throw new Error("Template engine ".concat(n," missing required library."))}else r=n;if(!r)throw new Error("No template engine set");if(!r.compile)throw new Error("Invalid template engine set");return r.compile(e)}},{key:"_data",value:function(t,e,r){if(3!==arguments.length)return t.hasAttribute("data-jsoneditor-".concat(e))?this.__data[t.getAttribute("data-jsoneditor-".concat(e))]:null;var n;t.hasAttribute("data-jsoneditor-".concat(e))?n=t.getAttribute("data-jsoneditor-".concat(e)):(n=this.uuid++,t.setAttribute("data-jsoneditor-".concat(e),n)),this.__data[n]=r}},{key:"registerEditor",value:function(t){return this.editors=this.editors||{},this.editors[t.path]=t,this}},{key:"unregisterEditor",value:function(t){return this.editors=this.editors||{},this.editors[t.path]=null,this}},{key:"getEditor",value:function(t){if(this.editors)return this.editors[t]}},{key:"watch",value:function(t,e){return this.watchlist=this.watchlist||{},this.watchlist[t]=this.watchlist[t]||[],this.watchlist[t].push(e),this}},{key:"unwatch",value:function(t,e){if(!this.watchlist||!this.watchlist[t])return this;if(!e)return this.watchlist[t]=null,this;for(var r=[],n=0;n<this.watchlist[t].length;n++)this.watchlist[t][n]!==e&&r.push(this.watchlist[t][n]);return this.watchlist[t]=r.length?r:null,this}},{key:"notifyWatchers",value:function(t){if(!this.watchlist||!this.watchlist[t])return this;for(var e=0;e<this.watchlist[t].length;e++)this.watchlist[t][e]()}},{key:"isEnabled",value:function(){return!this.root||this.root.isEnabled()}},{key:"enable",value:function(){this.root.enable()}},{key:"disable",value:function(){this.root.disable()}},{key:"setCopyClipboardContents",value:function(t){this.copyClipboard=t}},{key:"getCopyClipboardContents",value:function(){return this.copyClipboard}},{key:"addNewStyleRules",value:function(t,e){var r=document.querySelector("#theme-".concat(t));r||((r=document.createElement("style")).setAttribute("id","theme-".concat(t)),r.appendChild(document.createTextNode("")),document.head.appendChild(r));for(var n=r.sheet?r.sheet:r.styleSheet,i=this.element.nodeName.toLowerCase();n.cssRules.length>0;)n.deleteRule(0);Object.keys(e).forEach((function(r){var o="default"===t?r:"".concat(i,'[data-theme="').concat(t,'"] ').concat(r);n.insertRule?n.insertRule(o+" {"+decodeURIComponent(e[r])+"}",0):n.addRule&&n.addRule(o,decodeURIComponent(e[r]),0)}))}},{key:"addNewStyleRulesToShadowRoot",value:function(t,e,r){var n=this.element.nodeName.toLowerCase(),i="";Object.keys(e).forEach((function(r){var o="default"===t?r:"".concat(n,'[data-theme="').concat(t,'"] ').concat(r);i+=o+" {"+decodeURIComponent(e[r])+"}\n"}));var o,a=new CSSStyleSheet;a.replaceSync(i),r.adoptedStyleSheets=[].concat(function(t){if(Array.isArray(t))return Au(t)}(o=r.adoptedStyleSheets)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(o)||function(t,e){if(t){if("string"==typeof t)return Au(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Au(t,e):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[a])}},{key:"showValidationErrors",value:function(t){var e=null!=t?t:this.validate();Object.values(this.editors).forEach((function(t){t&&(t.is_dirty=!0,t.showValidationErrors(e))}))}}],r&&Lu(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n,i}();Bu.defaults=$s,Bu.AbstractEditor=b,Bu.AbstractTheme=ru,Bu.AbstractIconLib=xu,Object.assign(Bu.defaults.themes,gu),Object.assign(Bu.defaults.editors,Bs),Object.assign(Bu.defaults.templates,Ks),Object.assign(Bu.defaults.iconlibs,{})})(),n})()));